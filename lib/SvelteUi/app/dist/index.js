(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=l(i);fetch(i.href,o)}})();function ne(){}function xt(t,e){for(const l in e)t[l]=e[l];return t}function ec(t){return t()}function Or(){return Object.create(null)}function Be(t){t.forEach(ec)}function co(t){return typeof t=="function"}function we(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let vs;function Xc(t,e){return vs||(vs=document.createElement("a")),vs.href=e,t===vs.href}function Zc(t){return Object.keys(t).length===0}function mo(t,...e){if(t==null)return ne;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function ri(t){let e;return mo(t,l=>e=l)(),e}function al(t,e,l){t.$$.on_destroy.push(mo(e,l))}function po(t,e,l,n){if(t){const i=tc(t,e,l,n);return t[0](i)}}function tc(t,e,l,n){return t[1]&&n?xt(l.ctx.slice(),t[1](n(e))):l.ctx}function _o(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],r=Math.max(e.dirty.length,i.length);for(let a=0;a<r;a+=1)o[a]=e.dirty[a]|i[a];return o}return e.dirty|i}return e.dirty}function vo(t,e,l,n,i,o){if(i){const r=tc(e,l,n,o);t.p(r,i)}}function ho(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function ws(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function ys(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const Jc=["",!0,1,"true","contenteditable"];function s(t,e){t.appendChild(e)}function w(t,e,l){t.insertBefore(e,l||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function cl(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function m(t){return document.createElement(t)}function Oe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function h(){return y(" ")}function Ke(){return y("")}function K(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Ms(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const xc=["width","height"];function ai(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&xc.indexOf(n)===-1?t[n]=e[n]:u(t,n,e[n])}function fe(t){return t===""?null:+t}function e1(t){return Array.from(t.childNodes)}function W(t,e){e=""+e,t.data!==e&&(t.data=e)}function t1(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function l1(t,e,l){~Jc.indexOf(l)?t1(t,e):W(t,e)}function V(t,e){t.value=e??""}function lc(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function qe(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function _t(t){const e=t.querySelector(":checked");return e&&e.__value}let hs;function n1(){if(hs===void 0){hs=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{hs=!0}}return hs}function i1(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=m("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=n1();let o;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=K(window,"message",r=>{r.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{o=K(n.contentWindow,"resize",e),e()}),s(t,n),()=>{(i||o&&n.contentWindow)&&o(),k(n)}}function s1(t,e,{bubbles:l=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,l,n,e),i}function qr(t,e){return new t(e)}let Si;function Ci(t){Si=t}function Mi(){if(!Si)throw new Error("Function called outside component initialization");return Si}function o1(t){Mi().$$.on_mount.push(t)}function u1(t){Mi().$$.on_destroy.push(t)}function r1(){const t=Mi();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=s1(e,l,{cancelable:n});return i.slice().forEach(r=>{r.call(t,o)}),!o.defaultPrevented}return!0}}function Ti(t,e){return Mi().$$.context.set(t,e),e}function Ul(t){return Mi().$$.context.get(t)}const ii=[],$s=[];let si=[];const Ur=[],nc=Promise.resolve();let xs=!1;function ic(){xs||(xs=!0,nc.then(sc))}function a1(){return ic(),nc}function tt(t){si.push(t)}const Ks=new Set;let li=0;function sc(){if(li!==0)return;const t=Si;do{try{for(;li<ii.length;){const e=ii[li];li++,Ci(e),f1(e.$$)}}catch(e){throw ii.length=0,li=0,e}for(Ci(null),ii.length=0,li=0;$s.length;)$s.pop()();for(let e=0;e<si.length;e+=1){const l=si[e];Ks.has(l)||(Ks.add(l),l())}si.length=0}while(ii.length);for(;Ur.length;)Ur.pop()();xs=!1,Ks.clear(),Ci(t)}function f1(t){if(t.fragment!==null){t.update(),Be(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(tt)}}function c1(t){const e=[],l=[];si.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),si=e}const ks=new Set;let un;function Ae(){un={r:0,c:[],p:un}}function Ee(){un.r||Be(un.c),un=un.p}function P(t,e){t&&t.i&&(ks.delete(t),t.i(e))}function I(t,e,l,n){if(t&&t.o){if(ks.has(t))return;ks.add(t),un.c.push(()=>{ks.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function oc(t,e){const l={},n={},i={$$scope:1};let o=t.length;for(;o--;){const r=t[o],a=e[o];if(a){for(const c in r)c in a||(n[c]=1);for(const c in a)i[c]||(l[c]=a[c],i[c]=1);t[o]=a}else for(const c in r)i[c]=1}for(const r in n)r in l||(l[r]=void 0);return l}function Hr(t){return typeof t=="object"&&t!==null?t:{}}function Z(t){t&&t.c()}function Q(t,e,l,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,l),n||tt(()=>{const r=t.$$.on_mount.map(ec).filter(co);t.$$.on_destroy?t.$$.on_destroy.push(...r):Be(r),t.$$.on_mount=[]}),o.forEach(tt)}function X(t,e){const l=t.$$;l.fragment!==null&&(c1(l.after_update),Be(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function m1(t,e){t.$$.dirty[0]===-1&&(ii.push(t),ic(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Se(t,e,l,n,i,o,r,a=[-1]){const c=Si;Ci(t);const f=t.$$={fragment:null,ctx:[],props:o,update:ne,not_equal:i,bound:Or(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Or(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};r&&r(f.root);let p=!1;if(f.ctx=l?l(t,e.props||{},(_,b,...d)=>{const v=d.length?d[0]:b;return f.ctx&&i(f.ctx[_],f.ctx[_]=v)&&(!f.skip_bound&&f.bound[_]&&f.bound[_](v),p&&m1(t,_)),b}):[],f.update(),p=!0,Be(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const _=e1(e.target);f.fragment&&f.fragment.l(_),_.forEach(k)}else f.fragment&&f.fragment.c();e.intro&&P(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),sc()}Ci(c)}class Me{$destroy(){X(this,1),this.$destroy=ne}$on(e,l){if(!co(l))return ne;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Zc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const jr=t=>typeof t>"u",uc=t=>typeof t=="function",rc=t=>typeof t=="number";function p1(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ac(){let t=0;return()=>t++}function _1(){return Math.random().toString(36).substring(2)}const Hl=typeof window>"u";function fc(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const cc=(t,e)=>t?{}:{style:e},eo=t=>({"aria-hidden":"true",...cc(t,"display:none;")}),ni=[];function mc(t,e){return{subscribe:rt(t,e).subscribe}}function rt(t,e=ne){let l;const n=new Set;function i(a){if(we(t,a)&&(t=a,l)){const c=!ni.length;for(const f of n)f[1](),ni.push(f,t);if(c){for(let f=0;f<ni.length;f+=2)ni[f][0](ni[f+1]);ni.length=0}}}function o(a){i(a(t))}function r(a,c=ne){const f=[a,c];return n.add(f),n.size===1&&(l=e(i)||ne),a(t),()=>{n.delete(f),n.size===0&&l&&(l(),l=null)}}return{set:i,update:o,subscribe:r}}function d1(t,e,l){const n=!Array.isArray(t),i=n?[t]:t,o=e.length<2;return mc(l,r=>{let a=!1;const c=[];let f=0,p=ne;const _=()=>{if(f)return;p();const d=e(n?c[0]:c,r);o?r(d):p=co(d)?d:ne},b=i.map((d,v)=>mo(d,g=>{c[v]=g,f&=~(1<<v),a&&_()},()=>{f|=1<<v}));return a=!0,_(),function(){Be(b),p(),a=!1}})}const Pi=t=>`@@svnav-ctx__${t}`,to=Pi("LOCATION"),fi=Pi("ROUTER"),pc=Pi("ROUTE"),v1=Pi("ROUTE_PARAMS"),h1=Pi("FOCUS_ELEM"),_c=/^:(.+)/,wi=(t,e,l)=>t.substr(e,l),lo=(t,e)=>wi(t,0,e.length)===e,b1=t=>t==="",g1=t=>_c.test(t),dc=t=>t[0]==="*",k1=t=>t.replace(/\*.*$/,""),vc=t=>t.replace(/(^\/+|\/+$)/g,"");function ml(t,e=!1){const l=vc(t).split("/");return e?l.filter(Boolean):l}const Vs=(t,e)=>t+(e?`?${e}`:""),bo=t=>`/${vc(t)}`;function Ni(...t){const e=n=>ml(n,!0).join("/"),l=t.map(e).join("/");return bo(l)}const go=1,Ps=2,mn=3,w1=4,hc=5,y1=6,bc=7,$1=8,C1=9,gc=10,kc=11,T1={[go]:"Link",[Ps]:"Route",[mn]:"Router",[w1]:"useFocus",[hc]:"useLocation",[y1]:"useMatch",[bc]:"useNavigate",[$1]:"useParams",[C1]:"useResolvable",[gc]:"useResolve",[kc]:"navigate"},ko=t=>T1[t];function S1(t,e){let l;return t===Ps?l=e.path?`path="${e.path}"`:"default":t===go?l=`to="${e.to}"`:t===mn&&(l=`basepath="${e.basepath||""}"`),`<${ko(t)} ${l||""} />`}function M1(t,e,l,n){const i=l&&S1(n||t,l),o=i?`

Occurred in: ${i}`:"",r=ko(t),a=uc(e)?e(r):e;return`<${r}> ${a}${o}`}const wc=t=>(...e)=>t(M1(...e)),yc=wc(t=>{throw new Error(t)}),Cs=wc(console.warn),Wr=4,P1=3,N1=2,D1=1,A1=1;function E1(t,e){const l=t.default?0:ml(t.fullPath).reduce((n,i)=>{let o=n;return o+=Wr,b1(i)?o+=A1:g1(i)?o+=N1:dc(i)?o-=Wr+D1:o+=P1,o},0);return{route:t,score:l,index:e}}function I1(t){return t.map(E1).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function $c(t,e){let l,n;const[i]=e.split("?"),o=ml(i),r=o[0]==="",a=I1(t);for(let c=0,f=a.length;c<f;c++){const{route:p}=a[c];let _=!1;const b={},d=C=>({...p,params:b,uri:C});if(p.default){n=d(e);continue}const v=ml(p.fullPath),g=Math.max(o.length,v.length);let T=0;for(;T<g;T++){const C=v[T],$=o[T];if(!jr(C)&&dc(C)){const F=C==="*"?"*":C.slice(1);b[F]=o.slice(T).map(decodeURIComponent).join("/");break}if(jr($)){_=!0;break}const M=_c.exec(C);if(M&&!r){const F=decodeURIComponent($);b[M[1]]=F}else if(C!==$){_=!0;break}}if(!_){l=d(Ni(...o.slice(0,T)));break}}return l||n||null}function Cc(t,e){return $c([t],e)}function F1(t,e){if(lo(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),o=ml(l),r=ml(i);if(o[0]==="")return Vs(i,n);if(!lo(o[0],".")){const f=r.concat(o).join("/");return Vs((i==="/"?"":"/")+f,n)}const a=r.concat(o),c=[];return a.forEach(f=>{f===".."?c.pop():f!=="."&&c.push(f)}),Vs(`/${c.join("/")}`,n)}function Gr(t,e){const{pathname:l,hash:n="",search:i="",state:o}=t,r=ml(e,!0),a=ml(l,!0);for(;r.length;)r[0]!==a[0]&&yc(mn,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),r.shift(),a.shift();return{pathname:Ni(...a),hash:n,search:i,state:o}}const Br=t=>t.length===1?"":t,wo=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,o=i?Br(wi(t,l)):"",r=i?wi(t,0,l):t,a=n?Br(wi(r,e)):"";return{pathname:(n?wi(r,0,e):r)||"/",search:a,hash:o}},R1=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function L1(t,e,l){return Ni(l,F1(t,e))}function O1(t,e){const l=bo(k1(t)),n=ml(l,!0),i=ml(e,!0).slice(0,n.length),o=Cc({fullPath:l},Ni(...i));return o&&o.uri}const Qs="POP",q1="PUSH",U1="REPLACE";function Xs(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function H1(t){let e=[],l=Xs(t),n=Qs;const i=(o=e)=>o.forEach(r=>r({location:l,action:n}));return{get location(){return l},listen(o){e.push(o);const r=()=>{l=Xs(t),n=Qs,i([o])};i([o]);const a=fc(t,"popstate",r);return()=>{a(),e=e.filter(c=>c!==o)}},navigate(o,r){const{state:a={},replace:c=!1}=r||{};if(n=c?U1:q1,rc(o))r&&Cs(kc,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Qs,t.history.go(o);else{const f={...a,_key:_1()};try{t.history[c?"replaceState":"pushState"](f,"",o)}catch{t.location[c?"replace":"assign"](o)}}l=Xs(t),i()}}}function Zs(t,e){return{...wo(e),state:t}}function j1(t="/"){let e=0,l=[Zs(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,o){e++,l=l.slice(0,e),l.push(Zs(n,o))},replaceState(n,i,o){l[e]=Zs(n,o)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const W1=!!(!Hl&&window.document&&window.document.createElement),G1=!Hl&&window.location.origin==="null",Tc=H1(W1&&!G1?window:j1()),{navigate:oi}=Tc;let Sl=null,Sc=!0;function B1(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],o=Number(i.dataset.svnavRouter);if(o===t)return!0;if(o===e)return!1}return!1}function z1(t){(!Sl||t.level>Sl.level||t.level===Sl.level&&B1(t.routerId,Sl.routerId))&&(Sl=t)}function Y1(){Sl=null}function K1(){Sc=!1}function zr(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=fc(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function V1(t,e){return Number(t.dataset.svnavRouteEnd)===e}function Q1(t){return/^H[1-6]$/i.test(t.tagName)}function Yr(t,e=document){return e.querySelector(t)}function X1(t){let l=Yr(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!V1(l,t);){if(Q1(l))return l;const n=Yr("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function Z1(t){Promise.resolve(ri(t.focusElement)).then(e=>{const l=e||X1(t.id);l||Cs(mn,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,Ps),!zr(l)&&zr(document.documentElement)})}const J1=(t,e,l)=>(n,i)=>a1().then(()=>{if(!Sl||Sc){K1();return}if(n&&Z1(Sl.route),t.announcements&&i){const{path:o,fullPath:r,meta:a,params:c,uri:f}=Sl.route,p=t.createAnnouncement({path:o,fullPath:r,meta:a,params:c,uri:f},ri(l));Promise.resolve(p).then(_=>{e.set(_)})}Y1()}),x1="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function em(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},cc(t[6],x1)],i={};for(let o=0;o<n.length;o+=1)i=xt(i,n[o]);return{c(){e=m("div"),l=y(t[0]),ai(e,i)},m(o,r){w(o,e,r),s(e,l)},p(o,r){r[0]&1&&l1(l,o[0],i.contenteditable)},d(o){o&&k(e)}}}function tm(t){let e,l,n,i,o,r=[eo(t[6]),{"data-svnav-router":t[3]}],a={};for(let _=0;_<r.length;_+=1)a=xt(a,r[_]);const c=t[22].default,f=po(c,t,t[21],null);let p=t[2]&&t[4]&&t[1].announcements&&em(t);return{c(){e=m("div"),l=h(),f&&f.c(),n=h(),p&&p.c(),i=Ke(),ai(e,a)},m(_,b){w(_,e,b),w(_,l,b),f&&f.m(_,b),w(_,n,b),p&&p.m(_,b),w(_,i,b),o=!0},p(_,b){f&&f.p&&(!o||b[0]&2097152)&&vo(f,c,_,_[21],o?_o(c,_[21],b,null):ho(_[21]),null),_[2]&&_[4]&&_[1].announcements&&p.p(_,b)},i(_){o||(P(f,_),o=!0)},o(_){I(f,_),o=!1},d(_){_&&k(e),_&&k(l),f&&f.d(_),_&&k(n),p&&p.d(_),_&&k(i)}}}const lm=ac(),Kr="/";function nm(t,e,l){let n,i,o,r,a,{$$slots:c={},$$scope:f}=e,{basepath:p=Kr}=e,{url:_=null}=e,{history:b=Tc}=e,{primary:d=!0}=e,{a11y:v={}}=e,{disableInlineStyles:g=!1}=e;const T={createAnnouncement:le=>`Navigated to ${le.uri}`,announcements:!0,...v},C=p,$=bo(p),M=Ul(to),F=Ul(fi),S=!M,D=lm(),A=d&&!(F&&!F.manageFocus),E=rt("");al(t,E,le=>l(0,a=le));const Y=F?F.disableInlineStyles:g,R=rt([]);al(t,R,le=>l(20,r=le));const U=rt(null);al(t,U,le=>l(18,i=le));let H=!1;const z=S?0:F.level+1,L=S?rt((()=>Gr(Hl?wo(_):b.location,$))()):M;al(t,L,le=>l(17,n=le));const B=rt(n);al(t,B,le=>l(19,o=le));const O=J1(T,E,L),j=le=>pe=>pe.filter(ie=>ie.id!==le);function G(le){if(Hl){if(H)return;const pe=Cc(le,n.pathname);if(pe)return H=!0,pe}else R.update(pe=>{const ie=j(le.id)(pe);return ie.push(le),ie})}function te(le){R.update(j(le))}return!S&&p!==Kr&&Cs(mn,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:p}),S&&(o1(()=>b.listen(pe=>{const ie=Gr(pe.location,$);B.set(n),L.set(ie)})),Ti(to,L)),Ti(fi,{activeRoute:U,registerRoute:G,unregisterRoute:te,manageFocus:A,level:z,id:D,history:S?b:F.history,basepath:S?$:F.basepath,disableInlineStyles:Y}),t.$$set=le=>{"basepath"in le&&l(11,p=le.basepath),"url"in le&&l(12,_=le.url),"history"in le&&l(13,b=le.history),"primary"in le&&l(14,d=le.primary),"a11y"in le&&l(15,v=le.a11y),"disableInlineStyles"in le&&l(16,g=le.disableInlineStyles),"$$scope"in le&&l(21,f=le.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&p!==C&&Cs(mn,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const le=$c(r,n.pathname);U.set(le)}if(t.$$.dirty[0]&655360&&S){const le=!!n.hash,pe=!le&&A,ie=!le||n.pathname!==o.pathname;O(pe,ie)}t.$$.dirty[0]&262144&&A&&i&&i.primary&&z1({level:z,routerId:D,route:i})},[a,T,S,D,A,E,Y,R,U,L,B,p,_,b,d,v,g,n,i,o,r,f,c]}class im extends Me{constructor(e){super(),Se(this,e,nm,tm,we,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Mc=im;function Di(t,e,l=fi,n=mn){Ul(l)||yc(t,o=>`You cannot use ${o} outside of a ${ko(n)}.`,e)}const sm=t=>{const{subscribe:e}=Ul(t);return{subscribe:e}};function Pc(){return Di(hc),sm(to)}function Nc(){const{history:t}=Ul(fi);return t}function Dc(){const t=Ul(pc);return t?d1(t,e=>e.base):rt("/")}function Ac(){Di(gc);const t=Dc(),{basepath:e}=Ul(fi);return n=>L1(n,ri(t),e)}function om(){Di(bc);const t=Ac(),{navigate:e}=Nc();return(n,i)=>{const o=rc(n)?n:t(n);return e(o,i)}}const um=t=>({params:t&16,location:t&8}),Vr=t=>({params:Hl?ri(t[10]):t[4],location:t[3],navigate:t[11]});function Qr(t){let e,l;return e=new Mc({props:{primary:t[1],$$slots:{default:[fm]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&2&&(o.primary=n[1]),i&528409&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function rm(t){let e;const l=t[18].default,n=po(l,t,t[19],Vr);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&524312)&&vo(n,l,i,i[19],e?_o(l,i[19],o,um):ho(i[19]),Vr)},i(i){e||(P(n,i),e=!0)},o(i){I(n,i),e=!1},d(i){n&&n.d(i)}}}function am(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},Hl?ri(t[10]):t[4],t[12]];var o=t[0];function r(a){let c={};for(let f=0;f<i.length;f+=1)c=xt(c,i[f]);return{props:c}}return o&&(e=qr(o,r())),{c(){e&&Z(e.$$.fragment),l=Ke()},m(a,c){e&&Q(e,a,c),w(a,l,c),n=!0},p(a,c){const f=c&7192?oc(i,[c&8&&{location:a[3]},c&2048&&{navigate:a[11]},c&1040&&Hr(Hl?ri(a[10]):a[4]),c&4096&&Hr(a[12])]):{};if(c&1&&o!==(o=a[0])){if(e){Ae();const p=e;I(p.$$.fragment,1,0,()=>{X(p,1)}),Ee()}o?(e=qr(o,r()),Z(e.$$.fragment),P(e.$$.fragment,1),Q(e,l.parentNode,l)):e=null}else o&&e.$set(f)},i(a){n||(e&&P(e.$$.fragment,a),n=!0)},o(a){e&&I(e.$$.fragment,a),n=!1},d(a){a&&k(l),e&&X(e,a)}}}function fm(t){let e,l,n,i;const o=[am,rm],r=[];function a(c,f){return c[0]!==null?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=Ke()},m(c,f){r[e].m(c,f),w(c,n,f),i=!0},p(c,f){let p=e;e=a(c),e===p?r[e].p(c,f):(Ae(),I(r[p],1,1,()=>{r[p]=null}),Ee(),l=r[e],l?l.p(c,f):(l=r[e]=o[e](c),l.c()),P(l,1),l.m(n.parentNode,n))},i(c){i||(P(l),i=!0)},o(c){I(l),i=!1},d(c){r[e].d(c),c&&k(n)}}}function cm(t){let e,l,n,i,o,r=[eo(t[7]),{"data-svnav-route-start":t[5]}],a={};for(let _=0;_<r.length;_+=1)a=xt(a,r[_]);let c=t[2]&&Qr(t),f=[eo(t[7]),{"data-svnav-route-end":t[5]}],p={};for(let _=0;_<f.length;_+=1)p=xt(p,f[_]);return{c(){e=m("div"),l=h(),c&&c.c(),n=h(),i=m("div"),ai(e,a),ai(i,p)},m(_,b){w(_,e,b),w(_,l,b),c&&c.m(_,b),w(_,n,b),w(_,i,b),o=!0},p(_,[b]){_[2]?c?(c.p(_,b),b&4&&P(c,1)):(c=Qr(_),c.c(),P(c,1),c.m(n.parentNode,n)):c&&(Ae(),I(c,1,1,()=>{c=null}),Ee())},i(_){o||(P(c),o=!0)},o(_){I(c),o=!1},d(_){_&&k(e),_&&k(l),c&&c.d(_),_&&k(n),_&&k(i)}}}const mm=ac();function pm(t,e,l){let n;const i=["path","component","meta","primary"];let o=ys(e,i),r,a,c,f,{$$slots:p={},$$scope:_}=e,{path:b=""}=e,{component:d=null}=e,{meta:v={}}=e,{primary:g=!0}=e;Di(Ps,e);const T=mm(),{registerRoute:C,unregisterRoute:$,activeRoute:M,disableInlineStyles:F}=Ul(fi);al(t,M,H=>l(16,r=H));const S=Dc();al(t,S,H=>l(17,c=H));const D=Pc();al(t,D,H=>l(3,a=H));const A=rt(null);let E;const Y=rt(),R=rt({});al(t,R,H=>l(4,f=H)),Ti(pc,Y),Ti(v1,R),Ti(h1,A);const U=om();return Hl||u1(()=>$(T)),t.$$set=H=>{l(24,e=xt(xt({},e),ws(H))),l(12,o=ys(e,i)),"path"in H&&l(13,b=H.path),"component"in H&&l(0,d=H.component),"meta"in H&&l(14,v=H.meta),"primary"in H&&l(1,g=H.primary),"$$scope"in H&&l(19,_=H.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const H=b==="",z=Ni(c,b),q={id:T,path:b,meta:v,default:H,fullPath:H?"":z,base:H?c:O1(z,a.pathname),primary:g,focusElement:A};Y.set(q),l(15,E=C(q))}if(t.$$.dirty&98304&&l(2,n=!!(E||r&&r.id===T)),t.$$.dirty&98308&&n){const{params:H}=E||r;R.set(H)}},e=ws(e),[d,g,n,a,f,T,M,F,S,D,R,U,o,b,v,E,r,c,p,_]}class _m extends Me{constructor(e){super(),Se(this,e,pm,cm,we,{path:13,component:0,meta:14,primary:1})}}const Tl=_m;function dm(t){let e,l,n,i;const o=t[13].default,r=po(o,t,t[12],null);let a=[{href:t[0]},t[2],t[1]],c={};for(let f=0;f<a.length;f+=1)c=xt(c,a[f]);return{c(){e=m("a"),r&&r.c(),ai(e,c)},m(f,p){w(f,e,p),r&&r.m(e,null),l=!0,n||(i=K(e,"click",t[4]),n=!0)},p(f,[p]){r&&r.p&&(!l||p&4096)&&vo(r,o,f,f[12],l?_o(o,f[12],p,null):ho(f[12]),null),ai(e,c=oc(a,[(!l||p&1)&&{href:f[0]},p&4&&f[2],p&2&&f[1]]))},i(f){l||(P(r,f),l=!0)},o(f){I(r,f),l=!1},d(f){f&&k(e),r&&r.d(f),n=!1,i()}}}function vm(t,e,l){let n,i,o,r,a,c;const f=["to","replace","state","getProps"];let p=ys(e,f),_,{$$slots:b={},$$scope:d}=e,{to:v}=e,{replace:g=!1}=e,{state:T={}}=e,{getProps:C=null}=e;Di(go,e);const $=Pc();al(t,$,A=>l(11,_=A));const M=r1(),F=Ac(),{navigate:S}=Nc();function D(A){M("click",A),p1(A)&&(A.preventDefault(),S(n,{state:T,replace:r||g}))}return t.$$set=A=>{l(19,e=xt(xt({},e),ws(A))),l(18,p=ys(e,f)),"to"in A&&l(5,v=A.to),"replace"in A&&l(6,g=A.replace),"state"in A&&l(7,T=A.state),"getProps"in A&&l(8,C=A.getProps),"$$scope"in A&&l(12,d=A.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=F(v,_)),t.$$.dirty&2049&&l(10,i=lo(_.pathname,n)),t.$$.dirty&2049&&l(9,o=n===_.pathname),t.$$.dirty&2049&&(r=wo(n)===R1(_)),t.$$.dirty&512&&l(2,a=o?{"aria-current":"page"}:{}),l(1,c=(()=>{if(uc(C)){const A=C({location:_,href:n,isPartiallyCurrent:i,isCurrent:o});return{...p,...A}}return p})())},e=ws(e),[n,c,a,$,D,v,g,T,C,o,i,_,d,b]}class hm extends Me{constructor(e){super(),Se(this,e,vm,dm,we,{to:5,replace:6,state:7,getProps:8})}}const el=hm;let no=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ql(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function bm(t){return t>218&&t<242?"#32d900":t>212&&t<248?"#b1d900":t>208&&t<252?"#ffb800":"#d90000"}function Ec(t){return t>90?"#d90000":t>85?"#e32100":t>80?"#ffb800":t>75?"#dcd800":"#32d900"}function gm(t){return t>75?"#32d900":t>50?"#77d900":t>25?"#94d900":"#dcd800"}function Ts(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return""}}function Ie(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function ce(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"µHAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1"}}function Xr(t){switch(t){case-1:return"Parse error";case-2:return"Incomplete data received";case-3:return"Payload boundry flag missing";case-4:return"Header checksum error";case-5:return"Footer checksum error";case-9:return"Unknown data received, check meter config";case-41:return"Frame length not equal";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid";case 90:return"No HAN data received for at least 30s";case 91:return"Serial break";case 92:return"Serial buffer full";case 93:return"Serial FIFO overflow";case 94:return"Serial frame error";case 95:return"Serial parity error";case 96:return"RX error";case 98:return"Exception in code, debugging necessary";case 99:return"Autodetection failed"}return t<0?"Unspecified error "+t:""}function Zr(t){switch(t){case-3:return"Connection failed";case-4:return"Network timeout";case-10:return"Connection denied";case-11:return"Failed to subscribe";case-13:return"Connection lost"}return t<0?"Unspecified error "+t:""}function Jr(t){switch(t){case 400:return"Unrecognized data in request";case 401:case 403:return"Unauthorized, check API key";case 404:return"Price unavailable, not found";case 425:return"Server says its too early";case 429:return"Exceeded API rate limit";case 500:return"Internal server error";case-1:return"Connection error";case-2:return"Incomplete data received";case-3:return"Invalid data, tag missing";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid"}return t<0?"Unspecified error "+t:""}function ui(t){switch(t){case 2:case 4:case 7:return!0}return!1}function Ye(t,e){return t==1||t==2&&e}function Ut(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function me(t,e){return isNaN(t)?"-":(isNaN(e)&&(e=t<10?1:0),t.toFixed(e))}function fl(t,e){return t.setTime(t.getTime()+e*36e5),t}function xr(t){if(t.chip=="esp8266")switch(t.boot_reason){case 0:return"Normal";case 1:return"WDT reset";case 2:return"Exception reset";case 3:return"Soft WDT reset";case 4:return"Software restart";case 5:return"Deep sleep";case 6:return"External reset";default:return"Unknown (8266)"}else switch(t.boot_reason){case 1:return"Vbat power on reset";case 3:return"Software reset";case 4:return"WDT reset";case 5:return"Deep sleep";case 6:return"SLC reset";case 7:return"Timer Group0 WDT reset";case 8:return"Timer Group1 WDT reset";case 9:return"RTC WDT reset";case 10:return"Instrusion test reset CPU";case 11:return"Time Group reset CPU";case 12:return"Software reset CPU";case 13:return"RTC WTD reset CPU";case 14:return"PRO CPU";case 15:return"Brownout";case 16:return"RTC reset";default:return"Unknown"}}function ea(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energy Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}async function jl(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),o=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),o}let rl={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null},trying:null};const Ht=rt(rl);async function yo(){rl=await(await jl("/sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),Ht.set(rl)}let bs=0,ta=-127,la=null,km={};const wm=mc(km,t=>{let e;async function l(){jl("/data.json").then(n=>n.json()).then(n=>{t(n),ta!=n.t&&(ta=n.t,setTimeout(Oc,2e3)),la==null&&n.pe&&n.p!=null&&(la=n.p,Fc()),rl.upgrading?window.location.reload():(!rl||!rl.chip||rl.booting||bs>1&&!ui(rl.board))&&(yo(),rn&&clearTimeout(rn),rn=setTimeout(Co,2e3),an&&clearTimeout(an),an=setTimeout(To,3e3));let i=5e3;if(ui(rl.board)&&n.v>2.5){let o=3.3-Math.min(3.3,n.v);o>0&&(i=Math.max(o,.1)*10*5e3)}i>5e3&&console.log("Scheduling next data fetch in "+i+"ms"),e&&clearTimeout(e),e=setTimeout(l,i),bs=0}).catch(n=>{bs++,bs>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(l,15e3)):e=setTimeout(l,ui(rl.board)?1e4:5e3)})}return l(),function(){clearTimeout(e)}});let io={},yi;const $o=rt(io);async function Ic(){let t=!1;$o.update(e=>{for(var l=0;l<36;l++){if(e[Ie(l)]==null){t=l<12;break}e[Ie(l)]=e[Ie(l+1)]}return e}),t?Fc():yi=setTimeout(Ic,(60-new Date().getMinutes())*6e4)}async function Fc(){yi&&(clearTimeout(yi),yi=0),io=await(await jl("/energyprice.json")).json(),$o.set(io),yi=setTimeout(Ic,(60-new Date().getMinutes())*6e4)}let so={},rn;async function Co(){rn&&(clearTimeout(rn),rn=0),so=await(await jl("/dayplot.json")).json(),Rc.set(so),rn=setTimeout(Co,(60-new Date().getMinutes())*6e4+20)}const Rc=rt(so,t=>(Co(),function(){}));let oo={},an;async function To(){an&&(clearTimeout(an),an=0),oo=await(await jl("/monthplot.json")).json(),Lc.set(oo),an=setTimeout(To,(24-new Date().getHours())*36e5+40)}const Lc=rt(oo,t=>(To(),function(){}));let uo={};async function Oc(){uo=await(await jl("/temperature.json")).json(),qc.set(uo)}const qc=rt(uo,t=>(Oc(),function(){}));let ro={},gs;async function Uc(){gs&&(clearTimeout(gs),gs=0),ro=await(await jl("/tariff.json")).json(),Hc.set(ro),gs=setTimeout(Uc,(60-new Date().getMinutes())*6e4+30)}const Hc=rt(ro,t=>function(){});let ao=[];const So=rt(ao);async function ym(){ao=await(await jl("https://api.github.com/repos/UtilitechAS/amsreader-firmware/releases")).json(),So.set(ao)}function Ss(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function jc(t){await(await fetch("/upgrade?expected_version="+t,{method:"POST"})).json()}function Wc(t,e){if(/^v\d{1,2}\.\d{1,2}\.\d{1,2}$/.test(t)){let l=t.substring(1).split("."),n=parseInt(l[0]),i=parseInt(l[1]),o=parseInt(l[2]),r=[...e];r.reverse();let a,c,f;for(let p=0;p<r.length;p++){let _=r[p],d=_.tag_name.substring(1).split("."),v=parseInt(d[0]),g=parseInt(d[1]),T=parseInt(d[2]);if(v==n)g==i?T>o&&(a=_):g==i+1&&(c=_);else if(v==n+1)if(f){let C=f.tag_name.substring(1).split(".");parseInt(C[0]);let $=parseInt(C[1]);parseInt(C[2]),g==$&&(f=_)}else f=_}return c||f||a||!1}else return e[0]}const $m="/github.svg";function na(t){let e,l;function n(r,a){return r[1]>1?Dm:r[1]>0?Nm:r[2]>1?Pm:r[2]>0?Mm:r[3]>1?Sm:r[3]>0?Tm:Cm}let i=n(t),o=i(t);return{c(){e=y(`Up
    `),o.c(),l=Ke()},m(r,a){w(r,e,a),o.m(r,a),w(r,l,a)},p(r,a){i===(i=n(r))&&o?o.p(r,a):(o.d(1),o=i(r),o&&(o.c(),o.m(l.parentNode,l)))},d(r){r&&k(e),o.d(r),r&&k(l)}}}function Cm(t){let e,l;return{c(){e=y(t[0]),l=y(" seconds")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&1&&W(e,n[0])},d(n){n&&k(e),n&&k(l)}}}function Tm(t){let e,l;return{c(){e=y(t[3]),l=y(" minute")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&8&&W(e,n[3])},d(n){n&&k(e),n&&k(l)}}}function Sm(t){let e,l;return{c(){e=y(t[3]),l=y(" minutes")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&8&&W(e,n[3])},d(n){n&&k(e),n&&k(l)}}}function Mm(t){let e,l;return{c(){e=y(t[2]),l=y(" hour")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&4&&W(e,n[2])},d(n){n&&k(e),n&&k(l)}}}function Pm(t){let e,l;return{c(){e=y(t[2]),l=y(" hours")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&4&&W(e,n[2])},d(n){n&&k(e),n&&k(l)}}}function Nm(t){let e,l;return{c(){e=y(t[1]),l=y(" day")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&2&&W(e,n[1])},d(n){n&&k(e),n&&k(l)}}}function Dm(t){let e,l;return{c(){e=y(t[1]),l=y(" days")},m(n,i){w(n,e,i),w(n,l,i)},p(n,i){i&2&&W(e,n[1])},d(n){n&&k(e),n&&k(l)}}}function Am(t){let e,l=t[0]&&na(t);return{c(){l&&l.c(),e=Ke()},m(n,i){l&&l.m(n,i),w(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=na(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ne,o:ne,d(n){l&&l.d(n),n&&k(e)}}}function Em(t,e,l){let{epoch:n}=e,i=0,o=0,r=0;return t.$$set=a=>{"epoch"in a&&l(0,n=a.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(1,i=Math.floor(n/86400)),l(2,o=Math.floor(n/3600)),l(3,r=Math.floor(n/60)))},[n,i,o,r]}class Im extends Me{constructor(e){super(),Se(this,e,Em,Am,we,{epoch:0})}}function Fm(t){let e,l,n;return{c(){e=m("span"),l=y(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,o){w(i,e,o),s(e,l)},p(i,[o]){o&4&&W(l,i[2]),o&2&&u(e,"title",i[1]),o&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:ne,o:ne,d(i){i&&k(e)}}}function Rm(t,e,l){let{color:n}=e,{title:i}=e,{text:o}=e;return t.$$set=r=>{"color"in r&&l(0,n=r.color),"title"in r&&l(1,i=r.title),"text"in r&&l(2,o=r.text)},[n,i,o]}class fn extends Me{constructor(e){super(),Se(this,e,Rm,Fm,we,{color:0,title:1,text:2})}}function Lm(t){let e,l=`${Ie(t[0].getDate())}.${Ie(t[0].getMonth()+1)}.${t[0].getFullYear()} ${Ie(t[0].getHours())}:${Ie(t[0].getMinutes())}`,n;return{c(){e=m("span"),n=y(l),u(e,"class",t[1])},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=`${Ie(i[0].getDate())}.${Ie(i[0].getMonth()+1)}.${i[0].getFullYear()} ${Ie(i[0].getHours())}:${Ie(i[0].getMinutes())}`)&&W(n,l),o&2&&u(e,"class",i[1])},d(i){i&&k(e)}}}function Om(t){let e=`${Ie(t[0].getDate())}. ${no[t[0].getMonth()]} ${Ie(t[0].getHours())}:${Ie(t[0].getMinutes())}`,l;return{c(){l=y(e)},m(n,i){w(n,l,i)},p(n,i){i&1&&e!==(e=`${Ie(n[0].getDate())}. ${no[n[0].getMonth()]} ${Ie(n[0].getHours())}:${Ie(n[0].getMinutes())}`)&&W(l,e)},d(n){n&&k(l)}}}function qm(t){let e;function l(o,r){return o[2]?Om:Lm}let n=l(t),i=n(t);return{c(){i.c(),e=Ke()},m(o,r){i.m(o,r),w(o,e,r)},p(o,[r]){n===(n=l(o))&&i?i.p(o,r):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},i:ne,o:ne,d(o){i.d(o),o&&k(e)}}}function Um(t,e,l){let{timestamp:n}=e,{fullTimeColor:i}=e,{offset:o}=e,r;return t.$$set=a=>{"timestamp"in a&&l(0,n=a.timestamp),"fullTimeColor"in a&&l(1,i=a.fullTimeColor),"offset"in a&&l(3,o=a.offset)},t.$$.update=()=>{t.$$.dirty&9&&(l(2,r=Math.abs(new Date().getTime()-n.getTime())<3e5),isNaN(o)||fl(n,o-(24+n.getHours()-n.getUTCHours())%24))},[n,i,r,o]}class Gc extends Me{constructor(e){super(),Se(this,e,Um,qm,we,{timestamp:0,fullTimeColor:1,offset:3})}}function Hm(t){let e,l,n;return{c(){e=Oe("svg"),l=Oe("path"),n=Oe("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,o){w(i,e,o),s(e,l),s(e,n)},p:ne,i:ne,o:ne,d(i){i&&k(e)}}}class jm extends Me{constructor(e){super(),Se(this,e,null,Hm,we,{})}}function Wm(t){let e,l;return{c(){e=Oe("svg"),l=Oe("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){w(n,e,i),s(e,l)},p:ne,i:ne,o:ne,d(n){n&&k(e)}}}class Gm extends Me{constructor(e){super(),Se(this,e,null,Wm,we,{})}}function Bm(t){let e,l;return{c(){e=Oe("svg"),l=Oe("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){w(n,e,i),s(e,l)},p:ne,i:ne,o:ne,d(n){n&&k(e)}}}class qt extends Me{constructor(e){super(),Se(this,e,null,Bm,we,{})}}function zm(t){let e,l;return{c(){e=Oe("svg"),l=Oe("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){w(n,e,i),s(e,l)},p:ne,i:ne,o:ne,d(n){n&&k(e)}}}class Bc extends Me{constructor(e){super(),Se(this,e,null,zm,we,{})}}function Ym(t){let e,l,n=t[1].version+"",i;return{c(){e=y("AMS reader "),l=m("span"),i=y(n)},m(o,r){w(o,e,r),w(o,l,r),s(l,i)},p(o,r){r&2&&n!==(n=o[1].version+"")&&W(i,n)},d(o){o&&k(e),o&&k(l)}}}function ia(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=m("div"),n=y(l),i=y("°C"),u(e,"class","flex-none my-auto")},m(o,r){w(o,e,r),s(e,n),s(e,i)},p(o,r){r&1&&l!==(l=(o[0].t>-50?o[0].t.toFixed(1):"-")+"")&&W(n,l)},d(o){o&&k(e)}}}function sa(t){let e,l="HAN: "+Xr(t[0].he),n;return{c(){e=m("div"),n=y(l),u(e,"class","bd-red")},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="HAN: "+Xr(i[0].he))&&W(n,l)},d(i){i&&k(e)}}}function oa(t){let e,l="MQTT: "+Zr(t[0].me),n;return{c(){e=m("div"),n=y(l),u(e,"class","bd-red")},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="MQTT: "+Zr(i[0].me))&&W(n,l)},d(i){i&&k(e)}}}function ua(t){let e,l="PriceAPI: "+Jr(t[0].ee),n;return{c(){e=m("div"),n=y(l),u(e,"class","bd-red")},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="PriceAPI: "+Jr(i[0].ee))&&W(n,l)},d(i){i&&k(e)}}}function ra(t){let e,l,n,i,o,r;return l=new el({props:{to:"/configuration",$$slots:{default:[Km]},$$scope:{ctx:t}}}),o=new el({props:{to:"/status",$$slots:{default:[Vm]},$$scope:{ctx:t}}}),{c(){e=m("div"),Z(l.$$.fragment),n=h(),i=m("div"),Z(o.$$.fragment),u(e,"class","flex-none px-1 mt-1"),u(e,"title","Configuration"),u(i,"class","flex-none px-1 mt-1"),u(i,"title","Device information")},m(a,c){w(a,e,c),Q(l,e,null),w(a,n,c),w(a,i,c),Q(o,i,null),r=!0},i(a){r||(P(l.$$.fragment,a),P(o.$$.fragment,a),r=!0)},o(a){I(l.$$.fragment,a),I(o.$$.fragment,a),r=!1},d(a){a&&k(e),X(l),a&&k(n),a&&k(i),X(o)}}}function Km(t){let e,l;return e=new jm({}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Vm(t){let e,l;return e=new Gm({}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function aa(t){let e,l,n,i,o;const r=[Xm,Qm],a=[];function c(f,p){return f[1].security==0||f[0].a?0:1}return l=c(t),n=a[l]=r[l](t),{c(){e=m("div"),n.c(),u(e,"class","flex-none mr-3 text-yellow-500"),u(e,"title",i="New version: "+t[2].tag_name)},m(f,p){w(f,e,p),a[l].m(e,null),o=!0},p(f,p){let _=l;l=c(f),l===_?a[l].p(f,p):(Ae(),I(a[_],1,1,()=>{a[_]=null}),Ee(),n=a[l],n?n.p(f,p):(n=a[l]=r[l](f),n.c()),P(n,1),n.m(e,null)),(!o||p&4&&i!==(i="New version: "+f[2].tag_name))&&u(e,"title",i)},i(f){o||(P(n),o=!0)},o(f){I(n),o=!1},d(f){f&&k(e),a[l].d()}}}function Qm(t){let e,l,n=t[2].tag_name+"",i;return{c(){e=m("span"),l=y("New version: "),i=y(n)},m(o,r){w(o,e,r),s(e,l),s(e,i)},p(o,r){r&4&&n!==(n=o[2].tag_name+"")&&W(i,n)},i:ne,o:ne,d(o){o&&k(e)}}}function Xm(t){let e,l,n,i=t[2].tag_name+"",o,r,a,c,f,p;return a=new Bc({}),{c(){e=m("button"),l=m("span"),n=y("New version: "),o=y(i),r=h(),Z(a.$$.fragment),u(l,"class","mt-1"),u(e,"class","flex")},m(_,b){w(_,e,b),s(e,l),s(l,n),s(l,o),s(e,r),Q(a,e,null),c=!0,f||(p=K(e,"click",t[3]),f=!0)},p(_,b){(!c||b&4)&&i!==(i=_[2].tag_name+"")&&W(o,i)},i(_){c||(P(a.$$.fragment,_),c=!0)},o(_){I(a.$$.fragment,_),c=!1},d(_){_&&k(e),X(a),f=!1,p()}}}function Zm(t){let e,l,n,i,o,r,a,c,f,p,_,b,d=(t[0].m?(t[0].m/1e3).toFixed(1):"-")+"",v,g,T,C,$,M,F,S,D,A,E,Y,R,U,H,z,q,L,B,O,j,G,te,le,pe,ie,Pe,je,De,We;i=new el({props:{to:"/",$$slots:{default:[Ym]},$$scope:{ctx:t}}}),c=new Im({props:{epoch:t[0].u}});let be=t[0].t>-50&&ia(t);$=new fn({props:{title:"ESP",text:t[1].booting?"Booting":t[0].v>2?t[0].v.toFixed(2)+"V":"ESP",color:ql(t[1].booting?2:t[0].em)}}),F=new fn({props:{title:"HAN",text:"HAN",color:ql(t[1].booting?9:t[0].hm)}}),D=new fn({props:{title:"WiFi",text:t[0].r?t[0].r.toFixed(0)+"dBm":"WiFi",color:ql(t[1].booting?9:t[0].wm)}}),E=new fn({props:{title:"MQTT",text:"MQTT",color:ql(t[1].booting?9:t[0].mm)}});let ye=(t[0].he<0||t[0].he>0)&&sa(t),Re=t[0].me<0&&oa(t),ge=(t[0].ee>0||t[0].ee<0)&&ua(t);te=new Gc({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),offset:t[1].clock_offset,fullTimeColor:"text-red-500"}});let ae=t[1].vndcfg&&t[1].usrcfg&&ra(t);je=new qt({});let $e=t[1].fwconsent===1&&t[2]&&aa(t);return{c(){e=m("nav"),l=m("div"),n=m("div"),Z(i.$$.fragment),o=h(),r=m("div"),a=m("div"),Z(c.$$.fragment),f=h(),be&&be.c(),p=h(),_=m("div"),b=y("Free mem: "),v=y(d),g=y("kb"),T=h(),C=m("div"),Z($.$$.fragment),M=h(),Z(F.$$.fragment),S=h(),Z(D.$$.fragment),A=h(),Z(E.$$.fragment),Y=h(),ye&&ye.c(),R=h(),Re&&Re.c(),U=h(),ge&&ge.c(),H=h(),z=m("div"),q=m("div"),L=m("a"),B=m("img"),j=h(),G=m("div"),Z(te.$$.fragment),le=h(),ae&&ae.c(),pe=h(),ie=m("div"),Pe=m("a"),Z(je.$$.fragment),De=h(),$e&&$e.c(),u(n,"class","flex text-lg text-gray-100 p-2"),u(a,"class","flex-none my-auto"),u(_,"class","flex-none my-auto"),u(r,"class","flex-none my-auto p-2 flex space-x-4"),u(C,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(B,"class","gh-logo"),Xc(B.src,O=$m)||u(B,"src",O),u(B,"alt","GitHub repo"),u(L,"class","float-right"),u(L,"href","https://github.com/UtilitechAS/amsreader-firmware"),u(L,"target","_blank"),u(L,"rel","noreferrer"),u(L,"aria-label","GitHub"),u(q,"class","flex-none"),u(G,"class","flex-none my-auto px-2"),u(Pe,"href",Ut("")),u(Pe,"target","_blank"),u(Pe,"rel","noreferrer"),u(ie,"class","flex-none px-1 mt-1"),u(ie,"title","Documentation"),u(z,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-sm text-gray-300"),u(e,"class","bg-violet-600 p-1 rounded-md mx-2")},m(J,se){w(J,e,se),s(e,l),s(l,n),Q(i,n,null),s(l,o),s(l,r),s(r,a),Q(c,a,null),s(r,f),be&&be.m(r,null),s(r,p),s(r,_),s(_,b),s(_,v),s(_,g),s(l,T),s(l,C),Q($,C,null),s(C,M),Q(F,C,null),s(C,S),Q(D,C,null),s(C,A),Q(E,C,null),s(l,Y),ye&&ye.m(l,null),s(l,R),Re&&Re.m(l,null),s(l,U),ge&&ge.m(l,null),s(l,H),s(l,z),s(z,q),s(q,L),s(L,B),s(z,j),s(z,G),Q(te,G,null),s(z,le),ae&&ae.m(z,null),s(z,pe),s(z,ie),s(ie,Pe),Q(je,Pe,null),s(z,De),$e&&$e.m(z,null),We=!0},p(J,[se]){const Fe={};se&18&&(Fe.$$scope={dirty:se,ctx:J}),i.$set(Fe);const Le={};se&1&&(Le.epoch=J[0].u),c.$set(Le),J[0].t>-50?be?be.p(J,se):(be=ia(J),be.c(),be.m(r,p)):be&&(be.d(1),be=null),(!We||se&1)&&d!==(d=(J[0].m?(J[0].m/1e3).toFixed(1):"-")+"")&&W(v,d);const _e={};se&3&&(_e.text=J[1].booting?"Booting":J[0].v>2?J[0].v.toFixed(2)+"V":"ESP"),se&3&&(_e.color=ql(J[1].booting?2:J[0].em)),$.$set(_e);const Ce={};se&3&&(Ce.color=ql(J[1].booting?9:J[0].hm)),F.$set(Ce);const Ne={};se&1&&(Ne.text=J[0].r?J[0].r.toFixed(0)+"dBm":"WiFi"),se&3&&(Ne.color=ql(J[1].booting?9:J[0].wm)),D.$set(Ne);const de={};se&3&&(de.color=ql(J[1].booting?9:J[0].mm)),E.$set(de),J[0].he<0||J[0].he>0?ye?ye.p(J,se):(ye=sa(J),ye.c(),ye.m(l,R)):ye&&(ye.d(1),ye=null),J[0].me<0?Re?Re.p(J,se):(Re=oa(J),Re.c(),Re.m(l,U)):Re&&(Re.d(1),Re=null),J[0].ee>0||J[0].ee<0?ge?ge.p(J,se):(ge=ua(J),ge.c(),ge.m(l,H)):ge&&(ge.d(1),ge=null);const Te={};se&1&&(Te.timestamp=J[0].c?new Date(J[0].c*1e3):new Date(0)),se&2&&(Te.offset=J[1].clock_offset),te.$set(Te),J[1].vndcfg&&J[1].usrcfg?ae?se&2&&P(ae,1):(ae=ra(J),ae.c(),P(ae,1),ae.m(z,pe)):ae&&(Ae(),I(ae,1,1,()=>{ae=null}),Ee()),J[1].fwconsent===1&&J[2]?$e?($e.p(J,se),se&6&&P($e,1)):($e=aa(J),$e.c(),P($e,1),$e.m(z,null)):$e&&(Ae(),I($e,1,1,()=>{$e=null}),Ee())},i(J){We||(P(i.$$.fragment,J),P(c.$$.fragment,J),P($.$$.fragment,J),P(F.$$.fragment,J),P(D.$$.fragment,J),P(E.$$.fragment,J),P(te.$$.fragment,J),P(ae),P(je.$$.fragment,J),P($e),We=!0)},o(J){I(i.$$.fragment,J),I(c.$$.fragment,J),I($.$$.fragment,J),I(F.$$.fragment,J),I(D.$$.fragment,J),I(E.$$.fragment,J),I(te.$$.fragment,J),I(ae),I(je.$$.fragment,J),I($e),We=!1},d(J){J&&k(e),X(i),X(c),be&&be.d(),X($),X(F),X(D),X(E),ye&&ye.d(),Re&&Re.d(),ge&&ge.d(),X(te),ae&&ae.d(),X(je),$e&&$e.d()}}}function Jm(t,e,l){let{data:n={}}=e,i={},o={};function r(){confirm("Do you want to upgrade this device to "+o.tag_name+"?")&&(!ui(i.board)||confirm(Ss(ce(i.chip,i.board))))&&(Ht.update(a=>(a.upgrading=!0,a)),jc(o.tag_name))}return Ht.subscribe(a=>{l(1,i=a),a.fwconsent===1&&ym()}),So.subscribe(a=>{l(2,o=Wc(i.version,a))}),t.$$set=a=>{"data"in a&&l(0,n=a.data)},[n,i,o,r]}class xm extends Me{constructor(e){super(),Se(this,e,Jm,Zm,we,{data:0})}}function ep(t){let e,l,n,i;return{c(){e=Oe("svg"),l=Oe("path"),n=Oe("path"),u(l,"d",Js(150,150,115,210,510)),u(l,"stroke","#eee"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=Js(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(o,r){w(o,e,r),s(e,l),s(e,n)},p(o,[r]){r&1&&i!==(i=Js(150,150,115,210,210+300*o[0]/100))&&u(n,"d",i),r&2&&u(n,"stroke",o[1])},i:ne,o:ne,d(o){o&&k(e)}}}function fa(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function Js(t,e,l,n,i){var o=fa(t,e,l,i),r=fa(t,e,l,n),a=i-n<=180?"0":"1",c=["M",o.x,o.y,"A",l,l,0,a,0,r.x,r.y].join(" ");return c}function tp(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=o=>{"pct"in o&&l(0,n=o.pct),"color"in o&&l(1,i=o.color)},[n,i]}class lp extends Me{constructor(e){super(),Se(this,e,tp,ep,we,{pct:0,color:1})}}function ca(t){let e,l,n,i,o,r,a,c;return{c(){e=m("br"),l=h(),n=m("span"),i=y(t[3]),o=h(),r=m("span"),a=y(t[4]),c=y("/kWh"),u(n,"class","pl-sub"),u(r,"class","pl-snt")},m(f,p){w(f,e,p),w(f,l,p),w(f,n,p),s(n,i),w(f,o,p),w(f,r,p),s(r,a),s(r,c)},p(f,p){p&8&&W(i,f[3]),p&16&&W(a,f[4])},d(f){f&&k(e),f&&k(l),f&&k(n),f&&k(o),f&&k(r)}}}function np(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T;l=new lp({props:{pct:t[6],color:t[5](t[6])}});let C=t[3]&&ca(t);return{c(){e=m("div"),Z(l.$$.fragment),n=h(),i=m("span"),o=m("span"),r=y(t[2]),a=h(),c=m("br"),f=h(),p=m("span"),_=y(t[0]),b=h(),d=m("span"),v=y(t[1]),g=h(),C&&C.c(),u(o,"class","pl-lab"),u(p,"class","pl-val"),u(d,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m($,M){w($,e,M),Q(l,e,null),s(e,n),s(e,i),s(i,o),s(o,r),s(i,a),s(i,c),s(i,f),s(i,p),s(p,_),s(i,b),s(i,d),s(d,v),s(i,g),C&&C.m(i,null),T=!0},p($,[M]){const F={};M&64&&(F.pct=$[6]),M&96&&(F.color=$[5]($[6])),l.$set(F),(!T||M&4)&&W(r,$[2]),(!T||M&1)&&W(_,$[0]),(!T||M&2)&&W(v,$[1]),$[3]?C?C.p($,M):(C=ca($),C.c(),C.m(i,null)):C&&(C.d(1),C=null)},i($){T||(P(l.$$.fragment,$),T=!0)},o($){I(l.$$.fragment,$),T=!1},d($){$&&k(e),X(l),C&&C.d()}}}function ip(t,e,l){let{val:n}=e,{max:i}=e,{unit:o}=e,{label:r}=e,{sub:a=""}=e,{subunit:c=""}=e,{colorFn:f}=e,p=0;return t.$$set=_=>{"val"in _&&l(0,n=_.val),"max"in _&&l(7,i=_.max),"unit"in _&&l(1,o=_.unit),"label"in _&&l(2,r=_.label),"sub"in _&&l(3,a=_.sub),"subunit"in _&&l(4,c=_.subunit),"colorFn"in _&&l(5,f=_.colorFn)},t.$$.update=()=>{t.$$.dirty&129&&l(6,p=Math.min(n,i)/i*100)},[n,o,r,a,c,f,p,i]}class zc extends Me{constructor(e){super(),Se(this,e,ip,np,we,{val:0,max:7,unit:1,label:2,sub:3,subunit:4,colorFn:5})}}function ma(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function pa(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function _a(t,e,l){const n=t.slice();return n[13]=e[l],n}function da(t){let e,l,n,i,o,r=t[0].title&&va(t),a=t[0].y.ticks,c=[];for(let d=0;d<a.length;d+=1)c[d]=ba(_a(t,a,d));let f=t[0].x.ticks,p=[];for(let d=0;d<f.length;d+=1)p[d]=wa(pa(t,f,d));let _=t[0].points,b=[];for(let d=0;d<_.length;d+=1)b[d]=Na(ma(t,_,d));return{c(){r&&r.c(),e=h(),l=Oe("svg"),n=Oe("g");for(let d=0;d<c.length;d+=1)c[d].c();i=Oe("g");for(let d=0;d<p.length;d+=1)p[d].c();o=Oe("g");for(let d=0;d<b.length;d+=1)b[d].c();u(n,"class","axis y-axis"),u(i,"class","axis x-axis"),u(o,"class","bars"),u(l,"height",t[4])},m(d,v){r&&r.m(d,v),w(d,e,v),w(d,l,v),s(l,n);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(n,null);s(l,i);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(i,null);s(l,o);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(o,null)},p(d,v){if(d[0].title?r?r.p(d,v):(r=va(d),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),v&65){a=d[0].y.ticks;let g;for(g=0;g<a.length;g+=1){const T=_a(d,a,g);c[g]?c[g].p(T,v):(c[g]=ba(T),c[g].c(),c[g].m(n,null))}for(;g<c.length;g+=1)c[g].d(1);c.length=a.length}if(v&57){f=d[0].x.ticks;let g;for(g=0;g<f.length;g+=1){const T=pa(d,f,g);p[g]?p[g].p(T,v):(p[g]=wa(T),p[g].c(),p[g].m(i,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=f.length}if(v&233){_=d[0].points;let g;for(g=0;g<_.length;g+=1){const T=ma(d,_,g);b[g]?b[g].p(T,v):(b[g]=Na(T),b[g].c(),b[g].m(o,null))}for(;g<b.length;g+=1)b[g].d(1);b.length=_.length}v&16&&u(l,"height",d[4])},d(d){r&&r.d(d),d&&k(e),d&&k(l),cl(c,d),cl(p,d),cl(b,d)}}}function va(t){let e,l=t[0].title+"",n;return{c(){e=m("strong"),n=y(l),u(e,"class","text-sm")},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[0].title+"")&&W(n,l)},d(i){i&&k(e)}}}function ha(t){let e,l,n,i=t[13].label+"",o,r,a,c;return{c(){e=Oe("g"),l=Oe("line"),n=Oe("text"),o=y(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",r=t[13].align=="right"?"85%":""),u(e,"class",a="tick tick-"+t[13].value+" tick-"+t[13].color),u(e,"transform",c="translate(0, "+t[6](t[13].value)+")")},m(f,p){w(f,e,p),s(e,l),s(e,n),s(n,o)},p(f,p){p&1&&i!==(i=f[13].label+"")&&W(o,i),p&1&&r!==(r=f[13].align=="right"?"85%":"")&&u(n,"x",r),p&1&&a!==(a="tick tick-"+f[13].value+" tick-"+f[13].color)&&u(e,"class",a),p&65&&c!==(c="translate(0, "+f[6](f[13].value)+")")&&u(e,"transform",c)},d(f){f&&k(e)}}}function ba(t){let e=!isNaN(t[6](t[13].value)),l,n=e&&ha(t);return{c(){n&&n.c(),l=Ke()},m(i,o){n&&n.m(i,o),w(i,l,o)},p(i,o){o&65&&(e=!isNaN(i[6](i[13].value))),e?n?n.p(i,o):(n=ha(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&k(l)}}}function ga(t){let e,l,n=(t[3]>20||t[11]%2==0)&&ka(t);return{c(){e=Oe("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[5](t[11])+","+t[4]+")")},m(i,o){w(i,e,o),n&&n.m(e,null)},p(i,o){i[3]>20||i[11]%2==0?n?n.p(i,o):(n=ka(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),o&48&&l!==(l="translate("+i[5](i[11])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&k(e),n&&n.d()}}}function ka(t){let e,l=t[9].label+"",n,i;return{c(){e=Oe("text"),n=y(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(o,r){w(o,e,r),s(e,n)},p(o,r){r&1&&l!==(l=o[9].label+"")&&W(n,l),r&8&&i!==(i=o[3]/2)&&u(e,"x",i)},d(o){o&&k(e)}}}function wa(t){let e=!isNaN(t[5](t[11])),l,n=e&&ga(t);return{c(){n&&n.c(),l=Ke()},m(i,o){n&&n.m(i,o),w(i,l,o)},p(i,o){o&32&&(e=!isNaN(i[5](i[11]))),e?n?n.p(i,o):(n=ga(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&k(l)}}}function ya(t){let e,l,n=t[9].value!==void 0&&$a(t),i=t[9].value2>1e-4&&Sa(t);return{c(){e=Oe("g"),n&&n.c(),l=Oe("g"),i&&i.c()},m(o,r){w(o,e,r),n&&n.m(e,null),w(o,l,r),i&&i.m(l,null)},p(o,r){o[9].value!==void 0?n?n.p(o,r):(n=$a(o),n.c(),n.m(e,null)):n&&(n.d(1),n=null),o[9].value2>1e-4?i?i.p(o,r):(i=Sa(o),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(o){o&&k(e),n&&n.d(),o&&k(l),i&&i.d()}}}function $a(t){let e,l,n,i,o,r,a,c=t[3]>15&&Ca(t);return{c(){e=Oe("rect"),c&&c.c(),a=Ke(),u(e,"x",l=t[5](t[11])+2),u(e,"y",n=t[6](t[9].value)),u(e,"width",i=t[3]-4),u(e,"height",o=t[6](t[0].y.min)-t[6](Math.min(t[0].y.min,0)+t[9].value)),u(e,"fill",r=t[9].color)},m(f,p){w(f,e,p),c&&c.m(f,p),w(f,a,p)},p(f,p){p&32&&l!==(l=f[5](f[11])+2)&&u(e,"x",l),p&65&&n!==(n=f[6](f[9].value))&&u(e,"y",n),p&8&&i!==(i=f[3]-4)&&u(e,"width",i),p&65&&o!==(o=f[6](f[0].y.min)-f[6](Math.min(f[0].y.min,0)+f[9].value))&&u(e,"height",o),p&1&&r!==(r=f[9].color)&&u(e,"fill",r),f[3]>15?c?c.p(f,p):(c=Ca(f),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(f){f&&k(e),c&&c.d(f),f&&k(a)}}}function Ca(t){let e,l=t[9].label+"",n,i,o,r,a,c,f=t[9].title&&Ta(t);return{c(){e=Oe("text"),n=y(l),f&&f.c(),c=Ke(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",o=t[3]<cn?"left":"middle"),u(e,"fill",r=t[6](t[9].value)>t[6](0)-t[7]?t[9].color:"white"),u(e,"transform",a="translate("+(t[5](t[11])+t[3]/2)+" "+(t[6](t[9].value)>t[6](0)-t[7]?t[6](t[9].value)-t[7]:t[6](t[9].value)+10)+") rotate("+(t[3]<cn?90:0)+")")},m(p,_){w(p,e,_),s(e,n),f&&f.m(p,_),w(p,c,_)},p(p,_){_&1&&l!==(l=p[9].label+"")&&W(n,l),_&8&&i!==(i=p[3]-4)&&u(e,"width",i),_&8&&o!==(o=p[3]<cn?"left":"middle")&&u(e,"text-anchor",o),_&193&&r!==(r=p[6](p[9].value)>p[6](0)-p[7]?p[9].color:"white")&&u(e,"fill",r),_&233&&a!==(a="translate("+(p[5](p[11])+p[3]/2)+" "+(p[6](p[9].value)>p[6](0)-p[7]?p[6](p[9].value)-p[7]:p[6](p[9].value)+10)+") rotate("+(p[3]<cn?90:0)+")")&&u(e,"transform",a),p[9].title?f?f.p(p,_):(f=Ta(p),f.c(),f.m(c.parentNode,c)):f&&(f.d(1),f=null)},d(p){p&&k(e),f&&f.d(p),p&&k(c)}}}function Ta(t){let e,l=t[9].title+"",n;return{c(){e=Oe("title"),n=y(l)},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[9].title+"")&&W(n,l)},d(i){i&&k(e)}}}function Sa(t){let e,l,n,i,o,r,a,c=t[3]>15&&Ma(t);return{c(){e=Oe("rect"),c&&c.c(),a=Ke(),u(e,"x",l=t[5](t[11])+2),u(e,"y",n=t[6](0)),u(e,"width",i=t[3]-4),u(e,"height",o=t[6](t[0].y.min)-t[6](t[0].y.min+t[9].value2)),u(e,"fill",r=t[9].color2?t[9].color2:t[9].color)},m(f,p){w(f,e,p),c&&c.m(f,p),w(f,a,p)},p(f,p){p&32&&l!==(l=f[5](f[11])+2)&&u(e,"x",l),p&64&&n!==(n=f[6](0))&&u(e,"y",n),p&8&&i!==(i=f[3]-4)&&u(e,"width",i),p&65&&o!==(o=f[6](f[0].y.min)-f[6](f[0].y.min+f[9].value2))&&u(e,"height",o),p&1&&r!==(r=f[9].color2?f[9].color2:f[9].color)&&u(e,"fill",r),f[3]>15?c?c.p(f,p):(c=Ma(f),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(f){f&&k(e),c&&c.d(f),f&&k(a)}}}function Ma(t){let e,l=t[9].label2+"",n,i,o,r,a,c=t[9].title2&&Pa(t);return{c(){e=Oe("text"),n=y(l),c&&c.c(),a=Ke(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor","middle"),u(e,"fill",o=t[6](-t[9].value2)<t[6](0)+15?t[9].color2?t[9].color2:t[9].color:"white"),u(e,"transform",r="translate("+(t[5](t[11])+t[3]/2)+" "+(t[6](-t[9].value2)<t[6](0)+15?t[6](-t[9].value2)+15:t[6](-t[9].value2)-14)+") rotate("+(t[3]<cn?90:0)+")")},m(f,p){w(f,e,p),s(e,n),c&&c.m(f,p),w(f,a,p)},p(f,p){p&1&&l!==(l=f[9].label2+"")&&W(n,l),p&8&&i!==(i=f[3]-4)&&u(e,"width",i),p&65&&o!==(o=f[6](-f[9].value2)<f[6](0)+15?f[9].color2?f[9].color2:f[9].color:"white")&&u(e,"fill",o),p&105&&r!==(r="translate("+(f[5](f[11])+f[3]/2)+" "+(f[6](-f[9].value2)<f[6](0)+15?f[6](-f[9].value2)+15:f[6](-f[9].value2)-14)+") rotate("+(f[3]<cn?90:0)+")")&&u(e,"transform",r),f[9].title2?c?c.p(f,p):(c=Pa(f),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(f){f&&k(e),c&&c.d(f),f&&k(a)}}}function Pa(t){let e,l=t[9].title2+"",n;return{c(){e=Oe("title"),n=y(l)},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[9].title2+"")&&W(n,l)},d(i){i&&k(e)}}}function Na(t){let e=!isNaN(t[5](t[11]))&&!isNaN(t[6](t[9].value)),l,n=e&&ya(t);return{c(){n&&n.c(),l=Ke()},m(i,o){n&&n.m(i,o),w(i,l,o)},p(i,o){o&97&&(e=!isNaN(i[5](i[11]))&&!isNaN(i[6](i[9].value))),e?n?n.p(i,o):(n=ya(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&k(l)}}}function sp(t){let e,l,n=t[0].x.ticks&&t[0].points&&t[4]&&da(t);return{c(){e=m("div"),n&&n.c(),u(e,"class","chart"),tt(()=>t[8].call(e))},m(i,o){w(i,e,o),n&&n.m(e,null),l=i1(e,t[8].bind(e))},p(i,[o]){i[0].x.ticks&&i[0].points&&i[4]?n?n.p(i,o):(n=da(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:ne,o:ne,d(i){i&&k(e),n&&n.d(),l()}}}let cn=30;function op(t,e,l){let{config:n}=e,i,o,r,a,c,f,p;function _(){i=this.clientWidth,o=this.clientHeight,l(1,i),l(2,o)}return t.$$set=b=>{"config"in b&&l(0,n=b.config)},t.$$.update=()=>{if(t.$$.dirty&31){l(4,f=o-(n.title?20:0));let b=i-(n.padding.left+n.padding.right);l(3,r=b/n.points.length),l(7,p=r<cn?30:15);let d=(f-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(5,a=function(v){return v*r+n.padding.left}),l(6,c=function(v){let g=0;return v>n.y.max?g=n.padding.bottom:v<n.y.min?g=f-n.padding.bottom:g=f-n.padding.bottom-(v-n.y.min)*d,g>f||g<0?0:g})}},[n,i,o,r,f,a,c,p,_]}class pn extends Me{constructor(e){super(),Se(this,e,op,sp,we,{config:0})}}function up(t){let e,l;return e=new pn({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function rp(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:o}=e,{ds:r}=e,a={};function c(f){return{label:me(f)+"V",title:f.toFixed(1)+" V",value:isNaN(f)?0:f,color:bm(f||0)}}return t.$$set=f=>{"u1"in f&&l(1,n=f.u1),"u2"in f&&l(2,i=f.u2),"u3"in f&&l(3,o=f.u3),"ds"in f&&l(4,r=f.ds)},t.$$.update=()=>{if(t.$$.dirty&30){let f=[],p=[];n>0&&(f.push({label:r===1?"L1-L2":"L1"}),p.push(c(n))),i>0&&(f.push({label:r===1?"L1-L3":"L2"}),p.push(c(i))),o>0&&(f.push({label:r===1?"L2-L3":"L3"}),p.push(c(o))),l(0,a={padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:f},points:p})}},[a,n,i,o,r]}class ap extends Me{constructor(e){super(),Se(this,e,rp,up,we,{u1:1,u2:2,u3:3,ds:4})}}function fp(t){let e,l;return e=new pn({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function cp(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:o}=e,{i1:r}=e,{i2:a}=e,{i3:c}=e,{max:f}=e,p={};function _(b){return{label:me(b)+"A",title:b.toFixed(1)+" A",value:isNaN(b)?0:b,color:Ec(b?b/f*100:0)}}return t.$$set=b=>{"u1"in b&&l(1,n=b.u1),"u2"in b&&l(2,i=b.u2),"u3"in b&&l(3,o=b.u3),"i1"in b&&l(4,r=b.i1),"i2"in b&&l(5,a=b.i2),"i3"in b&&l(6,c=b.i3),"max"in b&&l(7,f=b.max)},t.$$.update=()=>{if(t.$$.dirty&254){let b=[],d=[];n>0&&(b.push({label:"L1"}),d.push(_(r))),i>0&&(b.push({label:"L2"}),d.push(_(a))),o>0&&(b.push({label:"L3"}),d.push(_(c))),l(0,p={padding:{top:20,right:15,bottom:20,left:35},y:{min:0,max:f,ticks:[{value:0,label:"0%"},{value:f/4,label:"25%"},{value:f/2,label:"50%"},{value:f/4*3,label:"75%"},{value:f,label:"100%"}]},x:{ticks:b},points:d})}},[p,n,i,o,r,a,c,f]}class mp extends Me{constructor(e){super(),Se(this,e,cp,fp,we,{u1:1,u2:2,u3:3,i1:4,i2:5,i3:6,max:7})}}function pp(t){let e,l,n,i,o,r,a,c=(typeof t[0]<"u"?t[0].toFixed(0):"-")+"",f,p,_,b,d,v,g=(typeof t[1]<"u"?t[1].toFixed(0):"-")+"",T,C,$,M,F,S,D,A=(typeof t[2]<"u"?t[2].toFixed(1):"-")+"",E,Y,R,U,H,z,q=(typeof t[3]<"u"?t[3].toFixed(1):"-")+"",L,B;return{c(){e=m("div"),l=m("strong"),l.textContent="Reactive",n=h(),i=m("div"),o=m("div"),o.textContent="Instant in",r=h(),a=m("div"),f=y(c),p=y(" VAr"),_=h(),b=m("div"),b.textContent="Instant out",d=h(),v=m("div"),T=y(g),C=y(" VAr"),$=h(),M=m("div"),F=m("div"),F.textContent="Total in",S=h(),D=m("div"),E=y(A),Y=y(" kVArh"),R=h(),U=m("div"),U.textContent="Total out",H=h(),z=m("div"),L=y(q),B=y(" kVArh"),u(a,"class","text-right"),u(v,"class","text-right"),u(i,"class","grid grid-cols-2 mt-4"),u(D,"class","text-right"),u(z,"class","text-right"),u(M,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(O,j){w(O,e,j),s(e,l),s(e,n),s(e,i),s(i,o),s(i,r),s(i,a),s(a,f),s(a,p),s(i,_),s(i,b),s(i,d),s(i,v),s(v,T),s(v,C),s(e,$),s(e,M),s(M,F),s(M,S),s(M,D),s(D,E),s(D,Y),s(M,R),s(M,U),s(M,H),s(M,z),s(z,L),s(z,B)},p(O,[j]){j&1&&c!==(c=(typeof O[0]<"u"?O[0].toFixed(0):"-")+"")&&W(f,c),j&2&&g!==(g=(typeof O[1]<"u"?O[1].toFixed(0):"-")+"")&&W(T,g),j&4&&A!==(A=(typeof O[2]<"u"?O[2].toFixed(1):"-")+"")&&W(E,A),j&8&&q!==(q=(typeof O[3]<"u"?O[3].toFixed(1):"-")+"")&&W(L,q)},i:ne,o:ne,d(O){O&&k(e)}}}function _p(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:o}=e,{exportTotal:r}=e;return t.$$set=a=>{"importInstant"in a&&l(0,n=a.importInstant),"exportInstant"in a&&l(1,i=a.exportInstant),"importTotal"in a&&l(2,o=a.importTotal),"exportTotal"in a&&l(3,r=a.exportTotal)},[n,i,o,r]}class dp extends Me{constructor(e){super(),Se(this,e,_p,pp,we,{importInstant:0,exportInstant:1,importTotal:2,exportTotal:3})}}function Da(t){let e;function l(o,r){return o[3]?hp:vp}let n=l(t),i=n(t);return{c(){i.c(),e=Ke()},m(o,r){i.m(o,r),w(o,e,r)},p(o,r){n===(n=l(o))&&i?i.p(o,r):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&k(e)}}}function vp(t){let e,l,n,i,o,r,a=me(t[1].h.u,2)+"",c,f,p,_,b,d,v=me(t[1].d.u,1)+"",g,T,C,$,M,F,S=me(t[1].m.u)+"",D,A,E,Y,R,U,H=me(t[0].last_month.u)+"",z,q,L,B,O=t[4]&&Aa(t);return{c(){e=m("strong"),e.textContent="Consumption",l=h(),n=m("div"),i=m("div"),i.textContent="Hour",o=h(),r=m("div"),c=y(a),f=y(" kWh"),p=h(),_=m("div"),_.textContent="Day",b=h(),d=m("div"),g=y(v),T=y(" kWh"),C=h(),$=m("div"),$.textContent="Month",M=h(),F=m("div"),D=y(S),A=y(" kWh"),E=h(),Y=m("div"),Y.textContent="Last month",R=h(),U=m("div"),z=y(H),q=y(" kWh"),L=h(),O&&O.c(),B=Ke(),u(r,"class","text-right"),u(d,"class","text-right"),u(F,"class","text-right"),u(U,"class","text-right"),u(n,"class","grid grid-cols-2 mb-3")},m(j,G){w(j,e,G),w(j,l,G),w(j,n,G),s(n,i),s(n,o),s(n,r),s(r,c),s(r,f),s(n,p),s(n,_),s(n,b),s(n,d),s(d,g),s(d,T),s(n,C),s(n,$),s(n,M),s(n,F),s(F,D),s(F,A),s(n,E),s(n,Y),s(n,R),s(n,U),s(U,z),s(U,q),w(j,L,G),O&&O.m(j,G),w(j,B,G)},p(j,G){G&2&&a!==(a=me(j[1].h.u,2)+"")&&W(c,a),G&2&&v!==(v=me(j[1].d.u,1)+"")&&W(g,v),G&2&&S!==(S=me(j[1].m.u)+"")&&W(D,S),G&1&&H!==(H=me(j[0].last_month.u)+"")&&W(z,H),j[4]?O?O.p(j,G):(O=Aa(j),O.c(),O.m(B.parentNode,B)):O&&(O.d(1),O=null)},d(j){j&&k(e),j&&k(l),j&&k(n),j&&k(L),O&&O.d(j),j&&k(B)}}}function hp(t){let e,l,n,i,o,r,a=me(t[1].h.u,2)+"",c,f,p,_,b,d,v,g=me(t[1].d.u,1)+"",T,C,$,M,F,S,D,A=me(t[1].m.u)+"",E,Y,R,U,H,z,q,L=me(t[0].last_month.u)+"",B,O,j,G,te,le,pe,ie,Pe,je,De,We=me(t[1].h.p,2)+"",be,ye,Re,ge,ae,$e,J,se=me(t[1].d.p,1)+"",Fe,Le,_e,Ce,Ne,de,Te,ee=me(t[1].m.p)+"",oe,Ue,ue,ve,dt,Wl,tl,ct=me(t[0].last_month.p)+"",Ml,pl,jt,vt,Qe=t[4]&&Ea(t),Xe=t[4]&&Ia(t),Ze=t[4]&&Fa(t),He=t[4]&&Ra(t),Je=t[4]&&La(t),Ge=t[4]&&Oa(t),xe=t[4]&&qa(t),et=t[4]&&Ua(t);return{c(){e=m("strong"),e.textContent="Import",l=h(),n=m("div"),i=m("div"),i.textContent="Hour",o=h(),r=m("div"),c=y(a),f=y(" kWh"),p=h(),Qe&&Qe.c(),_=h(),b=m("div"),b.textContent="Day",d=h(),v=m("div"),T=y(g),C=y(" kWh"),$=h(),Xe&&Xe.c(),M=h(),F=m("div"),F.textContent="Month",S=h(),D=m("div"),E=y(A),Y=y(" kWh"),R=h(),Ze&&Ze.c(),U=h(),H=m("div"),H.textContent="Last mo.",z=h(),q=m("div"),B=y(L),O=y(" kWh"),j=h(),He&&He.c(),te=h(),le=m("strong"),le.textContent="Export",pe=h(),ie=m("div"),Pe=m("div"),Pe.textContent="Hour",je=h(),De=m("div"),be=y(We),ye=y(" kWh"),Re=h(),Je&&Je.c(),ge=h(),ae=m("div"),ae.textContent="Day",$e=h(),J=m("div"),Fe=y(se),Le=y(" kWh"),_e=h(),Ge&&Ge.c(),Ce=h(),Ne=m("div"),Ne.textContent="Month",de=h(),Te=m("div"),oe=y(ee),Ue=y(" kWh"),ue=h(),xe&&xe.c(),ve=h(),dt=m("div"),dt.textContent="Last mo.",Wl=h(),tl=m("div"),Ml=y(ct),pl=y(" kWh"),jt=h(),et&&et.c(),u(r,"class","text-right"),u(v,"class","text-right"),u(D,"class","text-right"),u(q,"class","text-right"),u(n,"class",G="grid grid-cols-"+t[5]+" mb-3"),u(De,"class","text-right"),u(J,"class","text-right"),u(Te,"class","text-right"),u(tl,"class","text-right"),u(ie,"class",vt="grid grid-cols-"+t[5])},m(re,he){w(re,e,he),w(re,l,he),w(re,n,he),s(n,i),s(n,o),s(n,r),s(r,c),s(r,f),s(n,p),Qe&&Qe.m(n,null),s(n,_),s(n,b),s(n,d),s(n,v),s(v,T),s(v,C),s(n,$),Xe&&Xe.m(n,null),s(n,M),s(n,F),s(n,S),s(n,D),s(D,E),s(D,Y),s(n,R),Ze&&Ze.m(n,null),s(n,U),s(n,H),s(n,z),s(n,q),s(q,B),s(q,O),s(n,j),He&&He.m(n,null),w(re,te,he),w(re,le,he),w(re,pe,he),w(re,ie,he),s(ie,Pe),s(ie,je),s(ie,De),s(De,be),s(De,ye),s(ie,Re),Je&&Je.m(ie,null),s(ie,ge),s(ie,ae),s(ie,$e),s(ie,J),s(J,Fe),s(J,Le),s(ie,_e),Ge&&Ge.m(ie,null),s(ie,Ce),s(ie,Ne),s(ie,de),s(ie,Te),s(Te,oe),s(Te,Ue),s(ie,ue),xe&&xe.m(ie,null),s(ie,ve),s(ie,dt),s(ie,Wl),s(ie,tl),s(tl,Ml),s(tl,pl),s(ie,jt),et&&et.m(ie,null)},p(re,he){he&2&&a!==(a=me(re[1].h.u,2)+"")&&W(c,a),re[4]?Qe?Qe.p(re,he):(Qe=Ea(re),Qe.c(),Qe.m(n,_)):Qe&&(Qe.d(1),Qe=null),he&2&&g!==(g=me(re[1].d.u,1)+"")&&W(T,g),re[4]?Xe?Xe.p(re,he):(Xe=Ia(re),Xe.c(),Xe.m(n,M)):Xe&&(Xe.d(1),Xe=null),he&2&&A!==(A=me(re[1].m.u)+"")&&W(E,A),re[4]?Ze?Ze.p(re,he):(Ze=Fa(re),Ze.c(),Ze.m(n,U)):Ze&&(Ze.d(1),Ze=null),he&1&&L!==(L=me(re[0].last_month.u)+"")&&W(B,L),re[4]?He?He.p(re,he):(He=Ra(re),He.c(),He.m(n,null)):He&&(He.d(1),He=null),he&32&&G!==(G="grid grid-cols-"+re[5]+" mb-3")&&u(n,"class",G),he&2&&We!==(We=me(re[1].h.p,2)+"")&&W(be,We),re[4]?Je?Je.p(re,he):(Je=La(re),Je.c(),Je.m(ie,ge)):Je&&(Je.d(1),Je=null),he&2&&se!==(se=me(re[1].d.p,1)+"")&&W(Fe,se),re[4]?Ge?Ge.p(re,he):(Ge=Oa(re),Ge.c(),Ge.m(ie,Ce)):Ge&&(Ge.d(1),Ge=null),he&2&&ee!==(ee=me(re[1].m.p)+"")&&W(oe,ee),re[4]?xe?xe.p(re,he):(xe=qa(re),xe.c(),xe.m(ie,ve)):xe&&(xe.d(1),xe=null),he&1&&ct!==(ct=me(re[0].last_month.p)+"")&&W(Ml,ct),re[4]?et?et.p(re,he):(et=Ua(re),et.c(),et.m(ie,null)):et&&(et.d(1),et=null),he&32&&vt!==(vt="grid grid-cols-"+re[5])&&u(ie,"class",vt)},d(re){re&&k(e),re&&k(l),re&&k(n),Qe&&Qe.d(),Xe&&Xe.d(),Ze&&Ze.d(),He&&He.d(),re&&k(te),re&&k(le),re&&k(pe),re&&k(ie),Je&&Je.d(),Ge&&Ge.d(),xe&&xe.d(),et&&et.d()}}}function Aa(t){let e,l,n,i,o,r,a=me(t[1].h.c,2)+"",c,f,p,_,b,d,v,g=me(t[1].d.c,1)+"",T,C,$,M,F,S,D,A=me(t[1].m.c)+"",E,Y,R,U,H,z,q,L=me(t[0].last_month.c)+"",B,O,j;return{c(){e=m("strong"),e.textContent="Cost",l=h(),n=m("div"),i=m("div"),i.textContent="Hour",o=h(),r=m("div"),c=y(a),f=h(),p=y(t[2]),_=h(),b=m("div"),b.textContent="Day",d=h(),v=m("div"),T=y(g),C=h(),$=y(t[2]),M=h(),F=m("div"),F.textContent="Month",S=h(),D=m("div"),E=y(A),Y=h(),R=y(t[2]),U=h(),H=m("div"),H.textContent="Last month",z=h(),q=m("div"),B=y(L),O=h(),j=y(t[2]),u(r,"class","text-right"),u(v,"class","text-right"),u(D,"class","text-right"),u(q,"class","text-right"),u(n,"class","grid grid-cols-2")},m(G,te){w(G,e,te),w(G,l,te),w(G,n,te),s(n,i),s(n,o),s(n,r),s(r,c),s(r,f),s(r,p),s(n,_),s(n,b),s(n,d),s(n,v),s(v,T),s(v,C),s(v,$),s(n,M),s(n,F),s(n,S),s(n,D),s(D,E),s(D,Y),s(D,R),s(n,U),s(n,H),s(n,z),s(n,q),s(q,B),s(q,O),s(q,j)},p(G,te){te&2&&a!==(a=me(G[1].h.c,2)+"")&&W(c,a),te&4&&W(p,G[2]),te&2&&g!==(g=me(G[1].d.c,1)+"")&&W(T,g),te&4&&W($,G[2]),te&2&&A!==(A=me(G[1].m.c)+"")&&W(E,A),te&4&&W(R,G[2]),te&1&&L!==(L=me(G[0].last_month.c)+"")&&W(B,L),te&4&&W(j,G[2])},d(G){G&&k(e),G&&k(l),G&&k(n)}}}function Ea(t){let e,l=me(t[1].h.c,2)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=me(r[1].h.c,2)+"")&&W(n,l),a&4&&W(o,r[2])},d(r){r&&k(e)}}}function Ia(t){let e,l=me(t[1].d.c,1)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=me(r[1].d.c,1)+"")&&W(n,l),a&4&&W(o,r[2])},d(r){r&&k(e)}}}function Fa(t){let e,l=me(t[1].m.c)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=me(r[1].m.c)+"")&&W(n,l),a&4&&W(o,r[2])},d(r){r&&k(e)}}}function Ra(t){let e,l=me(t[0].last_month.c)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&1&&l!==(l=me(r[0].last_month.c)+"")&&W(n,l),a&4&&W(o,r[2])},d(r){r&&k(e)}}}function La(t){let e,l=me(t[1].h.i,2)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=me(r[1].h.i,2)+"")&&W(n,l),a&4&&W(o,r[2])},d(r){r&&k(e)}}}function Oa(t){let e,l=me(t[1].d.i,1)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=me(r[1].d.i,1)+"")&&W(n,l),a&4&&W(o,r[2])},d(r){r&&k(e)}}}function qa(t){let e,l=me(t[1].m.i)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=me(r[1].m.i)+"")&&W(n,l),a&4&&W(o,r[2])},d(r){r&&k(e)}}}function Ua(t){let e,l=me(t[0].last_month.i)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){w(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&1&&l!==(l=me(r[0].last_month.i)+"")&&W(n,l),a&4&&W(o,r[2])},d(r){r&&k(e)}}}function bp(t){let e,l,n,i,o,r,a=t[1]&&Da(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Real time calculation",n=h(),i=m("br"),o=m("br"),r=h(),a&&a.c(),u(e,"class","mx-2 text-sm")},m(c,f){w(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),s(e,r),a&&a.m(e,null)},p(c,[f]){c[1]?a?a.p(c,f):(a=Da(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:ne,o:ne,d(c){c&&k(e),a&&a.d()}}}function gp(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:o}=e,{hasExport:r}=e,a=!1,c=3;return t.$$set=f=>{"sysinfo"in f&&l(0,n=f.sysinfo),"data"in f&&l(1,i=f.data),"currency"in f&&l(2,o=f.currency),"hasExport"in f&&l(3,r=f.hasExport)},t.$$.update=()=>{t.$$.dirty&18&&(l(4,a=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),l(5,c=a?3:2))},[n,i,o,r,a,c]}class kp extends Me{constructor(e){super(),Se(this,e,gp,bp,we,{sysinfo:0,data:1,currency:2,hasExport:3})}}function wp(t){let e,l,n=ea(t[0].source)+"",i,o,r,a;return r=new pn({props:{config:t[1]}}),{c(){e=m("a"),l=y("Provided by: "),i=y(n),o=h(),Z(r.$$.fragment),u(e,"href","https://transparency.entsoe.eu/"),u(e,"target","_blank"),u(e,"class","text-xs float-right z-40")},m(c,f){w(c,e,f),s(e,l),s(e,i),w(c,o,f),Q(r,c,f),a=!0},p(c,[f]){(!a||f&1)&&n!==(n=ea(c[0].source)+"")&&W(i,n);const p={};f&2&&(p.config=c[1]),r.$set(p)},i(c){a||(P(r.$$.fragment,c),a=!0)},o(c){I(r.$$.fragment,c),a=!1},d(c){c&&k(e),c&&k(o),X(r,c)}}}function yp(t,e,l){let{json:n}=e,{sysinfo:i}=e,o={},r,a;return t.$$set=c=>{"json"in c&&l(0,n=c.json),"sysinfo"in c&&l(2,i=c.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&29){let c=n.currency,f=new Date().getUTCHours(),p=0,_=0,b=0,d=[],v=[],g=[];l(4,a=l(3,r=0));let T=new Date;for(fl(T,i.clock_offset-(24+T.getHours()-T.getUTCHours())%24),p=f;p<24&&(_=n[Ie(b++)],_!=null);p++)v.push({label:Ie(T.getHours())}),g.push(_*100),l(4,a=Math.min(a,_*100)),l(3,r=Math.max(r,_*100)),fl(T,1);for(p=0;p<24&&(_=n[Ie(b++)],_!=null);p++)v.push({label:Ie(T.getHours())}),g.push(_*100),l(4,a=Math.min(a,_*100)),l(3,r=Math.max(r,_*100)),fl(T,1);if(a>-100&&r<100){switch(c){case"NOK":case"SEK":case"DKK":c="øre";break;case"EUR":c="cent";break;default:c=c+"/100"}for(l(4,a*=100),l(3,r*=100),p=0;p<g.length;p++)g[p]*=100}let C=[];for(p=0;p<g.length;p++){_=g[p];let S=_*.01,D=Math.abs(_)<1e3?2:0;C.push({label:S>=0?S.toFixed(D):"",title:S>=0?S.toFixed(2)+" "+c:"",value:_>=0?Math.abs(_):0,label2:S<0?S.toFixed(D):"",title2:S<0?S.toFixed(2)+" "+c:"",value2:_<0?Math.abs(_):0,color:"#7c3aed"})}let $=Math.max(r,Math.abs(a));if(a<0){l(4,a=Math.min($/4*-1,a));let S=Math.ceil(Math.abs(a)/$*4),D=a/S;for(p=1;p<S+1;p++){let A=D*p;d.push({value:A,label:(A/100).toFixed(2)})}}l(3,r=Math.max($/4,r));let M=Math.ceil(r/$*4),F=r/M;for(p=0;p<M+1;p++){let S=F*p;d.push({value:S,label:(S/100).toFixed(2)})}l(1,o={title:"Future energy price ("+c+")",padding:{top:20,right:15,bottom:20,left:35},y:{min:a,max:r,ticks:d},x:{ticks:v},points:C})}},[n,o,i,r,a]}class $p extends Me{constructor(e){super(),Se(this,e,yp,wp,we,{json:0,sysinfo:2})}}function Cp(t){let e,l;return e=new pn({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Tp(t,e,l){let{json:n}=e,{sysinfo:i}=e,o={},r,a;return t.$$set=c=>{"json"in c&&l(1,n=c.json),"sysinfo"in c&&l(2,i=c.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&30){let c=0,f=[],p=[],_=[];l(4,a=l(3,r=0));let b=fl(new Date,-24),d=new Date().getUTCHours();for(fl(b,i.clock_offset-(24+b.getHours()-b.getUTCHours())%24),c=d;c<24;c++){let C=n["i"+Ie(c)],$=n["e"+Ie(c)];C===void 0&&(C=0),$===void 0&&($=0),p.push({label:Ie(b.getHours())}),_.push({label:C.toFixed(1),title:C.toFixed(2)+" kWh",value:C*10,label2:$.toFixed(1),title2:$.toFixed(2)+" kWh",value2:$*10,color:"#7c3aed",color2:"#37829E"}),l(4,a=Math.max(a,$*10)),l(3,r=Math.max(r,C*10)),fl(b,1)}for(c=0;c<d;c++){let C=n["i"+Ie(c)],$=n["e"+Ie(c)];C===void 0&&(C=0),$===void 0&&($=0),p.push({label:Ie(b.getHours())}),_.push({label:C.toFixed(1),title:C.toFixed(2)+" kWh",value:C*10,label2:$.toFixed(1),title2:$.toFixed(2)+" kWh",value2:$*10,color:"#7c3aed",color2:"#37829E"}),l(4,a=Math.max(a,$*10)),l(3,r=Math.max(r,C*10)),fl(b,1)}l(4,a*=-1);let v=Math.max(r,Math.abs(a));if(a<0){l(4,a=Math.min(v/4*-1,a));let C=Math.ceil(Math.abs(a)/v*4),$=a/C;for(c=1;c<C+1;c++){let M=$*c;f.push({value:M,label:(M/10).toFixed(1)})}}l(3,r=Math.max(v/4,r));let g=Math.ceil(r/v*4),T=r/g;for(c=0;c<g+1;c++){let C=T*c;f.push({value:C,label:(C/10).toFixed(1)})}l(0,o={title:"Energy use last 24 hours (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:a,max:r,ticks:f},x:{ticks:p},points:_})}},[o,n,i,r,a]}class Sp extends Me{constructor(e){super(),Se(this,e,Tp,Cp,we,{json:1,sysinfo:2})}}function Mp(t){let e,l;return e=new pn({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Pp(t,e,l){let{json:n}=e,{sysinfo:i}=e,o={},r,a;return t.$$set=c=>{"json"in c&&l(1,n=c.json),"sysinfo"in c&&l(2,i=c.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&30){let c=0,f=[],p=[],_=[];l(4,a=l(3,r=0));let b=new Date,d=new Date;for(fl(b,i.clock_offset-(24+b.getHours()-b.getUTCHours())%24),fl(d,i.clock_offset-(24+d.getHours()-d.getUTCHours())%24),d.setDate(0),c=b.getDate();c<=d.getDate();c++){let C=n["i"+Ie(c)],$=n["e"+Ie(c)];C===void 0&&(C=0),$===void 0&&($=0),p.push({label:Ie(c)}),_.push({label:C.toFixed(C<10?1:0),title:C.toFixed(2)+" kWh",value:C,label2:$.toFixed($<10?1:0),title2:$.toFixed(2)+" kWh",value2:$,color:"#7c3aed",color2:"#37829E"}),l(4,a=Math.max(a,$)),l(3,r=Math.max(r,C))}for(c=1;c<b.getDate();c++){let C=n["i"+Ie(c)],$=n["e"+Ie(c)];C===void 0&&(C=0),$===void 0&&($=0),p.push({label:Ie(c)}),_.push({label:C.toFixed(C<10?1:0),title:C.toFixed(2)+" kWh",value:C,label2:$.toFixed($<10?1:0),title2:$.toFixed(2)+" kWh",value2:$,color:"#7c3aed",color2:"#37829E"}),l(4,a=Math.max(a,$)),l(3,r=Math.max(r,C))}l(4,a*=-1);let v=Math.max(r,Math.abs(a));if(a<0){l(4,a=Math.min(v/4*-1,a));let C=Math.ceil(Math.abs(a)/v*4),$=a/C;for(c=1;c<C+1;c++){let M=$*c;f.push({value:M,label:M.toFixed(0)})}}l(3,r=Math.max(v/4,r));let g=Math.ceil(r/v*4),T=r/g;for(c=0;c<g+1;c++){let C=T*c;f.push({value:C,label:C.toFixed(0)})}l(0,o={title:"Energy use last "+d.getDate()+" days (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:a,max:r,ticks:f},x:{ticks:p},points:_})}},[o,n,i,r,a]}class Np extends Me{constructor(e){super(),Se(this,e,Pp,Mp,we,{json:1,sysinfo:2})}}function Dp(t){let e,l;return e=new pn({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Ap(t,e,l){let{json:n}=e,i={},o=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,c=0,f=[],p=[],_=[];n.s&&n.s.forEach((v,g)=>{var T=v.n?v.n:v.a;c=v.v,c==-127&&(c=0),p.push({label:T.slice(-4)}),_.push({label:c.toFixed(1),value:c,color:"#7c3aed"}),l(3,r=Math.min(r,c)),l(2,o=Math.max(o,c))}),l(2,o=Math.ceil(o)),l(3,r=Math.floor(r));let b=o;r<0&&(b+=Math.abs(r));let d=b/4;for(a=0;a<5;a++)c=r+d*a,f.push({value:c,label:c.toFixed(1)});l(0,i={title:"Temperature sensors (°C)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:o,ticks:f},x:{ticks:p},points:_})}},[i,n,o,r]}class Ep extends Me{constructor(e){super(),Se(this,e,Ap,Dp,we,{json:1})}}function Ip(t){let e,l;return e=new pn({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}let Fp=0;function Rp(t,e,l){let n={},i=0,o;return Hc.subscribe(r=>{l(2,o=r)}),Uc(),t.$$.update=()=>{if(t.$$.dirty&6){let r=0,a=[],c=[],f=[];if(a.push({value:0,label:0}),o&&o.p)for(r=0;r<o.p.length;r++){let p=o.p[r];f.push({label:p.v.toFixed(2),value:p.v,color:"#7c3aed"}),c.push({label:p.d>0?Ie(p.d)+"."+no[new Date().getMonth()]:"-"}),l(1,i=Math.max(i,p.v))}if(o&&o.t){for(r=0;r<o.t.length;r++){let p=o.t[r];if(p>=i)break;a.push({value:p,label:p})}a.push({label:o.m.toFixed(1),align:"right",color:"green",value:o.m})}o&&o.c&&(a.push({label:o.c.toFixed(0),color:"orange",value:o.c}),l(1,i=Math.max(i,o.c))),l(1,i=Math.ceil(i)),l(0,n={title:"Tariff peaks",padding:{top:20,right:35,bottom:20,left:35},y:{min:Fp,max:i,ticks:a},x:{ticks:c},points:f})}},[n,i,o]}class Lp extends Me{constructor(e){super(),Se(this,e,Rp,Ip,we,{})}}function Ha(t){let e,l,n,i,o,r,a=(t[0].mt?Ts(t[0].mt):"-")+"",c,f,p,_=(t[0].ic?t[0].ic.toFixed(1):"-")+"",b,d,v;return i=new zc({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:"Import",sub:t[0].p,subunit:t[0].pc,colorFn:Ec}}),{c(){e=m("div"),l=m("div"),n=m("div"),Z(i.$$.fragment),o=h(),r=m("div"),c=y(a),f=h(),p=m("div"),b=y(_),d=y(" kWh"),u(n,"class","col-span-2"),u(p,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(g,T){w(g,e,T),s(e,l),s(l,n),Q(i,n,null),s(l,o),s(l,r),s(r,c),s(l,f),s(l,p),s(p,b),s(p,d),v=!0},p(g,T){const C={};T&1&&(C.val=g[0].i?g[0].i:0),T&1&&(C.max=g[0].im?g[0].im:15e3),T&1&&(C.sub=g[0].p),T&1&&(C.subunit=g[0].pc),i.$set(C),(!v||T&1)&&a!==(a=(g[0].mt?Ts(g[0].mt):"-")+"")&&W(c,a),(!v||T&1)&&_!==(_=(g[0].ic?g[0].ic.toFixed(1):"-")+"")&&W(b,_)},i(g){v||(P(i.$$.fragment,g),v=!0)},o(g){I(i.$$.fragment,g),v=!1},d(g){g&&k(e),X(i)}}}function ja(t){let e,l,n,i,o,r,a,c,f=(t[0].ec?t[0].ec.toFixed(1):"-")+"",p,_,b;return i=new zc({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:"Export",colorFn:gm}}),{c(){e=m("div"),l=m("div"),n=m("div"),Z(i.$$.fragment),o=h(),r=m("div"),a=h(),c=m("div"),p=y(f),_=y(" kWh"),u(n,"class","col-span-2"),u(c,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(d,v){w(d,e,v),s(e,l),s(l,n),Q(i,n,null),s(l,o),s(l,r),s(l,a),s(l,c),s(c,p),s(c,_),b=!0},p(d,v){const g={};v&1&&(g.val=d[0].e?d[0].e:0),v&1&&(g.max=d[0].om?d[0].om*1e3:1e4),i.$set(g),(!b||v&1)&&f!==(f=(d[0].ec?d[0].ec.toFixed(1):"-")+"")&&W(p,f)},i(d){b||(P(i.$$.fragment,d),b=!0)},o(d){I(i.$$.fragment,d),b=!1},d(d){d&&k(e),X(i)}}}function Wa(t){let e,l,n;return l=new ap({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,ds:t[0].ds}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt")},m(i,o){w(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.u1=i[0].u1),o&1&&(r.u2=i[0].u2),o&1&&(r.u3=i[0].u3),o&1&&(r.ds=i[0].ds),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Ga(t){let e,l,n;return l=new mp({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,i1:t[0].i1,i2:t[0].i2,i3:t[0].i3,max:t[0].mf?t[0].mf:32}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt")},m(i,o){w(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.u1=i[0].u1),o&1&&(r.u2=i[0].u2),o&1&&(r.u3=i[0].u3),o&1&&(r.i1=i[0].i1),o&1&&(r.i2=i[0].i2),o&1&&(r.i3=i[0].i3),o&1&&(r.max=i[0].mf?i[0].mf:32),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Ba(t){let e,l,n;return l=new dp({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt")},m(i,o){w(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.importInstant=i[0].ri),o&1&&(r.exportInstant=i[0].re),o&1&&(r.importTotal=i[0].ric),o&1&&(r.exportTotal=i[0].rec),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function za(t){let e,l,n;return l=new kp({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt")},m(i,o){w(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&2&&(r.sysinfo=i[1]),o&1&&(r.data=i[0].ea),o&1&&(r.currency=i[0].pc),o&1&&(r.hasExport=i[0].om>0||i[0].e>0),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Ya(t){let e,l,n;return l=new Lp({}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt h-64")},m(i,o){w(i,e,o),Q(l,e,null),n=!0},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Ka(t){let e,l,n;return l=new $p({props:{json:t[2],sysinfo:t[1]}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){w(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&4&&(r.json=i[2]),o&2&&(r.sysinfo=i[1]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Va(t){let e,l,n;return l=new Sp({props:{json:t[3],sysinfo:t[1]}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){w(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&8&&(r.json=i[3]),o&2&&(r.sysinfo=i[1]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Qa(t){let e,l,n;return l=new Np({props:{json:t[4],sysinfo:t[1]}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){w(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&16&&(r.json=i[4]),o&2&&(r.sysinfo=i[1]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Xa(t){let e,l,n;return l=new Ep({props:{json:t[5]}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){w(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&32&&(r.json=i[5]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&k(e),X(l)}}}function Op(t){let e,l=Ye(t[1].ui.i,t[0].i),n,i=Ye(t[1].ui.e,t[0].om||t[0].e>0),o,r=Ye(t[1].ui.v,t[0].u1>100||t[0].u2>100||t[0].u3>100),a,c=Ye(t[1].ui.a,t[0].i1>.01||t[0].i2>.01||t[0].i3>.01),f,p=Ye(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),_,b=Ye(t[1].ui.c,t[0].ea),d,v=Ye(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("10YNO")||t[0].pr=="10Y1001A1001A48H")),g,T=Ye(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),C,$=Ye(t[1].ui.d,t[3]),M,F=Ye(t[1].ui.m,t[4]),S,D=Ye(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),A,E=l&&Ha(t),Y=i&&ja(t),R=r&&Wa(t),U=c&&Ga(t),H=p&&Ba(t),z=b&&za(t),q=v&&Ya(),L=T&&Ka(t),B=$&&Va(t),O=F&&Qa(t),j=D&&Xa(t);return{c(){e=m("div"),E&&E.c(),n=h(),Y&&Y.c(),o=h(),R&&R.c(),a=h(),U&&U.c(),f=h(),H&&H.c(),_=h(),z&&z.c(),d=h(),q&&q.c(),g=h(),L&&L.c(),C=h(),B&&B.c(),M=h(),O&&O.c(),S=h(),j&&j.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(G,te){w(G,e,te),E&&E.m(e,null),s(e,n),Y&&Y.m(e,null),s(e,o),R&&R.m(e,null),s(e,a),U&&U.m(e,null),s(e,f),H&&H.m(e,null),s(e,_),z&&z.m(e,null),s(e,d),q&&q.m(e,null),s(e,g),L&&L.m(e,null),s(e,C),B&&B.m(e,null),s(e,M),O&&O.m(e,null),s(e,S),j&&j.m(e,null),A=!0},p(G,[te]){te&3&&(l=Ye(G[1].ui.i,G[0].i)),l?E?(E.p(G,te),te&3&&P(E,1)):(E=Ha(G),E.c(),P(E,1),E.m(e,n)):E&&(Ae(),I(E,1,1,()=>{E=null}),Ee()),te&3&&(i=Ye(G[1].ui.e,G[0].om||G[0].e>0)),i?Y?(Y.p(G,te),te&3&&P(Y,1)):(Y=ja(G),Y.c(),P(Y,1),Y.m(e,o)):Y&&(Ae(),I(Y,1,1,()=>{Y=null}),Ee()),te&3&&(r=Ye(G[1].ui.v,G[0].u1>100||G[0].u2>100||G[0].u3>100)),r?R?(R.p(G,te),te&3&&P(R,1)):(R=Wa(G),R.c(),P(R,1),R.m(e,a)):R&&(Ae(),I(R,1,1,()=>{R=null}),Ee()),te&3&&(c=Ye(G[1].ui.a,G[0].i1>.01||G[0].i2>.01||G[0].i3>.01)),c?U?(U.p(G,te),te&3&&P(U,1)):(U=Ga(G),U.c(),P(U,1),U.m(e,f)):U&&(Ae(),I(U,1,1,()=>{U=null}),Ee()),te&3&&(p=Ye(G[1].ui.r,G[0].ri>0||G[0].re>0||G[0].ric>0||G[0].rec>0)),p?H?(H.p(G,te),te&3&&P(H,1)):(H=Ba(G),H.c(),P(H,1),H.m(e,_)):H&&(Ae(),I(H,1,1,()=>{H=null}),Ee()),te&3&&(b=Ye(G[1].ui.c,G[0].ea)),b?z?(z.p(G,te),te&3&&P(z,1)):(z=za(G),z.c(),P(z,1),z.m(e,d)):z&&(Ae(),I(z,1,1,()=>{z=null}),Ee()),te&3&&(v=Ye(G[1].ui.t,G[0].pr&&(G[0].pr.startsWith("10YNO")||G[0].pr=="10Y1001A1001A48H"))),v?q?te&3&&P(q,1):(q=Ya(),q.c(),P(q,1),q.m(e,g)):q&&(Ae(),I(q,1,1,()=>{q=null}),Ee()),te&3&&(T=Ye(G[1].ui.p,G[0].pe&&!Number.isNaN(G[0].p))),T?L?(L.p(G,te),te&3&&P(L,1)):(L=Ka(G),L.c(),P(L,1),L.m(e,C)):L&&(Ae(),I(L,1,1,()=>{L=null}),Ee()),te&10&&($=Ye(G[1].ui.d,G[3])),$?B?(B.p(G,te),te&10&&P(B,1)):(B=Va(G),B.c(),P(B,1),B.m(e,M)):B&&(Ae(),I(B,1,1,()=>{B=null}),Ee()),te&18&&(F=Ye(G[1].ui.m,G[4])),F?O?(O.p(G,te),te&18&&P(O,1)):(O=Qa(G),O.c(),P(O,1),O.m(e,S)):O&&(Ae(),I(O,1,1,()=>{O=null}),Ee()),te&35&&(D=Ye(G[1].ui.s,G[0].t&&G[0].t!=-127&&G[5].c>1)),D?j?(j.p(G,te),te&35&&P(j,1)):(j=Xa(G),j.c(),P(j,1),j.m(e,null)):j&&(Ae(),I(j,1,1,()=>{j=null}),Ee())},i(G){A||(P(E),P(Y),P(R),P(U),P(H),P(z),P(q),P(L),P(B),P(O),P(j),A=!0)},o(G){I(E),I(Y),I(R),I(U),I(H),I(z),I(q),I(L),I(B),I(O),I(j),A=!1},d(G){G&&k(e),E&&E.d(),Y&&Y.d(),R&&R.d(),U&&U.d(),H&&H.d(),z&&z.d(),q&&q.d(),L&&L.d(),B&&B.d(),O&&O.d(),j&&j.d()}}}function qp(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,o={},r={},a={},c={};return $o.subscribe(f=>{l(2,o=f)}),Rc.subscribe(f=>{l(3,r=f)}),Lc.subscribe(f=>{l(4,a=f)}),qc.subscribe(f=>{l(5,c=f)}),t.$$set=f=>{"data"in f&&l(0,n=f.data),"sysinfo"in f&&l(1,i=f.sysinfo)},[n,i,o,r,a,c]}class Up extends Me{constructor(e){super(),Se(this,e,qp,Op,we,{data:0,sysinfo:1})}}let fo={};const $i=rt(fo);async function Hp(){fo=await(await fetch("/configuration.json")).json(),$i.set(fo)}function Za(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function jp(t){let e;return{c(){e=m("option"),e.textContent="UART0",e.__value=3,e.value=e.__value},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Wp(t){let e;return{c(){e=m("option"),e.textContent="UART0",e.__value=20,e.value=e.__value},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Ja(t){let e;return{c(){e=m("option"),e.textContent="UART2",e.__value=113,e.value=e.__value},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function xa(t){let e,l,n;return{c(){e=m("option"),e.textContent="UART1",l=h(),n=m("option"),n.textContent="UART2",e.__value=9,e.value=e.__value,n.__value=16,n.value=n.__value},m(i,o){w(i,e,o),w(i,l,o),w(i,n,o)},d(i){i&&k(e),i&&k(l),i&&k(n)}}}function ef(t){let e;return{c(){e=m("option"),e.textContent="UART1",e.__value=18,e.value=e.__value},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function tf(t){let e,l,n;return{c(){e=m("option"),l=y("GPIO"),n=y(t[4]),e.__value=t[4],e.value=e.__value},m(i,o){w(i,e,o),s(e,l),s(e,n)},d(i){i&&k(e)}}}function lf(t){let e,l=t[4]>3&&!(t[0]=="esp32"&&(t[4]==9||t[4]==16))&&!(t[0]=="esp32s2"&&t[4]==18)&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&tf(t);return{c(){l&&l.c(),e=Ke()},m(n,i){l&&l.m(n,i),w(n,e,i)},p(n,i){n[4]>3&&!(n[0]=="esp32"&&(n[4]==9||n[4]==16))&&!(n[0]=="esp32s2"&&n[4]==18)&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=tf(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){l&&l.d(n),n&&k(e)}}}function Gp(t){let e,l,n,i,o;function r(v,g){return v[0]=="esp32c3"?Wp:jp}let a=r(t),c=a(t),f=t[0]=="esp8266"&&Ja(),p=(t[0]=="esp32"||t[0]=="esp32solo")&&xa(),_=t[0]=="esp32s2"&&ef(),b={length:t[1]+1},d=[];for(let v=0;v<b.length;v+=1)d[v]=lf(Za(t,b,v));return{c(){c.c(),e=h(),f&&f.c(),l=h(),p&&p.c(),n=h(),_&&_.c(),i=h();for(let v=0;v<d.length;v+=1)d[v].c();o=Ke()},m(v,g){c.m(v,g),w(v,e,g),f&&f.m(v,g),w(v,l,g),p&&p.m(v,g),w(v,n,g),_&&_.m(v,g),w(v,i,g);for(let T=0;T<d.length;T+=1)d[T]&&d[T].m(v,g);w(v,o,g)},p(v,[g]){if(a!==(a=r(v))&&(c.d(1),c=a(v),c&&(c.c(),c.m(e.parentNode,e))),v[0]=="esp8266"?f||(f=Ja(),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),v[0]=="esp32"||v[0]=="esp32solo"?p||(p=xa(),p.c(),p.m(n.parentNode,n)):p&&(p.d(1),p=null),v[0]=="esp32s2"?_||(_=ef(),_.c(),_.m(i.parentNode,i)):_&&(_.d(1),_=null),g&3){b={length:v[1]+1};let T;for(T=0;T<b.length;T+=1){const C=Za(v,b,T);d[T]?d[T].p(C,g):(d[T]=lf(C),d[T].c(),d[T].m(o.parentNode,o))}for(;T<d.length;T+=1)d[T].d(1);d.length=b.length}},i:ne,o:ne,d(v){c.d(v),v&&k(e),f&&f.d(v),v&&k(l),p&&p.d(v),v&&k(n),_&&_.d(v),v&&k(i),cl(d,v),v&&k(o)}}}function Bp(t,e,l){let{chip:n}=e,i=39;return t.$$set=o=>{"chip"in o&&l(0,n=o.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(n){case"esp8266":l(1,i=16);break;case"esp32s2":l(1,i=44);break;case"esp32c3":l(1,i=19);break}},[n,i]}class Yc extends Me{constructor(e){super(),Se(this,e,Bp,Gp,we,{chip:0})}}function nf(t){let e,l,n=t[1]&&sf(t);return{c(){e=m("div"),l=m("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,o){w(i,e,o),s(e,l),n&&n.m(l,null)},p(i,o){i[1]?n?n.p(i,o):(n=sf(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&k(e),n&&n.d()}}}function sf(t){let e,l;return{c(){e=m("div"),l=y(t[1]),u(e,"class","bg-white m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 w-96")},m(n,i){w(n,e,i),s(e,l)},p(n,i){i&2&&W(l,n[1])},d(n){n&&k(e)}}}function zp(t){let e,l=t[0]&&nf(t);return{c(){l&&l.c(),e=Ke()},m(n,i){l&&l.m(n,i),w(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=nf(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ne,o:ne,d(n){l&&l.d(n),n&&k(e)}}}function Yp(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=o=>{"active"in o&&l(0,n=o.active),"message"in o&&l(1,i=o.message)},[n,i]}class Et extends Me{constructor(e){super(),Se(this,e,Yp,zp,we,{active:0,message:1})}}function of(t,e,l){const n=t.slice();return n[1]=e[l],n}function uf(t){let e,l,n=t[1]+"",i;return{c(){e=m("option"),l=y("Europe/"),i=y(n),e.__value="Europe/"+t[1],e.value=e.__value},m(o,r){w(o,e,r),s(e,l),s(e,i)},p:ne,d(o){o&&k(e)}}}function Kp(t){let e,l,n,i=t[0],o=[];for(let r=0;r<i.length;r+=1)o[r]=uf(of(t,i,r));return{c(){e=m("option"),e.textContent="GMT",l=h();for(let r=0;r<o.length;r+=1)o[r].c();n=Ke(),e.__value="GMT",e.value=e.__value},m(r,a){w(r,e,a),w(r,l,a);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(r,a);w(r,n,a)},p(r,[a]){if(a&1){i=r[0];let c;for(c=0;c<i.length;c+=1){const f=of(r,i,c);o[c]?o[c].p(f,a):(o[c]=uf(f),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i:ne,o:ne,d(r){r&&k(e),r&&k(l),cl(o,r),r&&k(n)}}}function Vp(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class Qp extends Me{constructor(e){super(),Se(this,e,Vp,Kp,we,{})}}function Xp(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v;return{c(){e=m("optgroup"),l=m("option"),l.textContent="/24",n=h(),i=m("optgroup"),o=m("option"),o.textContent="/25",r=m("option"),r.textContent="/26",a=m("option"),a.textContent="/27",c=m("option"),c.textContent="/28",f=m("option"),f.textContent="/29",p=h(),_=m("optgroup"),b=m("option"),b.textContent="/23",d=m("option"),d.textContent="/22",v=m("option"),v.textContent="/16",l.__value="255.255.255.0",l.value=l.__value,u(e,"label","Most common is /24 (255.255.255.0)"),o.__value="255.255.255.128",o.value=o.__value,r.__value="255.255.255.192",r.value=r.__value,a.__value="255.255.255.224",a.value=a.__value,c.__value="255.255.255.240",c.value=c.__value,f.__value="255.255.255.248",f.value=f.__value,u(i,"label","Smaller subnets"),b.__value="255.255.254.0",b.value=b.__value,d.__value="255.255.252.0",d.value=d.__value,v.__value="255.255.0.0",v.value=v.__value,u(_,"label","Larger subnets")},m(g,T){w(g,e,T),s(e,l),w(g,n,T),w(g,i,T),s(i,o),s(i,r),s(i,a),s(i,c),s(i,f),w(g,p,T),w(g,_,T),s(_,b),s(_,d),s(_,v)},p:ne,i:ne,o:ne,d(g){g&&k(e),g&&k(n),g&&k(i),g&&k(p),g&&k(_)}}}class Kc extends Me{constructor(e){super(),Se(this,e,null,Xp,we,{})}}function Zp(t){let e,l;return{c(){e=Oe("svg"),l=Oe("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-4 h-4")},m(n,i){w(n,e,i),s(e,l)},p:ne,i:ne,o:ne,d(n){n&&k(e)}}}class Mo extends Me{constructor(e){super(),Se(this,e,null,Zp,we,{})}}function rf(t,e,l){const n=t.slice();return n[95]=e[l],n[96]=e,n[97]=l,n}function af(t,e,l){const n=t.slice();return n[98]=e[l],n[99]=e,n[100]=l,n}function Jp(t,e,l){const n=t.slice();return n[101]=e[l],n}function xp(t,e,l){const n=t.slice();return n[104]=e[l],n}function e0(t){let e,l;return{c(){e=m("option"),l=y(t[104]),e.__value=t[104],e.value=e.__value},m(n,i){w(n,e,i),s(e,l)},p:ne,d(n){n&&k(e)}}}function ff(t){let e,l,n,i;return{c(){e=m("br"),l=m("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder","ENTSO-E API key, optional, read docs")},m(o,r){w(o,e,r),w(o,l,r),V(l,t[3].p.t),n||(i=K(l,"input",t[22]),n=!0)},p(o,r){r[0]&8&&l.value!==o[3].p.t&&V(l,o[3].p.t)},d(o){o&&k(e),o&&k(l),n=!1,i()}}}function cf(t){let e,l,n,i,o,r,a,c,f,p,_,b,d;return{c(){e=m("div"),l=y("Username"),n=m("br"),i=h(),o=m("input"),r=h(),a=m("div"),c=y("Password"),f=m("br"),p=h(),_=m("input"),u(o,"name","gu"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1"),u(_,"name","gp"),u(_,"type","password"),u(_,"class","in-s"),u(a,"class","my-1")},m(v,g){w(v,e,g),s(e,l),s(e,n),s(e,i),s(e,o),V(o,t[3].g.u),w(v,r,g),w(v,a,g),s(a,c),s(a,f),s(a,p),s(a,_),V(_,t[3].g.p),b||(d=[K(o,"input",t[24]),K(_,"input",t[25])],b=!0)},p(v,g){g[0]&8&&o.value!==v[3].g.u&&V(o,v[3].g.u),g[0]&8&&_.value!==v[3].g.p&&V(_,v[3].g.p)},d(v){v&&k(e),v&&k(r),v&&k(a),b=!1,Be(d)}}}function t0(t){let e,l=t[101]*100+"",n;return{c(){e=m("option"),n=y(l),e.__value=t[101]*100,e.value=e.__value},m(i,o){w(i,e,o),s(e,n)},p:ne,d(i){i&&k(e)}}}function mf(t){let e,l,n,i;return{c(){e=m("br"),l=m("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s")},m(o,r){w(o,e,r),w(o,l,r),V(l,t[3].m.e.k),n||(i=K(l,"input",t[34]),n=!0)},p(o,r){r[0]&8&&l.value!==o[3].m.e.k&&V(l,o[3].m.e.k)},d(o){o&&k(e),o&&k(l),n=!1,i()}}}function pf(t){let e,l,n,i,o,r,a;return{c(){e=m("div"),l=y("Authentication key"),n=m("br"),i=h(),o=m("input"),u(o,"name","mea"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1")},m(c,f){w(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),V(o,t[3].m.e.a),r||(a=K(o,"input",t[35]),r=!0)},p(c,f){f[0]&8&&o.value!==c[3].m.e.a&&V(o,c[3].m.e.a)},d(c){c&&k(e),r=!1,a()}}}function _f(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C,$,M,F,S,D,A,E,Y,R;return{c(){e=m("div"),l=m("div"),n=y("Watt"),i=m("br"),o=h(),r=m("input"),a=h(),c=m("div"),f=y("Volt"),p=m("br"),_=h(),b=m("input"),d=h(),v=m("div"),g=y("Amp"),T=m("br"),C=h(),$=m("input"),M=h(),F=m("div"),S=y("kWh"),D=m("br"),A=h(),E=m("input"),u(r,"name","mmw"),u(r,"type","number"),u(r,"min","0.00"),u(r,"max","1000"),u(r,"step","0.001"),u(r,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(b,"name","mmv"),u(b,"type","number"),u(b,"min","0.00"),u(b,"max","1000"),u(b,"step","0.001"),u(b,"class","in-m tr w-full"),u(c,"class","w-1/4"),u($,"name","mma"),u($,"type","number"),u($,"min","0.00"),u($,"max","1000"),u($,"step","0.001"),u($,"class","in-m tr w-full"),u(v,"class","w-1/4"),u(E,"name","mmc"),u(E,"type","number"),u(E,"min","0.00"),u(E,"max","1000"),u(E,"step","0.001"),u(E,"class","in-l tr w-full"),u(F,"class","w-1/4"),u(e,"class","flex my-1")},m(U,H){w(U,e,H),s(e,l),s(l,n),s(l,i),s(l,o),s(l,r),V(r,t[3].m.m.w),s(e,a),s(e,c),s(c,f),s(c,p),s(c,_),s(c,b),V(b,t[3].m.m.v),s(e,d),s(e,v),s(v,g),s(v,T),s(v,C),s(v,$),V($,t[3].m.m.a),s(e,M),s(e,F),s(F,S),s(F,D),s(F,A),s(F,E),V(E,t[3].m.m.c),Y||(R=[K(r,"input",t[37]),K(b,"input",t[38]),K($,"input",t[39]),K(E,"input",t[40])],Y=!0)},p(U,H){H[0]&8&&fe(r.value)!==U[3].m.m.w&&V(r,U[3].m.m.w),H[0]&8&&fe(b.value)!==U[3].m.m.v&&V(b,U[3].m.m.v),H[0]&8&&fe($.value)!==U[3].m.m.a&&V($,U[3].m.m.a),H[0]&8&&fe(E.value)!==U[3].m.m.c&&V(E,U[3].m.m.c)},d(U){U&&k(e),Y=!1,Be(R)}}}function df(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T;return{c(){e=m("div"),l=y("Gateway"),n=m("br"),i=h(),o=m("input"),r=h(),a=m("div"),c=y("DNS"),f=m("br"),p=h(),_=m("div"),b=m("input"),d=h(),v=m("input"),u(o,"name","ng"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1"),u(b,"name","nd1"),u(b,"type","text"),u(b,"class","in-f w-full"),u(v,"name","nd2"),u(v,"type","text"),u(v,"class","in-l w-full"),u(_,"class","flex"),u(a,"class","my-1")},m(C,$){w(C,e,$),s(e,l),s(e,n),s(e,i),s(e,o),V(o,t[3].n.g),w(C,r,$),w(C,a,$),s(a,c),s(a,f),s(a,p),s(a,_),s(_,b),V(b,t[3].n.d1),s(_,d),s(_,v),V(v,t[3].n.d2),g||(T=[K(o,"input",t[50]),K(b,"input",t[51]),K(v,"input",t[52])],g=!0)},p(C,$){$[0]&8&&o.value!==C[3].n.g&&V(o,C[3].n.g),$[0]&8&&b.value!==C[3].n.d1&&V(b,C[3].n.d1),$[0]&8&&v.value!==C[3].n.d2&&V(v,C[3].n.d2)},d(C){C&&k(e),C&&k(r),C&&k(a),g=!1,Be(T)}}}function vf(t){let e,l,n,i,o;return{c(){e=m("label"),l=m("input"),n=y(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",l.value=l.__value,u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(r,a){w(r,e,a),s(e,l),l.checked=t[3].q.s.e,s(e,n),i||(o=[K(l,"change",t[56]),K(l,"change",t[14])],i=!0)},p(r,a){a[0]&8&&(l.checked=r[3].q.s.e)},d(r){r&&k(e),i=!1,Be(o)}}}function hf(t){let e,l,n,i,o,r,a,c,f,p,_,b,d;const v=[n0,l0],g=[];function T(A,E){return A[3].q.s.c?0:1}n=T(t),i=g[n]=v[n](t);const C=[u0,o0],$=[];function M(A,E){return A[3].q.s.r?0:1}a=M(t),c=$[a]=C[a](t);const F=[c0,f0],S=[];function D(A,E){return A[3].q.s.k?0:1}return _=D(t),b=S[_]=F[_](t),{c(){e=m("div"),l=m("span"),i.c(),o=h(),r=m("span"),c.c(),f=h(),p=m("span"),b.c(),u(l,"class","flex pr-2"),u(r,"class","flex pr-2"),u(p,"class","flex pr-2"),u(e,"class","my-1 flex")},m(A,E){w(A,e,E),s(e,l),g[n].m(l,null),s(e,o),s(e,r),$[a].m(r,null),s(e,f),s(e,p),S[_].m(p,null),d=!0},p(A,E){let Y=n;n=T(A),n===Y?g[n].p(A,E):(Ae(),I(g[Y],1,1,()=>{g[Y]=null}),Ee(),i=g[n],i?i.p(A,E):(i=g[n]=v[n](A),i.c()),P(i,1),i.m(l,null));let R=a;a=M(A),a===R?$[a].p(A,E):(Ae(),I($[R],1,1,()=>{$[R]=null}),Ee(),c=$[a],c?c.p(A,E):(c=$[a]=C[a](A),c.c()),P(c,1),c.m(r,null));let U=_;_=D(A),_===U?S[_].p(A,E):(Ae(),I(S[U],1,1,()=>{S[U]=null}),Ee(),b=S[_],b?b.p(A,E):(b=S[_]=F[_](A),b.c()),P(b,1),b.m(p,null))},i(A){d||(P(i),P(c),P(b),d=!0)},o(A){I(i),I(c),I(b),d=!1},d(A){A&&k(e),g[n].d(),$[a].d(),S[_].d()}}}function l0(t){let e,l;return e=new el({props:{to:"/mqtt-ca",$$slots:{default:[i0]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i[3]&16384&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function n0(t){let e,l,n,i,o,r,a,c;return l=new el({props:{to:"/mqtt-ca",$$slots:{default:[s0]},$$scope:{ctx:t}}}),o=new Mo({}),{c(){e=m("span"),Z(l.$$.fragment),n=h(),i=m("span"),Z(o.$$.fragment),u(e,"class","rounded-l-md bg-green-500 text-green-100 text-xs font-semibold px-2.5 py-1"),u(i,"class","rounded-r-md bg-red-500 text-red-100 text-xs px-2.5 py-1")},m(f,p){w(f,e,p),Q(l,e,null),w(f,n,p),w(f,i,p),Q(o,i,null),r=!0,a||(c=[K(i,"click",t[11]),K(i,"keypress",t[11])],a=!0)},p(f,p){const _={};p[3]&16384&&(_.$$scope={dirty:p,ctx:f}),l.$set(_)},i(f){r||(P(l.$$.fragment,f),P(o.$$.fragment,f),r=!0)},o(f){I(l.$$.fragment,f),I(o.$$.fragment,f),r=!1},d(f){f&&k(e),X(l),f&&k(n),f&&k(i),X(o),a=!1,Be(c)}}}function i0(t){let e,l;return e=new fn({props:{color:"blue",text:"Upload CA",title:"Click here to upload CA"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function s0(t){let e;return{c(){e=y("CA OK")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function o0(t){let e,l;return e=new el({props:{to:"/mqtt-cert",$$slots:{default:[r0]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i[3]&16384&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function u0(t){let e,l,n,i,o,r,a,c;return l=new el({props:{to:"/mqtt-cert",$$slots:{default:[a0]},$$scope:{ctx:t}}}),o=new Mo({}),{c(){e=m("span"),Z(l.$$.fragment),n=h(),i=m("span"),Z(o.$$.fragment),u(e,"class","rounded-l-md bg-green-500 text-green-100 text-xs font-semibold px-2.5 py-1"),u(i,"class","rounded-r-md bg-red-500 text-red-100 text-xs px-2.5 py-1")},m(f,p){w(f,e,p),Q(l,e,null),w(f,n,p),w(f,i,p),Q(o,i,null),r=!0,a||(c=[K(i,"click",t[12]),K(i,"keypress",t[12])],a=!0)},p(f,p){const _={};p[3]&16384&&(_.$$scope={dirty:p,ctx:f}),l.$set(_)},i(f){r||(P(l.$$.fragment,f),P(o.$$.fragment,f),r=!0)},o(f){I(l.$$.fragment,f),I(o.$$.fragment,f),r=!1},d(f){f&&k(e),X(l),f&&k(n),f&&k(i),X(o),a=!1,Be(c)}}}function r0(t){let e,l;return e=new fn({props:{color:"blue",text:"Upload cert",title:"Click here to upload certificate"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function a0(t){let e;return{c(){e=y("Cert OK")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function f0(t){let e,l;return e=new el({props:{to:"/mqtt-key",$$slots:{default:[m0]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i[3]&16384&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function c0(t){let e,l,n,i,o,r,a,c;return l=new el({props:{to:"/mqtt-key",$$slots:{default:[p0]},$$scope:{ctx:t}}}),o=new Mo({}),{c(){e=m("span"),Z(l.$$.fragment),n=h(),i=m("span"),Z(o.$$.fragment),u(e,"class","rounded-l-md bg-green-500 text-green-100 text-xs font-semibold px-2.5 py-1"),u(i,"class","rounded-r-md bg-red-500 text-red-100 text-xs px-2.5 py-1")},m(f,p){w(f,e,p),Q(l,e,null),w(f,n,p),w(f,i,p),Q(o,i,null),r=!0,a||(c=[K(i,"click",t[13]),K(i,"keypress",t[13])],a=!0)},p(f,p){const _={};p[3]&16384&&(_.$$scope={dirty:p,ctx:f}),l.$set(_)},i(f){r||(P(l.$$.fragment,f),P(o.$$.fragment,f),r=!0)},o(f){I(l.$$.fragment,f),I(o.$$.fragment,f),r=!1},d(f){f&&k(e),X(l),f&&k(n),f&&k(i),X(o),a=!1,Be(c)}}}function m0(t){let e,l;return e=new fn({props:{color:"blue",text:"Upload key",title:"Click here to upload key"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function p0(t){let e;return{c(){e=y("Key OK")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function bf(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C,$,M,F,S,D,A,E,Y,R,U,H,z,q,L,B;return o=new qt({}),{c(){e=m("div"),l=m("strong"),l.textContent="Domoticz",n=h(),i=m("a"),Z(o.$$.fragment),r=h(),a=m("input"),c=h(),f=m("div"),p=m("div"),_=y("Electricity IDX"),b=m("br"),d=h(),v=m("input"),g=h(),T=m("div"),C=y("Current IDX"),$=m("br"),M=h(),F=m("input"),S=h(),D=m("div"),A=y(`Voltage IDX: L1, L2 & L3
                `),E=m("div"),Y=m("input"),R=h(),U=m("input"),H=h(),z=m("input"),u(l,"class","text-sm"),u(i,"href",Ut("MQTT-configuration#domoticz")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","o"),a.value="true",u(v,"name","oe"),u(v,"type","text"),u(v,"class","in-f tr w-full"),u(p,"class","w-1/2"),u(F,"name","oc"),u(F,"type","text"),u(F,"class","in-l tr w-full"),u(T,"class","w-1/2"),u(f,"class","my-1 flex"),u(Y,"name","ou1"),u(Y,"type","text"),u(Y,"class","in-f tr w-1/3"),u(U,"name","ou2"),u(U,"type","text"),u(U,"class","in-m tr w-1/3"),u(z,"name","ou3"),u(z,"type","text"),u(z,"class","in-l tr w-1/3"),u(E,"class","flex"),u(D,"class","my-1"),u(e,"class","cnt")},m(O,j){w(O,e,j),s(e,l),s(e,n),s(e,i),Q(o,i,null),s(e,r),s(e,a),s(e,c),s(e,f),s(f,p),s(p,_),s(p,b),s(p,d),s(p,v),V(v,t[3].o.e),s(f,g),s(f,T),s(T,C),s(T,$),s(T,M),s(T,F),V(F,t[3].o.c),s(e,S),s(e,D),s(D,A),s(D,E),s(E,Y),V(Y,t[3].o.u1),s(E,R),s(E,U),V(U,t[3].o.u2),s(E,H),s(E,z),V(z,t[3].o.u3),q=!0,L||(B=[K(v,"input",t[64]),K(F,"input",t[65]),K(Y,"input",t[66]),K(U,"input",t[67]),K(z,"input",t[68])],L=!0)},p(O,j){j[0]&8&&v.value!==O[3].o.e&&V(v,O[3].o.e),j[0]&8&&F.value!==O[3].o.c&&V(F,O[3].o.c),j[0]&8&&Y.value!==O[3].o.u1&&V(Y,O[3].o.u1),j[0]&8&&U.value!==O[3].o.u2&&V(U,O[3].o.u2),j[0]&8&&z.value!==O[3].o.u3&&V(z,O[3].o.u3)},i(O){q||(P(o.$$.fragment,O),q=!0)},o(O){I(o.$$.fragment,O),q=!1},d(O){O&&k(e),X(o),L=!1,Be(B)}}}function gf(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C,$,M,F,S,D,A,E,Y,R,U,H,z;return o=new qt({}),{c(){e=m("div"),l=m("strong"),l.textContent="Home-Assistant",n=h(),i=m("a"),Z(o.$$.fragment),r=h(),a=m("input"),c=h(),f=m("div"),p=y("Discovery topic prefix"),_=m("br"),b=h(),d=m("input"),v=h(),g=m("div"),T=y("Hostname for URL"),C=m("br"),$=h(),M=m("input"),S=h(),D=m("div"),A=y("Name tag"),E=m("br"),Y=h(),R=m("input"),u(l,"class","text-sm"),u(i,"href",Ut("MQTT-configuration#home-assistant")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","h"),a.value="true",u(d,"name","ht"),u(d,"type","text"),u(d,"class","in-s"),u(d,"placeholder","homeassistant"),u(f,"class","my-1"),u(M,"name","hh"),u(M,"type","text"),u(M,"class","in-s"),u(M,"placeholder",F=t[3].g.h+".local"),u(g,"class","my-1"),u(R,"name","hn"),u(R,"type","text"),u(R,"class","in-s"),u(D,"class","my-1"),u(e,"class","cnt")},m(q,L){w(q,e,L),s(e,l),s(e,n),s(e,i),Q(o,i,null),s(e,r),s(e,a),s(e,c),s(e,f),s(f,p),s(f,_),s(f,b),s(f,d),V(d,t[3].h.t),s(e,v),s(e,g),s(g,T),s(g,C),s(g,$),s(g,M),V(M,t[3].h.h),s(e,S),s(e,D),s(D,A),s(D,E),s(D,Y),s(D,R),V(R,t[3].h.n),U=!0,H||(z=[K(d,"input",t[69]),K(M,"input",t[70]),K(R,"input",t[71])],H=!0)},p(q,L){L[0]&8&&d.value!==q[3].h.t&&V(d,q[3].h.t),(!U||L[0]&8&&F!==(F=q[3].g.h+".local"))&&u(M,"placeholder",F),L[0]&8&&M.value!==q[3].h.h&&V(M,q[3].h.h),L[0]&8&&R.value!==q[3].h.n&&V(R,q[3].h.n)},i(q){U||(P(o.$$.fragment,q),U=!0)},o(q){I(o.$$.fragment,q),U=!1},d(q){q&&k(e),X(o),H=!1,Be(z)}}}function kf(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C,$,M;o=new qt({});let F={length:9},S=[];for(let D=0;D<F.length;D+=1)S[D]=wf(af(t,F,D));return{c(){e=m("div"),l=m("strong"),l.textContent="Tariff thresholds",n=h(),i=m("a"),Z(o.$$.fragment),r=h(),a=m("input"),c=h(),f=m("div");for(let D=0;D<S.length;D+=1)S[D].c();p=h(),_=m("label"),b=m("span"),b.textContent="Average of",d=h(),v=m("input"),g=h(),T=m("span"),T.textContent="hours",u(l,"class","text-sm"),u(i,"href",Ut("Threshold-configuration")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","t"),a.value="true",u(f,"class","flex flex-wrap my-1"),u(b,"class","in-pre"),u(v,"name","th"),u(v,"type","number"),u(v,"min","0"),u(v,"max","255"),u(v,"class","in-txt tr w-full"),u(T,"class","in-post"),u(_,"class","flex m-1"),u(e,"class","cnt")},m(D,A){w(D,e,A),s(e,l),s(e,n),s(e,i),Q(o,i,null),s(e,r),s(e,a),s(e,c),s(e,f);for(let E=0;E<S.length;E+=1)S[E]&&S[E].m(f,null);s(e,p),s(e,_),s(_,b),s(_,d),s(_,v),V(v,t[3].t.h),s(_,g),s(_,T),C=!0,$||(M=K(v,"input",t[73]),$=!0)},p(D,A){if(A[0]&8){F={length:9};let E;for(E=0;E<F.length;E+=1){const Y=af(D,F,E);S[E]?S[E].p(Y,A):(S[E]=wf(Y),S[E].c(),S[E].m(f,null))}for(;E<S.length;E+=1)S[E].d(1);S.length=F.length}A[0]&8&&fe(v.value)!==D[3].t.h&&V(v,D[3].t.h)},i(D){C||(P(o.$$.fragment,D),C=!0)},o(D){I(o.$$.fragment,D),C=!1},d(D){D&&k(e),X(o),cl(S,D),$=!1,M()}}}function wf(t){let e,l,n=t[100]+1+"",i,o,r,a,c,f,p,_;function b(){t[72].call(r,t[100])}return{c(){e=m("label"),l=m("span"),i=y(n),o=h(),r=m("input"),a=h(),c=m("span"),c.textContent="kWh",f=h(),u(l,"class","in-pre"),u(r,"name","t"+t[100]),u(r,"type","number"),u(r,"min","0"),u(r,"max","65535"),u(r,"class","in-txt w-full"),u(c,"class","in-post"),u(e,"class","flex w-40 m-1")},m(d,v){w(d,e,v),s(e,l),s(l,i),s(e,o),s(e,r),V(r,t[3].t.t[t[100]]),s(e,a),s(e,c),s(e,f),p||(_=K(r,"input",b),p=!0)},p(d,v){t=d,v[0]&8&&fe(r.value)!==t[3].t.t[t[100]]&&V(r,t[3].t.t[t[100]])},d(d){d&&k(e),p=!1,_()}}}function yf(t){let e,l=t[95].name+"",n,i,o,r,a,c,f,p,_,b;function d(){t[74].call(r,t[95])}return{c(){e=m("div"),n=y(l),i=m("br"),o=h(),r=m("select"),a=m("option"),a.textContent="Hide",c=m("option"),c.textContent="Show",f=m("option"),f.textContent="Dynamic",p=h(),a.__value=0,a.value=a.__value,c.__value=1,c.value=c.__value,f.__value=2,f.value=f.__value,u(r,"name","u"+t[95].key),u(r,"class","in-s"),t[3].u[t[95].key]===void 0&&tt(d),u(e,"class","w-1/2")},m(v,g){w(v,e,g),s(e,n),s(e,i),s(e,o),s(e,r),s(r,a),s(r,c),s(r,f),qe(r,t[3].u[t[95].key],!0),s(e,p),_||(b=K(r,"change",d),_=!0)},p(v,g){t=v,g[0]&136&&qe(r,t[3].u[t[95].key])},d(v){v&&k(e),_=!1,b()}}}function $f(t){let e,l,n,i,o,r,a,c;o=new qt({});let f=t[0].board>20&&Cf(t),p=t[0].chip=="esp8266"&&Mf(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Hardware",n=h(),i=m("a"),Z(o.$$.fragment),r=h(),f&&f.c(),a=h(),p&&p.c(),u(l,"class","text-sm"),u(i,"href",Ut("GPIO-configuration")),u(i,"target","_blank"),u(i,"class","float-right"),u(e,"class","cnt")},m(_,b){w(_,e,b),s(e,l),s(e,n),s(e,i),Q(o,i,null),s(e,r),f&&f.m(e,null),s(e,a),p&&p.m(e,null),c=!0},p(_,b){_[0].board>20?f?(f.p(_,b),b[0]&1&&P(f,1)):(f=Cf(_),f.c(),P(f,1),f.m(e,a)):f&&(Ae(),I(f,1,1,()=>{f=null}),Ee()),_[0].chip=="esp8266"?p?p.p(_,b):(p=Mf(_),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i(_){c||(P(o.$$.fragment,_),P(f),c=!0)},o(_){I(o.$$.fragment,_),I(f),c=!1},d(_){_&&k(e),X(o),f&&f.d(),p&&p.d()}}}function Cf(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C,$,M,F,S,D,A,E,Y,R,U,H,z,q,L,B,O,j,G,te,le,pe,ie,Pe,je,De,We,be,ye,Re,ge,ae,$e,J,se,Fe,Le,_e,Ce,Ne,de,Te,ee;b=new Yc({props:{chip:t[0].chip}});let oe=t[0].chip!="esp8266"&&Tf(t),Ue=t[3].i.v.p>0&&Sf(t);return{c(){e=m("input"),l=h(),n=m("div"),i=m("div"),o=y("HAN"),r=m("label"),a=m("input"),c=y(" pullup"),f=m("br"),p=h(),_=m("select"),Z(b.$$.fragment),d=h(),v=m("div"),g=y("AP button"),T=m("br"),C=h(),$=m("input"),M=h(),F=m("div"),S=y("LED"),D=m("label"),A=m("input"),E=y(" inv"),Y=m("br"),R=h(),U=m("div"),H=m("input"),z=h(),q=m("div"),L=y("RGB"),B=m("label"),O=m("input"),j=y(" inverted"),G=m("br"),te=h(),le=m("div"),pe=m("input"),ie=h(),Pe=m("input"),je=h(),De=m("input"),We=h(),be=m("div"),ye=y("Temperature"),Re=m("br"),ge=h(),ae=m("input"),$e=h(),J=m("div"),se=y("Analog temp"),Fe=m("br"),Le=h(),_e=m("input"),Ce=h(),oe&&oe.c(),Ne=h(),Ue&&Ue.c(),u(e,"type","hidden"),u(e,"name","i"),e.value="true",u(a,"name","ihu"),a.__value="true",a.value=a.__value,u(a,"type","checkbox"),u(a,"class","rounded mb-1"),u(r,"class","ml-2"),u(_,"name","ihp"),u(_,"class","in-f w-full"),t[3].i.h.p===void 0&&tt(()=>t[76].call(_)),u(i,"class","w-1/3"),u($,"name","ia"),u($,"type","number"),u($,"min","0"),u($,"max",t[6]),u($,"class","in-m tr w-full"),u(v,"class","w-1/3"),u(A,"name","ili"),A.__value="true",A.value=A.__value,u(A,"type","checkbox"),u(A,"class","rounded mb-1"),u(D,"class","ml-4"),u(H,"name","ilp"),u(H,"type","number"),u(H,"min","0"),u(H,"max",t[6]),u(H,"class","in-l tr w-full"),u(U,"class","flex"),u(F,"class","w-1/3"),u(O,"name","iri"),O.__value="true",O.value=O.__value,u(O,"type","checkbox"),u(O,"class","rounded mb-1"),u(B,"class","ml-4"),u(pe,"name","irr"),u(pe,"type","number"),u(pe,"min","0"),u(pe,"max",t[6]),u(pe,"class","in-f tr w-1/3"),u(Pe,"name","irg"),u(Pe,"type","number"),u(Pe,"min","0"),u(Pe,"max",t[6]),u(Pe,"class","in-m tr w-1/3"),u(De,"name","irb"),u(De,"type","number"),u(De,"min","0"),u(De,"max",t[6]),u(De,"class","in-l tr w-1/3"),u(le,"class","flex"),u(q,"class","w-full"),u(ae,"name","itd"),u(ae,"type","number"),u(ae,"min","0"),u(ae,"max",t[6]),u(ae,"class","in-f tr w-full"),u(be,"class","my-1 w-1/3"),u(_e,"name","ita"),u(_e,"type","number"),u(_e,"min","0"),u(_e,"max",t[6]),u(_e,"class","in-l tr w-full"),u(J,"class","my-1 pr-1 w-1/3"),u(n,"class","flex flex-wrap")},m(ue,ve){w(ue,e,ve),w(ue,l,ve),w(ue,n,ve),s(n,i),s(i,o),s(i,r),s(r,a),a.checked=t[3].i.h.u,s(r,c),s(i,f),s(i,p),s(i,_),Q(b,_,null),qe(_,t[3].i.h.p,!0),s(n,d),s(n,v),s(v,g),s(v,T),s(v,C),s(v,$),V($,t[3].i.a),s(n,M),s(n,F),s(F,S),s(F,D),s(D,A),A.checked=t[3].i.l.i,s(D,E),s(F,Y),s(F,R),s(F,U),s(U,H),V(H,t[3].i.l.p),s(n,z),s(n,q),s(q,L),s(q,B),s(B,O),O.checked=t[3].i.r.i,s(B,j),s(q,G),s(q,te),s(q,le),s(le,pe),V(pe,t[3].i.r.r),s(le,ie),s(le,Pe),V(Pe,t[3].i.r.g),s(le,je),s(le,De),V(De,t[3].i.r.b),s(n,We),s(n,be),s(be,ye),s(be,Re),s(be,ge),s(be,ae),V(ae,t[3].i.t.d),s(n,$e),s(n,J),s(J,se),s(J,Fe),s(J,Le),s(J,_e),V(_e,t[3].i.t.a),s(n,Ce),oe&&oe.m(n,null),s(n,Ne),Ue&&Ue.m(n,null),de=!0,Te||(ee=[K(a,"change",t[75]),K(_,"change",t[76]),K($,"input",t[77]),K(A,"change",t[78]),K(H,"input",t[79]),K(O,"change",t[80]),K(pe,"input",t[81]),K(Pe,"input",t[82]),K(De,"input",t[83]),K(ae,"input",t[84]),K(_e,"input",t[85])],Te=!0)},p(ue,ve){ve[0]&8&&(a.checked=ue[3].i.h.u);const dt={};ve[0]&1&&(dt.chip=ue[0].chip),b.$set(dt),ve[0]&8&&qe(_,ue[3].i.h.p),(!de||ve[0]&64)&&u($,"max",ue[6]),ve[0]&8&&fe($.value)!==ue[3].i.a&&V($,ue[3].i.a),ve[0]&8&&(A.checked=ue[3].i.l.i),(!de||ve[0]&64)&&u(H,"max",ue[6]),ve[0]&8&&fe(H.value)!==ue[3].i.l.p&&V(H,ue[3].i.l.p),ve[0]&8&&(O.checked=ue[3].i.r.i),(!de||ve[0]&64)&&u(pe,"max",ue[6]),ve[0]&8&&fe(pe.value)!==ue[3].i.r.r&&V(pe,ue[3].i.r.r),(!de||ve[0]&64)&&u(Pe,"max",ue[6]),ve[0]&8&&fe(Pe.value)!==ue[3].i.r.g&&V(Pe,ue[3].i.r.g),(!de||ve[0]&64)&&u(De,"max",ue[6]),ve[0]&8&&fe(De.value)!==ue[3].i.r.b&&V(De,ue[3].i.r.b),(!de||ve[0]&64)&&u(ae,"max",ue[6]),ve[0]&8&&fe(ae.value)!==ue[3].i.t.d&&V(ae,ue[3].i.t.d),(!de||ve[0]&64)&&u(_e,"max",ue[6]),ve[0]&8&&fe(_e.value)!==ue[3].i.t.a&&V(_e,ue[3].i.t.a),ue[0].chip!="esp8266"?oe?oe.p(ue,ve):(oe=Tf(ue),oe.c(),oe.m(n,Ne)):oe&&(oe.d(1),oe=null),ue[3].i.v.p>0?Ue?Ue.p(ue,ve):(Ue=Sf(ue),Ue.c(),Ue.m(n,null)):Ue&&(Ue.d(1),Ue=null)},i(ue){de||(P(b.$$.fragment,ue),de=!0)},o(ue){I(b.$$.fragment,ue),de=!1},d(ue){ue&&k(e),ue&&k(l),ue&&k(n),X(b),oe&&oe.d(),Ue&&Ue.d(),Te=!1,Be(ee)}}}function Tf(t){let e,l,n,i,o,r,a;return{c(){e=m("div"),l=y("Vcc"),n=m("br"),i=h(),o=m("input"),u(o,"name","ivp"),u(o,"type","number"),u(o,"min","0"),u(o,"max",t[6]),u(o,"class","in-s tr w-full"),u(e,"class","my-1 pl-1 w-1/3")},m(c,f){w(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),V(o,t[3].i.v.p),r||(a=K(o,"input",t[86]),r=!0)},p(c,f){f[0]&64&&u(o,"max",c[6]),f[0]&8&&fe(o.value)!==c[3].i.v.p&&V(o,c[3].i.v.p)},d(c){c&&k(e),r=!1,a()}}}function Sf(t){let e,l,n,i,o,r,a,c,f,p;return{c(){e=m("div"),l=y("Voltage divider"),n=m("br"),i=h(),o=m("div"),r=m("input"),a=h(),c=m("input"),u(r,"name","ivdv"),u(r,"type","number"),u(r,"min","0"),u(r,"max","65535"),u(r,"class","in-f tr w-full"),u(r,"placeholder","VCC"),u(c,"name","ivdg"),u(c,"type","number"),u(c,"min","0"),u(c,"max","65535"),u(c,"class","in-l tr w-full"),u(c,"placeholder","GND"),u(o,"class","flex"),u(e,"class","my-1")},m(_,b){w(_,e,b),s(e,l),s(e,n),s(e,i),s(e,o),s(o,r),V(r,t[3].i.v.d.v),s(o,a),s(o,c),V(c,t[3].i.v.d.g),f||(p=[K(r,"input",t[87]),K(c,"input",t[88])],f=!0)},p(_,b){b[0]&8&&fe(r.value)!==_[3].i.v.d.v&&V(r,_[3].i.v.d.v),b[0]&8&&fe(c.value)!==_[3].i.v.d.g&&V(c,_[3].i.v.d.g)},d(_){_&&k(e),f=!1,Be(p)}}}function Mf(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C,$=(t[0].board==2||t[0].board==100)&&Pf(t);return{c(){e=m("input"),l=h(),n=m("div"),i=m("div"),o=y("Vcc offset"),r=m("br"),a=h(),c=m("input"),f=h(),p=m("div"),_=y("Multiplier"),b=m("br"),d=h(),v=m("input"),g=h(),$&&$.c(),u(e,"type","hidden"),u(e,"name","iv"),e.value="true",u(c,"name","ivo"),u(c,"type","number"),u(c,"min","0.0"),u(c,"max","3.5"),u(c,"step","0.01"),u(c,"class","in-f tr w-full"),u(i,"class","w-1/3"),u(v,"name","ivm"),u(v,"type","number"),u(v,"min","0.1"),u(v,"max","10"),u(v,"step","0.01"),u(v,"class","in-l tr w-full"),u(p,"class","w-1/3 pr-1"),u(n,"class","my-1 flex flex-wrap")},m(M,F){w(M,e,F),w(M,l,F),w(M,n,F),s(n,i),s(i,o),s(i,r),s(i,a),s(i,c),V(c,t[3].i.v.o),s(n,f),s(n,p),s(p,_),s(p,b),s(p,d),s(p,v),V(v,t[3].i.v.m),s(n,g),$&&$.m(n,null),T||(C=[K(c,"input",t[89]),K(v,"input",t[90])],T=!0)},p(M,F){F[0]&8&&fe(c.value)!==M[3].i.v.o&&V(c,M[3].i.v.o),F[0]&8&&fe(v.value)!==M[3].i.v.m&&V(v,M[3].i.v.m),M[0].board==2||M[0].board==100?$?$.p(M,F):($=Pf(M),$.c(),$.m(n,null)):$&&($.d(1),$=null)},d(M){M&&k(e),M&&k(l),M&&k(n),$&&$.d(),T=!1,Be(C)}}}function Pf(t){let e,l,n,i,o,r,a;return{c(){e=m("div"),l=y("Boot limit"),n=m("br"),i=h(),o=m("input"),u(o,"name","ivb"),u(o,"type","number"),u(o,"min","2.5"),u(o,"max","3.5"),u(o,"step","0.1"),u(o,"class","in-s tr w-full"),u(e,"class","w-1/3 pl-1")},m(c,f){w(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),V(o,t[3].i.v.b),r||(a=K(o,"input",t[91]),r=!0)},p(c,f){f[0]&8&&fe(o.value)!==c[3].i.v.b&&V(o,c[3].i.v.b)},d(c){c&&k(e),r=!1,a()}}}function Nf(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C=t[3].d.t&&Df();return{c(){e=m("div"),e.textContent="Debug can cause sudden reboots. Do not leave on!",l=h(),n=m("div"),i=m("label"),o=m("input"),r=y(" Enable telnet"),a=h(),C&&C.c(),c=h(),f=m("div"),p=m("select"),_=m("option"),_.textContent="Verbose",b=m("option"),b.textContent="Debug",d=m("option"),d.textContent="Info",v=m("option"),v.textContent="Warning",u(e,"class","bd-red"),u(o,"type","checkbox"),u(o,"name","dt"),o.__value="true",o.value=o.__value,u(o,"class","rounded mb-1"),u(n,"class","my-1"),_.__value=1,_.value=_.__value,b.__value=2,b.value=b.__value,d.__value=3,d.value=d.__value,v.__value=4,v.value=v.__value,u(p,"name","dl"),u(p,"class","in-s"),t[3].d.l===void 0&&tt(()=>t[94].call(p)),u(f,"class","my-1")},m($,M){w($,e,M),w($,l,M),w($,n,M),s(n,i),s(i,o),o.checked=t[3].d.t,s(i,r),w($,a,M),C&&C.m($,M),w($,c,M),w($,f,M),s(f,p),s(p,_),s(p,b),s(p,d),s(p,v),qe(p,t[3].d.l,!0),g||(T=[K(o,"change",t[93]),K(p,"change",t[94])],g=!0)},p($,M){M[0]&8&&(o.checked=$[3].d.t),$[3].d.t?C||(C=Df(),C.c(),C.m(c.parentNode,c)):C&&(C.d(1),C=null),M[0]&8&&qe(p,$[3].d.l)},d($){$&&k(e),$&&k(l),$&&k(n),$&&k(a),C&&C.d($),$&&k(c),$&&k(f),g=!1,Be(T)}}}function Df(t){let e;return{c(){e=m("div"),e.textContent="Telnet is unsafe and should be off when not in use",u(e,"class","bd-red")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function _0(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C,$,M,F,S,D,A,E,Y,R,U,H,z,q,L,B,O,j,G,te,le,pe,ie,Pe,je,De,We,be,ye,Re,ge,ae,$e,J,se,Fe,Le,_e,Ce,Ne,de,Te,ee,oe,Ue,ue,ve,dt,Wl,tl,ct,Ml,pl,jt,vt,Qe,Xe,Ze,He,Je,Ge,xe,et,re,he,Ai,_l,_n,St,Ei,Ii,Fi,dl,Ri,Li,Oi,Mt,Pl,Nl,Dl,qi,ze,ke,vl,Ns,Al,It,Ui,Gl,No,ll,Hi,Do,Ds,Ao,ci,Wt,Eo,Io,El,nl,Il,Fo,ji,Ro,mt,Fl,Lo,Wi,dn,vn,hn,bn,Gi,Oo,Pt,Bi,qo,Bl,Uo,Ho,jo,il,gn,kn,Wo,wn,zl,Go,Bo,zo,yn,Gt,Yo,zi,Ko,Yl,Vo,Qo,Xo,$n,Bt,Zo,Yi,Jo,As,xo,Kl,Ki,zt,eu,tu,lu,Es,Vi,Yt,nu,iu,su,lt,Qi,ou,Cn,Tn,uu,mi,ru,Vl,au,fu,cu,hl,mu,Ql,pu,_u,du,bl,vu,Sn,Xl,hu,bu,gu,Ft,Mn,Pn,Nn,Dn,ku,Zl,wu,yu,$u,An,Rt,Cu,Xi,Tu,Zi,Ji,Kt,Su,Mu,xi,es,Vt,Pu,Nu,at,ts,Du,En,In,Au,Jl,Eu,Iu,Fu,Rl,sl,Fn,Rn,Ru,Nt,ls,ns,Lu,Dt,Ln,is,ss,Ou,Is,os,us,Qt,qu,Uu,pi,Hu,Ll,ju,_i,Xt,Wu,Gu,Bu,rs,gl,zu,Ve,as,Yu,On,qn,Ku,di,Vu,ol,Qu,Fs,Xu,Zu,Un,kl,Ju,Zt,xu,Rs,xl,er,tr,lr,wl,nr,en,ir,sr,or,yl,ur,Hn,jn,rr,ar,fr,$l,cr,Wn,mr,pr,_r,ht,Gn,Bn,zn,Yn,Kn,Vn,dr,tn,vr,hr,br,Cl,gr,Ls,Os,qs=t[3].p.r.startsWith("10YNO")||t[3].p.r=="10Y1001A1001A48H",Us,ul,fs,kr,Qn,Xn,wr,vi,yr,hi,$r,Hs,At,cs,Cr,Zn,Jn,Tr,bi,Sr,ms,ps,Jt,Mr,Pr,Nr,Ol,js,xn,Dr,_s,ei,Ar,ds,Ws,ln,Gs,nn,Bs,sn,zs,on,Lt,Ys,Er;a=new qt({}),E=new Qp({});let Vc=["NOK","SEK","DKK","EUR"],gi=[];for(let N=0;N<4;N+=1)gi[N]=e0(xp(t,Vc,N));let bt=t[3].p.e&&t[0].chip!="esp8266"&&ff(t),gt=t[3].g.s>0&&cf(t);It=new qt({});let Qc=[24,48,96,192,384,576,1152],ki=[];for(let N=0;N<7;N+=1)ki[N]=t0(Jp(t,Qc,N));let kt=t[3].m.e.e&&mf(t),wt=t[3].m.e.e&&pf(t),yt=t[3].m.m.e&&_f(t);Tn=new qt({}),In=new qt({}),Ln=new Kc({});let $t=t[3].n.m=="static"&&df(t);qn=new qt({});let Ct=t[0].chip!="esp8266"&&vf(t),nt=t[3].q.s.e&&hf(t),it=t[3].q.m==3&&bf(t),st=t[3].q.m==4&&gf(t),ot=qs&&kf(t);Xn=new qt({});let ti=t[7],pt=[];for(let N=0;N<ti.length;N+=1)pt[N]=yf(rf(t,ti,N));let ut=(t[0].board>20||t[0].chip=="esp8266")&&$f(t);Jn=new qt({});let Tt=t[3].d.s&&Nf(t);return ln=new Et({props:{active:t[1],message:"Loading configuration"}}),nn=new Et({props:{active:t[2],message:"Saving configuration"}}),sn=new Et({props:{active:t[4],message:"Performing factory reset"}}),on=new Et({props:{active:t[5],message:"Device have been factory reset and switched to AP mode"}}),{c(){e=m("form"),l=m("div"),n=m("div"),i=m("strong"),i.textContent="General",o=h(),r=m("a"),Z(a.$$.fragment),c=h(),f=m("input"),p=h(),_=m("div"),b=m("div"),d=m("div"),v=y("Hostname"),g=m("br"),T=h(),C=m("input"),$=h(),M=m("div"),F=y("Time zone"),S=m("br"),D=h(),A=m("select"),Z(E.$$.fragment),Y=h(),R=m("input"),U=h(),H=m("div"),z=m("div"),q=m("div"),L=y("Price region"),B=m("br"),O=h(),j=m("select"),G=m("optgroup"),te=m("option"),te.textContent="NO1",le=m("option"),le.textContent="NO2",pe=m("option"),pe.textContent="NO3",ie=m("option"),ie.textContent="NO4",Pe=m("option"),Pe.textContent="NO5",je=m("optgroup"),De=m("option"),De.textContent="SE1",We=m("option"),We.textContent="SE2",be=m("option"),be.textContent="SE3",ye=m("option"),ye.textContent="SE4",Re=m("optgroup"),ge=m("option"),ge.textContent="DK1",ae=m("option"),ae.textContent="DK2",$e=m("option"),$e.textContent="Austria",J=m("option"),J.textContent="Belgium",se=m("option"),se.textContent="Czech Republic",Fe=m("option"),Fe.textContent="Estonia",Le=m("option"),Le.textContent="Finland",_e=m("option"),_e.textContent="France",Ce=m("option"),Ce.textContent="Germany",Ne=m("option"),Ne.textContent="Great Britain",de=m("option"),de.textContent="Latvia",Te=m("option"),Te.textContent="Lithuania",ee=m("option"),ee.textContent="Netherland",oe=m("option"),oe.textContent="Poland",Ue=m("option"),Ue.textContent="Switzerland",ue=h(),ve=m("div"),dt=y("Currency"),Wl=m("br"),tl=h(),ct=m("select");for(let N=0;N<4;N+=1)gi[N].c();Ml=h(),pl=m("div"),jt=m("div"),vt=m("div"),Qe=y("Fixed price"),Xe=m("br"),Ze=h(),He=m("input"),Je=h(),Ge=m("div"),xe=y("Multiplier"),et=m("br"),re=h(),he=m("input"),Ai=h(),_l=m("div"),_n=m("label"),St=m("input"),Ei=y(" Enable price fetch from remote server"),Ii=h(),bt&&bt.c(),Fi=h(),dl=m("div"),Ri=y("Security"),Li=m("br"),Oi=h(),Mt=m("select"),Pl=m("option"),Pl.textContent="None",Nl=m("option"),Nl.textContent="Only configuration",Dl=m("option"),Dl.textContent="Everything",qi=h(),gt&&gt.c(),ze=h(),ke=m("div"),vl=m("strong"),vl.textContent="Meter",Ns=h(),Al=m("a"),Z(It.$$.fragment),Ui=h(),Gl=m("input"),No=h(),ll=m("div"),Hi=m("span"),Hi.textContent="Buffer size",Do=h(),Ds=m("span"),Ds.textContent="Serial conf.",Ao=h(),ci=m("label"),Wt=m("input"),Eo=y(" inverted"),Io=h(),El=m("div"),nl=m("select"),Il=m("option"),Fo=y("Autodetect");for(let N=0;N<7;N+=1)ki[N].c();Ro=h(),mt=m("select"),Fl=m("option"),Lo=y("-"),dn=m("option"),dn.textContent="7N1",vn=m("option"),vn.textContent="8N1",hn=m("option"),hn.textContent="7E1",bn=m("option"),bn.textContent="8E1",Oo=h(),Pt=m("input"),qo=h(),Bl=m("div"),Uo=y("Voltage"),Ho=m("br"),jo=h(),il=m("select"),gn=m("option"),gn.textContent="400V (TN)",kn=m("option"),kn.textContent="230V (IT/TT)",Wo=h(),wn=m("div"),zl=m("div"),Go=y("Main fuse"),Bo=m("br"),zo=h(),yn=m("label"),Gt=m("input"),Yo=h(),zi=m("span"),zi.textContent="A",Ko=h(),Yl=m("div"),Vo=y("Production"),Qo=m("br"),Xo=h(),$n=m("label"),Bt=m("input"),Zo=h(),Yi=m("span"),Yi.textContent="kWp",Jo=h(),As=m("div"),xo=h(),Kl=m("div"),Ki=m("label"),zt=m("input"),eu=y(" Meter is encrypted"),tu=h(),kt&&kt.c(),lu=h(),wt&&wt.c(),Es=h(),Vi=m("label"),Yt=m("input"),nu=y(" Multipliers"),iu=h(),yt&&yt.c(),su=h(),lt=m("div"),Qi=m("strong"),Qi.textContent="WiFi",ou=h(),Cn=m("a"),Z(Tn.$$.fragment),uu=h(),mi=m("input"),ru=h(),Vl=m("div"),au=y("SSID"),fu=m("br"),cu=h(),hl=m("input"),mu=h(),Ql=m("div"),pu=y("Password"),_u=m("br"),du=h(),bl=m("input"),vu=h(),Sn=m("div"),Xl=m("div"),hu=y("Power saving"),bu=m("br"),gu=h(),Ft=m("select"),Mn=m("option"),Mn.textContent="Default",Pn=m("option"),Pn.textContent="Off",Nn=m("option"),Nn.textContent="Minimum",Dn=m("option"),Dn.textContent="Maximum",ku=h(),Zl=m("div"),wu=y("Power"),yu=m("br"),$u=h(),An=m("div"),Rt=m("input"),Cu=h(),Xi=m("span"),Xi.textContent="dBm",Tu=h(),Zi=m("div"),Ji=m("label"),Kt=m("input"),Su=y(" Auto reboot on connection problem"),Mu=h(),xi=m("div"),es=m("label"),Vt=m("input"),Pu=y(" Allow 802.11b legacy rates"),Nu=h(),at=m("div"),ts=m("strong"),ts.textContent="Network",Du=h(),En=m("a"),Z(In.$$.fragment),Au=h(),Jl=m("div"),Eu=y("IP"),Iu=m("br"),Fu=h(),Rl=m("div"),sl=m("select"),Fn=m("option"),Fn.textContent="DHCP",Rn=m("option"),Rn.textContent="Static",Ru=h(),Nt=m("input"),Lu=h(),Dt=m("select"),Z(Ln.$$.fragment),Ou=h(),$t&&$t.c(),Is=h(),os=m("div"),us=m("label"),Qt=m("input"),qu=y(" enable mDNS"),Uu=h(),pi=m("input"),Hu=h(),Ll=m("div"),ju=y("NTP "),_i=m("label"),Xt=m("input"),Wu=y(" obtain from DHCP"),Gu=m("br"),Bu=h(),rs=m("div"),gl=m("input"),zu=h(),Ve=m("div"),as=m("strong"),as.textContent="MQTT",Yu=h(),On=m("a"),Z(qn.$$.fragment),Ku=h(),di=m("input"),Vu=h(),ol=m("div"),Qu=y(`Server
                `),Ct&&Ct.c(),Fs=h(),Xu=m("br"),Zu=h(),Un=m("div"),kl=m("input"),Ju=h(),Zt=m("input"),xu=h(),nt&&nt.c(),Rs=h(),xl=m("div"),er=y("Username"),tr=m("br"),lr=h(),wl=m("input"),nr=h(),en=m("div"),ir=y("Password"),sr=m("br"),or=h(),yl=m("input"),ur=h(),Hn=m("div"),jn=m("div"),rr=y("Client ID"),ar=m("br"),fr=h(),$l=m("input"),cr=h(),Wn=m("div"),mr=y("Payload"),pr=m("br"),_r=h(),ht=m("select"),Gn=m("option"),Gn.textContent="JSON",Bn=m("option"),Bn.textContent="Raw (minimal)",zn=m("option"),zn.textContent="Raw (full)",Yn=m("option"),Yn.textContent="Domoticz",Kn=m("option"),Kn.textContent="HomeAssistant",Vn=m("option"),Vn.textContent="HEX dump",dr=h(),tn=m("div"),vr=y("Publish topic"),hr=m("br"),br=h(),Cl=m("input"),gr=h(),it&&it.c(),Ls=h(),st&&st.c(),Os=h(),ot&&ot.c(),Us=h(),ul=m("div"),fs=m("strong"),fs.textContent="User interface",kr=h(),Qn=m("a"),Z(Xn.$$.fragment),wr=h(),vi=m("input"),yr=h(),hi=m("div");for(let N=0;N<pt.length;N+=1)pt[N].c();$r=h(),ut&&ut.c(),Hs=h(),At=m("div"),cs=m("strong"),cs.textContent="Debugging",Cr=h(),Zn=m("a"),Z(Jn.$$.fragment),Tr=h(),bi=m("input"),Sr=h(),ms=m("div"),ps=m("label"),Jt=m("input"),Mr=y(" Enable debugging"),Pr=h(),Tt&&Tt.c(),Nr=h(),Ol=m("div"),js=m("div"),xn=m("button"),xn.textContent="Factory reset",Dr=h(),_s=m("div"),ei=m("button"),ei.textContent="Reboot",Ar=h(),ds=m("div"),ds.innerHTML='<button type="submit" class="btn-pri">Save</button>',Ws=h(),Z(ln.$$.fragment),Gs=h(),Z(nn.$$.fragment),Bs=h(),Z(sn.$$.fragment),zs=h(),Z(on.$$.fragment),u(i,"class","text-sm"),u(r,"href",Ut("General-configuration")),u(r,"target","_blank"),u(r,"class","float-right"),u(f,"type","hidden"),u(f,"name","g"),f.value="true",u(C,"name","gh"),u(C,"type","text"),u(C,"class","in-f w-full"),u(C,"pattern","[A-Za-z0-9-]+"),u(A,"name","gt"),u(A,"class","in-l w-full"),t[3].g.t===void 0&&tt(()=>t[16].call(A)),u(b,"class","flex"),u(_,"class","my-1"),u(R,"type","hidden"),u(R,"name","p"),R.value="true",te.__value="10YNO-1--------2",te.value=te.__value,le.__value="10YNO-2--------T",le.value=le.__value,pe.__value="10YNO-3--------J",pe.value=pe.__value,ie.__value="10YNO-4--------9",ie.value=ie.__value,Pe.__value="10Y1001A1001A48H",Pe.value=Pe.__value,u(G,"label","Norway"),De.__value="10Y1001A1001A44P",De.value=De.__value,We.__value="10Y1001A1001A45N",We.value=We.__value,be.__value="10Y1001A1001A46L",be.value=be.__value,ye.__value="10Y1001A1001A47J",ye.value=ye.__value,u(je,"label","Sweden"),ge.__value="10YDK-1--------W",ge.value=ge.__value,ae.__value="10YDK-2--------M",ae.value=ae.__value,u(Re,"label","Denmark"),$e.__value="10YAT-APG------L",$e.value=$e.__value,J.__value="10YBE----------2",J.value=J.__value,se.__value="10YCZ-CEPS-----N",se.value=se.__value,Fe.__value="10Y1001A1001A39I",Fe.value=Fe.__value,Le.__value="10YFI-1--------U",Le.value=Le.__value,_e.__value="10YFR-RTE------C",_e.value=_e.__value,Ce.__value="10Y1001A1001A83F",Ce.value=Ce.__value,Ne.__value="10YGB----------A",Ne.value=Ne.__value,de.__value="10YLV-1001A00074",de.value=de.__value,Te.__value="10YLT-1001A0008Q",Te.value=Te.__value,ee.__value="10YNL----------L",ee.value=ee.__value,oe.__value="10YPL-AREA-----S",oe.value=oe.__value,Ue.__value="10YCH-SWISSGRIDZ",Ue.value=Ue.__value,u(j,"name","pr"),u(j,"class","in-f w-full"),t[3].p.r===void 0&&tt(()=>t[17].call(j)),u(q,"class","w-full"),u(ct,"name","pc"),u(ct,"class","in-l"),t[3].p.c===void 0&&tt(()=>t[18].call(ct)),u(z,"class","flex"),u(H,"class","my-1"),u(He,"name","pf"),u(He,"type","number"),u(He,"min","0.001"),u(He,"max","65"),u(He,"step","0.001"),u(He,"class","in-f tr w-full"),u(vt,"class","w-1/2"),u(he,"name","pm"),u(he,"type","number"),u(he,"min","0.001"),u(he,"max","1000"),u(he,"step","0.001"),u(he,"class","in-l tr w-full"),u(Ge,"class","w-1/2"),u(jt,"class","flex"),u(pl,"class","my-1"),u(St,"type","checkbox"),u(St,"name","pe"),St.__value="true",St.value=St.__value,u(St,"class","rounded mb-1"),u(_l,"class","my-1"),Pl.__value=0,Pl.value=Pl.__value,Nl.__value=1,Nl.value=Nl.__value,Dl.__value=2,Dl.value=Dl.__value,u(Mt,"name","gs"),u(Mt,"class","in-s"),t[3].g.s===void 0&&tt(()=>t[23].call(Mt)),u(dl,"class","my-1"),u(n,"class","cnt"),u(vl,"class","text-sm"),u(Al,"href",Ut("Meter-configuration")),u(Al,"target","_blank"),u(Al,"class","float-right"),u(Gl,"type","hidden"),u(Gl,"name","m"),Gl.value="true",u(Hi,"class","float-right"),u(Wt,"name","mi"),Wt.__value="true",Wt.value=Wt.__value,u(Wt,"type","checkbox"),u(Wt,"class","rounded mb-1"),u(ci,"class","mt-2 ml-3 whitespace-nowrap"),Il.__value=0,Il.value=Il.__value,Il.disabled=ji=t[3].m.b!=0,u(nl,"name","mb"),u(nl,"class","in-f tr w-1/2"),t[3].m.b===void 0&&tt(()=>t[27].call(nl)),Fl.__value=0,Fl.value=Fl.__value,Fl.disabled=Wi=t[3].m.b!=0,dn.__value=2,dn.value=dn.__value,vn.__value=3,vn.value=vn.__value,hn.__value=10,hn.value=hn.__value,bn.__value=11,bn.value=bn.__value,u(mt,"name","mp"),u(mt,"class","in-m"),mt.disabled=Gi=t[3].m.b==0,t[3].m.p===void 0&&tt(()=>t[28].call(mt)),u(Pt,"name","ms"),u(Pt,"type","number"),u(Pt,"min",64),u(Pt,"max",Bi=t[0].chip=="esp8266"?t[3].i.h.p==3||t[3].i.h.p==113?512:128:4096),u(Pt,"step",64),u(Pt,"class","in-l tr w-1/2"),u(El,"class","flex w-full"),u(ll,"class","my-1"),gn.__value=2,gn.value=gn.__value,kn.__value=1,kn.value=kn.__value,u(il,"name","md"),u(il,"class","in-s"),t[3].m.d===void 0&&tt(()=>t[30].call(il)),u(Bl,"class","my-1"),u(Gt,"name","mf"),u(Gt,"type","number"),u(Gt,"min","5"),u(Gt,"max","65535"),u(Gt,"class","in-f tr w-full"),u(zi,"class","in-post"),u(yn,"class","flex"),u(zl,"class","mx-1"),u(Bt,"name","mr"),u(Bt,"type","number"),u(Bt,"min","0"),u(Bt,"max","65535"),u(Bt,"class","in-f tr w-full"),u(Yi,"class","in-post"),u($n,"class","flex"),u(Yl,"class","mx-1"),u(wn,"class","my-1 flex"),u(As,"class","my-1"),u(zt,"type","checkbox"),u(zt,"name","me"),zt.__value="true",zt.value=zt.__value,u(zt,"class","rounded mb-1"),u(Kl,"class","my-1"),u(Yt,"type","checkbox"),u(Yt,"name","mm"),Yt.__value="true",Yt.value=Yt.__value,u(Yt,"class","rounded mb-1"),u(ke,"class","cnt"),u(Qi,"class","text-sm"),u(Cn,"href",Ut("WiFi-configuration")),u(Cn,"target","_blank"),u(Cn,"class","float-right"),u(mi,"type","hidden"),u(mi,"name","w"),mi.value="true",u(hl,"name","ws"),u(hl,"type","text"),u(hl,"class","in-s"),u(Vl,"class","my-1"),u(bl,"name","wp"),u(bl,"type","password"),u(bl,"class","in-s"),u(Ql,"class","my-1"),Mn.__value=255,Mn.value=Mn.__value,Pn.__value=0,Pn.value=Pn.__value,Nn.__value=1,Nn.value=Nn.__value,Dn.__value=2,Dn.value=Dn.__value,u(Ft,"name","wz"),u(Ft,"class","in-s"),t[3].w.z===void 0&&tt(()=>t[43].call(Ft)),u(Xl,"class","w-1/2"),u(Rt,"name","ww"),u(Rt,"type","number"),u(Rt,"min","0"),u(Rt,"max","20.5"),u(Rt,"step","0.5"),u(Rt,"class","in-f tr w-full"),u(Xi,"class","in-post"),u(An,"class","flex"),u(Zl,"class","ml-2 w-1/2"),u(Sn,"class","my-1 flex"),u(Kt,"type","checkbox"),u(Kt,"name","wa"),Kt.__value="true",Kt.value=Kt.__value,u(Kt,"class","rounded mb-1"),u(Zi,"class","my-3"),u(Vt,"type","checkbox"),u(Vt,"name","wb"),Vt.__value="true",Vt.value=Vt.__value,u(Vt,"class","rounded mb-1"),u(xi,"class","my-3"),u(lt,"class","cnt"),u(ts,"class","text-sm"),u(En,"href",Ut("Network-configuration")),u(En,"target","_blank"),u(En,"class","float-right"),Fn.__value="dhcp",Fn.value=Fn.__value,Rn.__value="static",Rn.value=Rn.__value,u(sl,"name","nm"),u(sl,"class","in-f"),t[3].n.m===void 0&&tt(()=>t[47].call(sl)),u(Nt,"name","ni"),u(Nt,"type","text"),u(Nt,"class","in-m w-full"),Nt.disabled=ls=t[3].n.m=="dhcp",Nt.required=ns=t[3].n.m=="static",u(Dt,"name","ns"),u(Dt,"class","in-l"),Dt.disabled=is=t[3].n.m=="dhcp",Dt.required=ss=t[3].n.m=="static",t[3].n.s===void 0&&tt(()=>t[49].call(Dt)),u(Rl,"class","flex"),u(Jl,"class","my-1"),u(Qt,"name","nd"),Qt.__value="true",Qt.value=Qt.__value,u(Qt,"type","checkbox"),u(Qt,"class","rounded mb-1"),u(os,"class","my-1"),u(pi,"type","hidden"),u(pi,"name","ntp"),pi.value="true",u(Xt,"name","ntpd"),Xt.__value="true",Xt.value=Xt.__value,u(Xt,"type","checkbox"),u(Xt,"class","rounded mb-1"),u(_i,"class","ml-4"),u(gl,"name","ntph"),u(gl,"type","text"),u(gl,"class","in-s"),u(rs,"class","flex"),u(Ll,"class","my-1"),u(at,"class","cnt"),u(as,"class","text-sm"),u(On,"href",Ut("MQTT-configuration")),u(On,"target","_blank"),u(On,"class","float-right"),u(di,"type","hidden"),u(di,"name","q"),di.value="true",u(kl,"name","qh"),u(kl,"type","text"),u(kl,"class","in-f w-3/4"),u(Zt,"name","qp"),u(Zt,"type","number"),u(Zt,"min","1024"),u(Zt,"max","65535"),u(Zt,"class","in-l tr w-1/4"),u(Un,"class","flex"),u(ol,"class","my-1"),u(wl,"name","qu"),u(wl,"type","text"),u(wl,"class","in-s"),u(xl,"class","my-1"),u(yl,"name","qa"),u(yl,"type","password"),u(yl,"class","in-s"),u(en,"class","my-1"),u($l,"name","qc"),u($l,"type","text"),u($l,"class","in-f w-full"),Gn.__value=0,Gn.value=Gn.__value,Bn.__value=1,Bn.value=Bn.__value,zn.__value=2,zn.value=zn.__value,Yn.__value=3,Yn.value=Yn.__value,Kn.__value=4,Kn.value=Kn.__value,Vn.__value=255,Vn.value=Vn.__value,u(ht,"name","qm"),u(ht,"class","in-l"),t[3].q.m===void 0&&tt(()=>t[62].call(ht)),u(Hn,"class","my-1 flex"),u(Cl,"name","qb"),u(Cl,"type","text"),u(Cl,"class","in-s"),u(tn,"class","my-1"),u(Ve,"class","cnt"),u(fs,"class","text-sm"),u(Qn,"href",Ut("User-interface")),u(Qn,"target","_blank"),u(Qn,"class","float-right"),u(vi,"type","hidden"),u(vi,"name","u"),vi.value="true",u(hi,"class","flex flex-wrap"),u(ul,"class","cnt"),u(cs,"class","text-sm"),u(Zn,"href","https://amsleser.no/blog/post/24-telnet-debug"),u(Zn,"target","_blank"),u(Zn,"class","float-right"),u(bi,"type","hidden"),u(bi,"name","d"),bi.value="true",u(Jt,"type","checkbox"),u(Jt,"name","ds"),Jt.__value="true",Jt.value=Jt.__value,u(Jt,"class","rounded mb-1"),u(ms,"class","mt-3"),u(At,"class","cnt"),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(xn,"type","button"),u(xn,"class","py-2 px-4 rounded bg-red-500 text-white ml-2"),u(ei,"type","button"),u(ei,"class","py-2 px-4 rounded bg-yellow-500 text-white"),u(_s,"class","text-center"),u(ds,"class","text-right"),u(Ol,"class","grid grid-cols-3"),u(e,"autocomplete","off")},m(N,x){w(N,e,x),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),Q(a,r,null),s(n,c),s(n,f),s(n,p),s(n,_),s(_,b),s(b,d),s(d,v),s(d,g),s(d,T),s(d,C),V(C,t[3].g.h),s(b,$),s(b,M),s(M,F),s(M,S),s(M,D),s(M,A),Q(E,A,null),qe(A,t[3].g.t,!0),s(n,Y),s(n,R),s(n,U),s(n,H),s(H,z),s(z,q),s(q,L),s(q,B),s(q,O),s(q,j),s(j,G),s(G,te),s(G,le),s(G,pe),s(G,ie),s(G,Pe),s(j,je),s(je,De),s(je,We),s(je,be),s(je,ye),s(j,Re),s(Re,ge),s(Re,ae),s(j,$e),s(j,J),s(j,se),s(j,Fe),s(j,Le),s(j,_e),s(j,Ce),s(j,Ne),s(j,de),s(j,Te),s(j,ee),s(j,oe),s(j,Ue),qe(j,t[3].p.r,!0),s(z,ue),s(z,ve),s(ve,dt),s(ve,Wl),s(ve,tl),s(ve,ct);for(let ft=0;ft<4;ft+=1)gi[ft]&&gi[ft].m(ct,null);qe(ct,t[3].p.c,!0),s(n,Ml),s(n,pl),s(pl,jt),s(jt,vt),s(vt,Qe),s(vt,Xe),s(vt,Ze),s(vt,He),V(He,t[3].p.f),s(jt,Je),s(jt,Ge),s(Ge,xe),s(Ge,et),s(Ge,re),s(Ge,he),V(he,t[3].p.m),s(n,Ai),s(n,_l),s(_l,_n),s(_n,St),St.checked=t[3].p.e,s(_n,Ei),s(_l,Ii),bt&&bt.m(_l,null),s(n,Fi),s(n,dl),s(dl,Ri),s(dl,Li),s(dl,Oi),s(dl,Mt),s(Mt,Pl),s(Mt,Nl),s(Mt,Dl),qe(Mt,t[3].g.s,!0),s(n,qi),gt&&gt.m(n,null),s(l,ze),s(l,ke),s(ke,vl),s(ke,Ns),s(ke,Al),Q(It,Al,null),s(ke,Ui),s(ke,Gl),s(ke,No),s(ke,ll),s(ll,Hi),s(ll,Do),s(ll,Ds),s(ll,Ao),s(ll,ci),s(ci,Wt),Wt.checked=t[3].m.i,s(ci,Eo),s(ll,Io),s(ll,El),s(El,nl),s(nl,Il),s(Il,Fo);for(let ft=0;ft<7;ft+=1)ki[ft]&&ki[ft].m(nl,null);qe(nl,t[3].m.b,!0),s(El,Ro),s(El,mt),s(mt,Fl),s(Fl,Lo),s(mt,dn),s(mt,vn),s(mt,hn),s(mt,bn),qe(mt,t[3].m.p,!0),s(El,Oo),s(El,Pt),V(Pt,t[3].m.s),s(ke,qo),s(ke,Bl),s(Bl,Uo),s(Bl,Ho),s(Bl,jo),s(Bl,il),s(il,gn),s(il,kn),qe(il,t[3].m.d,!0),s(ke,Wo),s(ke,wn),s(wn,zl),s(zl,Go),s(zl,Bo),s(zl,zo),s(zl,yn),s(yn,Gt),V(Gt,t[3].m.f),s(yn,Yo),s(yn,zi),s(wn,Ko),s(wn,Yl),s(Yl,Vo),s(Yl,Qo),s(Yl,Xo),s(Yl,$n),s($n,Bt),V(Bt,t[3].m.r),s($n,Zo),s($n,Yi),s(ke,Jo),s(ke,As),s(ke,xo),s(ke,Kl),s(Kl,Ki),s(Ki,zt),zt.checked=t[3].m.e.e,s(Ki,eu),s(Kl,tu),kt&&kt.m(Kl,null),s(ke,lu),wt&&wt.m(ke,null),s(ke,Es),s(ke,Vi),s(Vi,Yt),Yt.checked=t[3].m.m.e,s(Vi,nu),s(ke,iu),yt&&yt.m(ke,null),s(l,su),s(l,lt),s(lt,Qi),s(lt,ou),s(lt,Cn),Q(Tn,Cn,null),s(lt,uu),s(lt,mi),s(lt,ru),s(lt,Vl),s(Vl,au),s(Vl,fu),s(Vl,cu),s(Vl,hl),V(hl,t[3].w.s),s(lt,mu),s(lt,Ql),s(Ql,pu),s(Ql,_u),s(Ql,du),s(Ql,bl),V(bl,t[3].w.p),s(lt,vu),s(lt,Sn),s(Sn,Xl),s(Xl,hu),s(Xl,bu),s(Xl,gu),s(Xl,Ft),s(Ft,Mn),s(Ft,Pn),s(Ft,Nn),s(Ft,Dn),qe(Ft,t[3].w.z,!0),s(Sn,ku),s(Sn,Zl),s(Zl,wu),s(Zl,yu),s(Zl,$u),s(Zl,An),s(An,Rt),V(Rt,t[3].w.w),s(An,Cu),s(An,Xi),s(lt,Tu),s(lt,Zi),s(Zi,Ji),s(Ji,Kt),Kt.checked=t[3].w.a,s(Ji,Su),s(lt,Mu),s(lt,xi),s(xi,es),s(es,Vt),Vt.checked=t[3].w.b,s(es,Pu),s(l,Nu),s(l,at),s(at,ts),s(at,Du),s(at,En),Q(In,En,null),s(at,Au),s(at,Jl),s(Jl,Eu),s(Jl,Iu),s(Jl,Fu),s(Jl,Rl),s(Rl,sl),s(sl,Fn),s(sl,Rn),qe(sl,t[3].n.m,!0),s(Rl,Ru),s(Rl,Nt),V(Nt,t[3].n.i),s(Rl,Lu),s(Rl,Dt),Q(Ln,Dt,null),qe(Dt,t[3].n.s,!0),s(at,Ou),$t&&$t.m(at,null),s(at,Is),s(at,os),s(os,us),s(us,Qt),Qt.checked=t[3].n.d,s(us,qu),s(at,Uu),s(at,pi),s(at,Hu),s(at,Ll),s(Ll,ju),s(Ll,_i),s(_i,Xt),Xt.checked=t[3].n.h,s(_i,Wu),s(Ll,Gu),s(Ll,Bu),s(Ll,rs),s(rs,gl),V(gl,t[3].n.n1),s(l,zu),s(l,Ve),s(Ve,as),s(Ve,Yu),s(Ve,On),Q(qn,On,null),s(Ve,Ku),s(Ve,di),s(Ve,Vu),s(Ve,ol),s(ol,Qu),Ct&&Ct.m(ol,null),s(ol,Fs),s(ol,Xu),s(ol,Zu),s(ol,Un),s(Un,kl),V(kl,t[3].q.h),s(Un,Ju),s(Un,Zt),V(Zt,t[3].q.p),s(Ve,xu),nt&&nt.m(Ve,null),s(Ve,Rs),s(Ve,xl),s(xl,er),s(xl,tr),s(xl,lr),s(xl,wl),V(wl,t[3].q.u),s(Ve,nr),s(Ve,en),s(en,ir),s(en,sr),s(en,or),s(en,yl),V(yl,t[3].q.a),s(Ve,ur),s(Ve,Hn),s(Hn,jn),s(jn,rr),s(jn,ar),s(jn,fr),s(jn,$l),V($l,t[3].q.c),s(Hn,cr),s(Hn,Wn),s(Wn,mr),s(Wn,pr),s(Wn,_r),s(Wn,ht),s(ht,Gn),s(ht,Bn),s(ht,zn),s(ht,Yn),s(ht,Kn),s(ht,Vn),qe(ht,t[3].q.m,!0),s(Ve,dr),s(Ve,tn),s(tn,vr),s(tn,hr),s(tn,br),s(tn,Cl),V(Cl,t[3].q.b),s(l,gr),it&&it.m(l,null),s(l,Ls),st&&st.m(l,null),s(l,Os),ot&&ot.m(l,null),s(l,Us),s(l,ul),s(ul,fs),s(ul,kr),s(ul,Qn),Q(Xn,Qn,null),s(ul,wr),s(ul,vi),s(ul,yr),s(ul,hi);for(let ft=0;ft<pt.length;ft+=1)pt[ft]&&pt[ft].m(hi,null);s(l,$r),ut&&ut.m(l,null),s(l,Hs),s(l,At),s(At,cs),s(At,Cr),s(At,Zn),Q(Jn,Zn,null),s(At,Tr),s(At,bi),s(At,Sr),s(At,ms),s(ms,ps),s(ps,Jt),Jt.checked=t[3].d.s,s(ps,Mr),s(At,Pr),Tt&&Tt.m(At,null),s(e,Nr),s(e,Ol),s(Ol,js),s(js,xn),s(Ol,Dr),s(Ol,_s),s(_s,ei),s(Ol,Ar),s(Ol,ds),w(N,Ws,x),Q(ln,N,x),w(N,Gs,x),Q(nn,N,x),w(N,Bs,x),Q(sn,N,x),w(N,zs,x),Q(on,N,x),Lt=!0,Ys||(Er=[K(C,"input",t[15]),K(A,"change",t[16]),K(j,"change",t[17]),K(ct,"change",t[18]),K(He,"input",t[19]),K(he,"input",t[20]),K(St,"change",t[21]),K(Mt,"change",t[23]),K(Wt,"change",t[26]),K(nl,"change",t[27]),K(mt,"change",t[28]),K(Pt,"input",t[29]),K(il,"change",t[30]),K(Gt,"input",t[31]),K(Bt,"input",t[32]),K(zt,"change",t[33]),K(Yt,"change",t[36]),K(hl,"input",t[41]),K(bl,"input",t[42]),K(Ft,"change",t[43]),K(Rt,"input",t[44]),K(Kt,"change",t[45]),K(Vt,"change",t[46]),K(sl,"change",t[47]),K(Nt,"input",t[48]),K(Dt,"change",t[49]),K(Qt,"change",t[53]),K(Xt,"change",t[54]),K(gl,"input",t[55]),K(kl,"input",t[57]),K(Zt,"input",t[58]),K(wl,"input",t[59]),K(yl,"input",t[60]),K($l,"input",t[61]),K(ht,"change",t[62]),K(Cl,"input",t[63]),K(Jt,"change",t[92]),K(xn,"click",t[8]),K(ei,"click",t[10]),K(e,"submit",Ms(t[9]))],Ys=!0)},p(N,x){if(x[0]&8&&C.value!==N[3].g.h&&V(C,N[3].g.h),x[0]&8&&qe(A,N[3].g.t),x[0]&8&&qe(j,N[3].p.r),x[0]&8&&qe(ct,N[3].p.c),x[0]&8&&fe(He.value)!==N[3].p.f&&V(He,N[3].p.f),x[0]&8&&fe(he.value)!==N[3].p.m&&V(he,N[3].p.m),x[0]&8&&(St.checked=N[3].p.e),N[3].p.e&&N[0].chip!="esp8266"?bt?bt.p(N,x):(bt=ff(N),bt.c(),bt.m(_l,null)):bt&&(bt.d(1),bt=null),x[0]&8&&qe(Mt,N[3].g.s),N[3].g.s>0?gt?gt.p(N,x):(gt=cf(N),gt.c(),gt.m(n,null)):gt&&(gt.d(1),gt=null),x[0]&8&&(Wt.checked=N[3].m.i),(!Lt||x[0]&8&&ji!==(ji=N[3].m.b!=0))&&(Il.disabled=ji),x[0]&8&&qe(nl,N[3].m.b),(!Lt||x[0]&8&&Wi!==(Wi=N[3].m.b!=0))&&(Fl.disabled=Wi),(!Lt||x[0]&8&&Gi!==(Gi=N[3].m.b==0))&&(mt.disabled=Gi),x[0]&8&&qe(mt,N[3].m.p),(!Lt||x[0]&9&&Bi!==(Bi=N[0].chip=="esp8266"?N[3].i.h.p==3||N[3].i.h.p==113?512:128:4096))&&u(Pt,"max",Bi),x[0]&8&&fe(Pt.value)!==N[3].m.s&&V(Pt,N[3].m.s),x[0]&8&&qe(il,N[3].m.d),x[0]&8&&fe(Gt.value)!==N[3].m.f&&V(Gt,N[3].m.f),x[0]&8&&fe(Bt.value)!==N[3].m.r&&V(Bt,N[3].m.r),x[0]&8&&(zt.checked=N[3].m.e.e),N[3].m.e.e?kt?kt.p(N,x):(kt=mf(N),kt.c(),kt.m(Kl,null)):kt&&(kt.d(1),kt=null),N[3].m.e.e?wt?wt.p(N,x):(wt=pf(N),wt.c(),wt.m(ke,Es)):wt&&(wt.d(1),wt=null),x[0]&8&&(Yt.checked=N[3].m.m.e),N[3].m.m.e?yt?yt.p(N,x):(yt=_f(N),yt.c(),yt.m(ke,null)):yt&&(yt.d(1),yt=null),x[0]&8&&hl.value!==N[3].w.s&&V(hl,N[3].w.s),x[0]&8&&bl.value!==N[3].w.p&&V(bl,N[3].w.p),x[0]&8&&qe(Ft,N[3].w.z),x[0]&8&&fe(Rt.value)!==N[3].w.w&&V(Rt,N[3].w.w),x[0]&8&&(Kt.checked=N[3].w.a),x[0]&8&&(Vt.checked=N[3].w.b),x[0]&8&&qe(sl,N[3].n.m),(!Lt||x[0]&8&&ls!==(ls=N[3].n.m=="dhcp"))&&(Nt.disabled=ls),(!Lt||x[0]&8&&ns!==(ns=N[3].n.m=="static"))&&(Nt.required=ns),x[0]&8&&Nt.value!==N[3].n.i&&V(Nt,N[3].n.i),(!Lt||x[0]&8&&is!==(is=N[3].n.m=="dhcp"))&&(Dt.disabled=is),(!Lt||x[0]&8&&ss!==(ss=N[3].n.m=="static"))&&(Dt.required=ss),x[0]&8&&qe(Dt,N[3].n.s),N[3].n.m=="static"?$t?$t.p(N,x):($t=df(N),$t.c(),$t.m(at,Is)):$t&&($t.d(1),$t=null),x[0]&8&&(Qt.checked=N[3].n.d),x[0]&8&&(Xt.checked=N[3].n.h),x[0]&8&&gl.value!==N[3].n.n1&&V(gl,N[3].n.n1),N[0].chip!="esp8266"?Ct?Ct.p(N,x):(Ct=vf(N),Ct.c(),Ct.m(ol,Fs)):Ct&&(Ct.d(1),Ct=null),x[0]&8&&kl.value!==N[3].q.h&&V(kl,N[3].q.h),x[0]&8&&fe(Zt.value)!==N[3].q.p&&V(Zt,N[3].q.p),N[3].q.s.e?nt?(nt.p(N,x),x[0]&8&&P(nt,1)):(nt=hf(N),nt.c(),P(nt,1),nt.m(Ve,Rs)):nt&&(Ae(),I(nt,1,1,()=>{nt=null}),Ee()),x[0]&8&&wl.value!==N[3].q.u&&V(wl,N[3].q.u),x[0]&8&&yl.value!==N[3].q.a&&V(yl,N[3].q.a),x[0]&8&&$l.value!==N[3].q.c&&V($l,N[3].q.c),x[0]&8&&qe(ht,N[3].q.m),x[0]&8&&Cl.value!==N[3].q.b&&V(Cl,N[3].q.b),N[3].q.m==3?it?(it.p(N,x),x[0]&8&&P(it,1)):(it=bf(N),it.c(),P(it,1),it.m(l,Ls)):it&&(Ae(),I(it,1,1,()=>{it=null}),Ee()),N[3].q.m==4?st?(st.p(N,x),x[0]&8&&P(st,1)):(st=gf(N),st.c(),P(st,1),st.m(l,Os)):st&&(Ae(),I(st,1,1,()=>{st=null}),Ee()),x[0]&8&&(qs=N[3].p.r.startsWith("10YNO")||N[3].p.r=="10Y1001A1001A48H"),qs?ot?(ot.p(N,x),x[0]&8&&P(ot,1)):(ot=kf(N),ot.c(),P(ot,1),ot.m(l,Us)):ot&&(Ae(),I(ot,1,1,()=>{ot=null}),Ee()),x[0]&136){ti=N[7];let Ot;for(Ot=0;Ot<ti.length;Ot+=1){const Lr=rf(N,ti,Ot);pt[Ot]?pt[Ot].p(Lr,x):(pt[Ot]=yf(Lr),pt[Ot].c(),pt[Ot].m(hi,null))}for(;Ot<pt.length;Ot+=1)pt[Ot].d(1);pt.length=ti.length}N[0].board>20||N[0].chip=="esp8266"?ut?(ut.p(N,x),x[0]&1&&P(ut,1)):(ut=$f(N),ut.c(),P(ut,1),ut.m(l,Hs)):ut&&(Ae(),I(ut,1,1,()=>{ut=null}),Ee()),x[0]&8&&(Jt.checked=N[3].d.s),N[3].d.s?Tt?Tt.p(N,x):(Tt=Nf(N),Tt.c(),Tt.m(At,null)):Tt&&(Tt.d(1),Tt=null);const ft={};x[0]&2&&(ft.active=N[1]),ln.$set(ft);const Ir={};x[0]&4&&(Ir.active=N[2]),nn.$set(Ir);const Fr={};x[0]&16&&(Fr.active=N[4]),sn.$set(Fr);const Rr={};x[0]&32&&(Rr.active=N[5]),on.$set(Rr)},i(N){Lt||(P(a.$$.fragment,N),P(E.$$.fragment,N),P(It.$$.fragment,N),P(Tn.$$.fragment,N),P(In.$$.fragment,N),P(Ln.$$.fragment,N),P(qn.$$.fragment,N),P(nt),P(it),P(st),P(ot),P(Xn.$$.fragment,N),P(ut),P(Jn.$$.fragment,N),P(ln.$$.fragment,N),P(nn.$$.fragment,N),P(sn.$$.fragment,N),P(on.$$.fragment,N),Lt=!0)},o(N){I(a.$$.fragment,N),I(E.$$.fragment,N),I(It.$$.fragment,N),I(Tn.$$.fragment,N),I(In.$$.fragment,N),I(Ln.$$.fragment,N),I(qn.$$.fragment,N),I(nt),I(it),I(st),I(ot),I(Xn.$$.fragment,N),I(ut),I(Jn.$$.fragment,N),I(ln.$$.fragment,N),I(nn.$$.fragment,N),I(sn.$$.fragment,N),I(on.$$.fragment,N),Lt=!1},d(N){N&&k(e),X(a),X(E),cl(gi,N),bt&&bt.d(),gt&&gt.d(),X(It),cl(ki,N),kt&&kt.d(),wt&&wt.d(),yt&&yt.d(),X(Tn),X(In),X(Ln),$t&&$t.d(),X(qn),Ct&&Ct.d(),nt&&nt.d(),it&&it.d(),st&&st.d(),ot&&ot.d(),X(Xn),cl(pt,N),ut&&ut.d(),X(Jn),Tt&&Tt.d(),N&&k(Ws),X(ln,N),N&&k(Gs),X(nn,N),N&&k(Bs),X(sn,N),N&&k(zs),X(on,N),Ys=!1,Be(Er)}}}async function d0(){await(await fetch("/reboot",{method:"POST"})).json()}function v0(t,e,l){let{sysinfo:n={}}=e,i=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"}],o=!0,r=!1,a={g:{t:"",h:"",s:0,u:"",p:""},m:{b:2400,p:11,i:!1,d:0,f:0,r:0,e:{e:!1,k:"",a:""},m:{e:!1,w:!1,v:!1,a:!1,c:!1}},w:{s:"",p:"",w:0,z:255,a:!0,b:!0},n:{m:"",i:"",s:"",g:"",d1:"",d2:"",d:!1,n1:"",n2:"",h:!1},q:{h:"",p:1883,u:"",a:"",b:"",s:{e:!1,c:!1,r:!0,k:!1}},o:{e:"",c:"",u1:"",u2:"",u3:""},t:{t:[0,0,0,0,0,0,0,0,0,0],h:1},p:{e:!1,t:"",r:"",c:"",m:1,f:null},d:{s:!1,t:!1,l:5},u:{i:0,e:0,v:0,a:0,r:0,c:0,t:0,p:0,d:0,m:0,s:0},i:{h:{p:null,u:!0},a:null,l:{p:null,i:!1},r:{r:null,g:null,b:null,i:!1},t:{d:null,a:null},v:{p:null,d:{v:null,g:null},o:null,m:null,b:null}},h:{t:"",h:"",n:""}};$i.subscribe(ze=>{ze.version&&(l(3,a=ze),l(1,o=!1))}),Hp();let c=!1,f=!1;async function p(){if(confirm("Are you sure you want to factory reset the device?")){l(4,c=!0);const ze=new URLSearchParams;ze.append("perform","true");let vl=await(await fetch("/reset",{method:"POST",body:ze})).json();l(4,c=!1),l(5,f=vl.success)}}async function _(ze){l(2,r=!0);const ke=new FormData(ze.target),vl=new URLSearchParams;for(let It of ke){const[Ui,Gl]=It;vl.append(Ui,Gl)}let Al=await(await fetch("/save",{method:"POST",body:vl})).json();Ht.update(It=>(It.booting=Al.reboot,It.ui=a.u,It)),l(2,r=!1),oi("/")}const b=function(){confirm("Are you sure you want to reboot the device?")&&(Ht.update(ze=>(ze.booting=!0,ze)),d0())};async function d(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("/mqtt-ca",{method:"POST"})).text(),$i.update(ke=>(ke.q.s.c=!1,ke)))}async function v(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("/mqtt-cert",{method:"POST"})).text(),$i.update(ke=>(ke.q.s.r=!1,ke)))}async function g(){confirm("Are you sure you want to delete key?")&&(await(await fetch("/mqtt-key",{method:"POST"})).text(),$i.update(ke=>(ke.q.s.k=!1,ke)))}const T=function(){a.q.s.e?a.q.p==1883&&l(3,a.q.p=8883,a):a.q.p==8883&&l(3,a.q.p=1883,a)};let C=44;function $(){a.g.h=this.value,l(3,a)}function M(){a.g.t=_t(this),l(3,a)}function F(){a.p.r=_t(this),l(3,a)}function S(){a.p.c=_t(this),l(3,a)}function D(){a.p.f=fe(this.value),l(3,a)}function A(){a.p.m=fe(this.value),l(3,a)}function E(){a.p.e=this.checked,l(3,a)}function Y(){a.p.t=this.value,l(3,a)}function R(){a.g.s=_t(this),l(3,a)}function U(){a.g.u=this.value,l(3,a)}function H(){a.g.p=this.value,l(3,a)}function z(){a.m.i=this.checked,l(3,a)}function q(){a.m.b=_t(this),l(3,a)}function L(){a.m.p=_t(this),l(3,a)}function B(){a.m.s=fe(this.value),l(3,a)}function O(){a.m.d=_t(this),l(3,a)}function j(){a.m.f=fe(this.value),l(3,a)}function G(){a.m.r=fe(this.value),l(3,a)}function te(){a.m.e.e=this.checked,l(3,a)}function le(){a.m.e.k=this.value,l(3,a)}function pe(){a.m.e.a=this.value,l(3,a)}function ie(){a.m.m.e=this.checked,l(3,a)}function Pe(){a.m.m.w=fe(this.value),l(3,a)}function je(){a.m.m.v=fe(this.value),l(3,a)}function De(){a.m.m.a=fe(this.value),l(3,a)}function We(){a.m.m.c=fe(this.value),l(3,a)}function be(){a.w.s=this.value,l(3,a)}function ye(){a.w.p=this.value,l(3,a)}function Re(){a.w.z=_t(this),l(3,a)}function ge(){a.w.w=fe(this.value),l(3,a)}function ae(){a.w.a=this.checked,l(3,a)}function $e(){a.w.b=this.checked,l(3,a)}function J(){a.n.m=_t(this),l(3,a)}function se(){a.n.i=this.value,l(3,a)}function Fe(){a.n.s=_t(this),l(3,a)}function Le(){a.n.g=this.value,l(3,a)}function _e(){a.n.d1=this.value,l(3,a)}function Ce(){a.n.d2=this.value,l(3,a)}function Ne(){a.n.d=this.checked,l(3,a)}function de(){a.n.h=this.checked,l(3,a)}function Te(){a.n.n1=this.value,l(3,a)}function ee(){a.q.s.e=this.checked,l(3,a)}function oe(){a.q.h=this.value,l(3,a)}function Ue(){a.q.p=fe(this.value),l(3,a)}function ue(){a.q.u=this.value,l(3,a)}function ve(){a.q.a=this.value,l(3,a)}function dt(){a.q.c=this.value,l(3,a)}function Wl(){a.q.m=_t(this),l(3,a)}function tl(){a.q.b=this.value,l(3,a)}function ct(){a.o.e=this.value,l(3,a)}function Ml(){a.o.c=this.value,l(3,a)}function pl(){a.o.u1=this.value,l(3,a)}function jt(){a.o.u2=this.value,l(3,a)}function vt(){a.o.u3=this.value,l(3,a)}function Qe(){a.h.t=this.value,l(3,a)}function Xe(){a.h.h=this.value,l(3,a)}function Ze(){a.h.n=this.value,l(3,a)}function He(ze){a.t.t[ze]=fe(this.value),l(3,a)}function Je(){a.t.h=fe(this.value),l(3,a)}function Ge(ze){a.u[ze.key]=_t(this),l(3,a)}function xe(){a.i.h.u=this.checked,l(3,a)}function et(){a.i.h.p=_t(this),l(3,a)}function re(){a.i.a=fe(this.value),l(3,a)}function he(){a.i.l.i=this.checked,l(3,a)}function Ai(){a.i.l.p=fe(this.value),l(3,a)}function _l(){a.i.r.i=this.checked,l(3,a)}function _n(){a.i.r.r=fe(this.value),l(3,a)}function St(){a.i.r.g=fe(this.value),l(3,a)}function Ei(){a.i.r.b=fe(this.value),l(3,a)}function Ii(){a.i.t.d=fe(this.value),l(3,a)}function Fi(){a.i.t.a=fe(this.value),l(3,a)}function dl(){a.i.v.p=fe(this.value),l(3,a)}function Ri(){a.i.v.d.v=fe(this.value),l(3,a)}function Li(){a.i.v.d.g=fe(this.value),l(3,a)}function Oi(){a.i.v.o=fe(this.value),l(3,a)}function Mt(){a.i.v.m=fe(this.value),l(3,a)}function Pl(){a.i.v.b=fe(this.value),l(3,a)}function Nl(){a.d.s=this.checked,l(3,a)}function Dl(){a.d.t=this.checked,l(3,a)}function qi(){a.d.l=_t(this),l(3,a)}return t.$$set=ze=>{"sysinfo"in ze&&l(0,n=ze.sysinfo)},t.$$.update=()=>{t.$$.dirty[0]&1&&l(6,C=n.chip=="esp8266"?16:n.chip=="esp32s2"?44:39)},[n,o,r,a,c,f,C,i,p,_,b,d,v,g,T,$,M,F,S,D,A,E,Y,R,U,H,z,q,L,B,O,j,G,te,le,pe,ie,Pe,je,De,We,be,ye,Re,ge,ae,$e,J,se,Fe,Le,_e,Ce,Ne,de,Te,ee,oe,Ue,ue,ve,dt,Wl,tl,ct,Ml,pl,jt,vt,Qe,Xe,Ze,He,Je,Ge,xe,et,re,he,Ai,_l,_n,St,Ei,Ii,Fi,dl,Ri,Li,Oi,Mt,Pl,Nl,Dl,qi]}class h0 extends Me{constructor(e){super(),Se(this,e,v0,_0,we,{sysinfo:0},null,[-1,-1,-1,-1])}}function Af(t,e,l){const n=t.slice();return n[20]=e[l],n}function b0(t){let e=ce(t[1].chip,t[1].board)+"",l;return{c(){l=y(e)},m(n,i){w(n,l,i)},p(n,i){i&2&&e!==(e=ce(n[1].chip,n[1].board)+"")&&W(l,e)},d(n){n&&k(l)}}}function Ef(t){let e,l,n=t[1].apmac+"",i,o,r,a,c,f,p,_,b,d=xr(t[1])+"",v,g,T=t[1].boot_reason+"",C,$,M=t[1].ex_cause+"",F,S,D;const A=[k0,g0],E=[];function Y(R,U){return R[0].u>0?0:1}return c=Y(t),f=E[c]=A[c](t),{c(){e=m("div"),l=y("AP MAC: "),i=y(n),o=h(),r=m("div"),a=y(`Last boot:
            `),f.c(),p=h(),_=m("div"),b=y("Reason: "),v=y(d),g=y(" ("),C=y(T),$=y("/"),F=y(M),S=y(")"),u(e,"class","my-2"),u(r,"class","my-2"),u(_,"class","my-2")},m(R,U){w(R,e,U),s(e,l),s(e,i),w(R,o,U),w(R,r,U),s(r,a),E[c].m(r,null),w(R,p,U),w(R,_,U),s(_,b),s(_,v),s(_,g),s(_,C),s(_,$),s(_,F),s(_,S),D=!0},p(R,U){(!D||U&2)&&n!==(n=R[1].apmac+"")&&W(i,n);let H=c;c=Y(R),c===H?E[c].p(R,U):(Ae(),I(E[H],1,1,()=>{E[H]=null}),Ee(),f=E[c],f?f.p(R,U):(f=E[c]=A[c](R),f.c()),P(f,1),f.m(r,null)),(!D||U&2)&&d!==(d=xr(R[1])+"")&&W(v,d),(!D||U&2)&&T!==(T=R[1].boot_reason+"")&&W(C,T),(!D||U&2)&&M!==(M=R[1].ex_cause+"")&&W(F,M)},i(R){D||(P(f),D=!0)},o(R){I(f),D=!1},d(R){R&&k(e),R&&k(o),R&&k(r),E[c].d(),R&&k(p),R&&k(_)}}}function g0(t){let e;return{c(){e=y("-")},m(l,n){w(l,e,n)},p:ne,i:ne,o:ne,d(l){l&&k(e)}}}function k0(t){let e,l;return e=new Gc({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:""}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function w0(t){let e;return{c(){e=m("span"),e.textContent="Update consents",u(e,"class","btn-pri-sm")},m(l,n){w(l,e,n)},p:ne,d(l){l&&k(e)}}}function If(t){let e,l,n,i,o,r=Ts(t[1].meter.mfg)+"",a,c,f,p,_=t[1].meter.model+"",b,d,v,g,T=t[1].meter.id+"",C;return{c(){e=m("div"),l=m("strong"),l.textContent="Meter",n=h(),i=m("div"),o=y("Manufacturer: "),a=y(r),c=h(),f=m("div"),p=y("Model: "),b=y(_),d=h(),v=m("div"),g=y("ID: "),C=y(T),u(l,"class","text-sm"),u(i,"class","my-2"),u(f,"class","my-2"),u(v,"class","my-2"),u(e,"class","cnt")},m($,M){w($,e,M),s(e,l),s(e,n),s(e,i),s(i,o),s(i,a),s(e,c),s(e,f),s(f,p),s(f,b),s(e,d),s(e,v),s(v,g),s(v,C)},p($,M){M&2&&r!==(r=Ts($[1].meter.mfg)+"")&&W(a,r),M&2&&_!==(_=$[1].meter.model+"")&&W(b,_),M&2&&T!==(T=$[1].meter.id+"")&&W(C,T)},d($){$&&k(e)}}}function Ff(t){let e,l,n,i,o,r=t[1].net.ip+"",a,c,f,p,_=t[1].net.mask+"",b,d,v,g,T=t[1].net.gw+"",C,$,M,F,S=t[1].net.dns1+"",D,A,E=t[1].net.dns2&&Rf(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Network",n=h(),i=m("div"),o=y("IP: "),a=y(r),c=h(),f=m("div"),p=y("Mask: "),b=y(_),d=h(),v=m("div"),g=y("Gateway: "),C=y(T),$=h(),M=m("div"),F=y("DNS: "),D=y(S),A=h(),E&&E.c(),u(l,"class","text-sm"),u(i,"class","my-2"),u(f,"class","my-2"),u(v,"class","my-2"),u(M,"class","my-2"),u(e,"class","cnt")},m(Y,R){w(Y,e,R),s(e,l),s(e,n),s(e,i),s(i,o),s(i,a),s(e,c),s(e,f),s(f,p),s(f,b),s(e,d),s(e,v),s(v,g),s(v,C),s(e,$),s(e,M),s(M,F),s(M,D),s(M,A),E&&E.m(M,null)},p(Y,R){R&2&&r!==(r=Y[1].net.ip+"")&&W(a,r),R&2&&_!==(_=Y[1].net.mask+"")&&W(b,_),R&2&&T!==(T=Y[1].net.gw+"")&&W(C,T),R&2&&S!==(S=Y[1].net.dns1+"")&&W(D,S),Y[1].net.dns2?E?E.p(Y,R):(E=Rf(Y),E.c(),E.m(M,null)):E&&(E.d(1),E=null)},d(Y){Y&&k(e),E&&E.d()}}}function Rf(t){let e,l=t[1].net.dns2+"",n;return{c(){e=y("/ "),n=y(l)},m(i,o){w(i,e,o),w(i,n,o)},p(i,o){o&2&&l!==(l=i[1].net.dns2+"")&&W(n,l)},d(i){i&&k(e),i&&k(n)}}}function Lf(t){let e,l,n,i=t[1].upgrade.t+"",o,r,a=t[1].version+"",c,f,p=t[1].upgrade.x+"",_,b,d=t[1].upgrade.e+"",v,g;return{c(){e=m("div"),l=m("div"),n=y("Previous upgrade attempt ("),o=y(i),r=y(") does not match current version ("),c=y(a),f=y(") ["),_=y(p),b=y("/"),v=y(d),g=y("]"),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(T,C){w(T,e,C),s(e,l),s(l,n),s(l,o),s(l,r),s(l,c),s(l,f),s(l,_),s(l,b),s(l,v),s(l,g)},p(T,C){C&2&&i!==(i=T[1].upgrade.t+"")&&W(o,i),C&2&&a!==(a=T[1].version+"")&&W(c,a),C&2&&p!==(p=T[1].upgrade.x+"")&&W(_,p),C&2&&d!==(d=T[1].upgrade.e+"")&&W(v,d)},d(T){T&&k(e)}}}function Of(t){let e,l,n,i=t[2].tag_name+"",o,r,a,c,f,p,_=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[2]&&t[2].tag_name!=t[1].version&&qf(t),b=t[1].fwconsent===2&&Uf();return{c(){e=m("div"),l=y(`Latest version: 
                `),n=m("a"),o=y(i),a=h(),_&&_.c(),c=h(),b&&b.c(),f=Ke(),u(n,"href",r=t[2].html_url),u(n,"class","ml-2 text-blue-600 hover:text-blue-800"),u(n,"target","_blank"),u(n,"rel","noreferrer"),u(e,"class","my-2 flex")},m(d,v){w(d,e,v),s(e,l),s(e,n),s(n,o),s(e,a),_&&_.m(e,null),w(d,c,v),b&&b.m(d,v),w(d,f,v),p=!0},p(d,v){(!p||v&4)&&i!==(i=d[2].tag_name+"")&&W(o,i),(!p||v&4&&r!==(r=d[2].html_url))&&u(n,"href",r),(d[1].security==0||d[0].a)&&d[1].fwconsent===1&&d[2]&&d[2].tag_name!=d[1].version?_?(_.p(d,v),v&7&&P(_,1)):(_=qf(d),_.c(),P(_,1),_.m(e,null)):_&&(Ae(),I(_,1,1,()=>{_=null}),Ee()),d[1].fwconsent===2?b||(b=Uf(),b.c(),b.m(f.parentNode,f)):b&&(b.d(1),b=null)},i(d){p||(P(_),p=!0)},o(d){I(_),p=!1},d(d){d&&k(e),_&&_.d(),d&&k(c),b&&b.d(d),d&&k(f)}}}function qf(t){let e,l,n,i,o,r;return n=new Bc({}),{c(){e=m("div"),l=m("button"),Z(n.$$.fragment),u(e,"class","flex-none ml-2 text-green-500"),u(e,"title","Install this version")},m(a,c){w(a,e,c),s(e,l),Q(n,l,null),i=!0,o||(r=K(l,"click",t[10]),o=!0)},p:ne,i(a){i||(P(n.$$.fragment,a),i=!0)},o(a){I(n.$$.fragment,a),i=!1},d(a){a&&k(e),X(n),o=!1,r()}}}function Uf(t){let e;return{c(){e=m("div"),e.innerHTML='<div class="bd-yellow">You have disabled one-click firmware upgrade, link to self-upgrade is disabled</div>',u(e,"class","my-2")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Hf(t){let e,l=Ss(ce(t[1].chip,t[1].board))+"",n;return{c(){e=m("div"),n=y(l),u(e,"class","bd-red")},m(i,o){w(i,e,o),s(e,n)},p(i,o){o&2&&l!==(l=Ss(ce(i[1].chip,i[1].board))+"")&&W(n,l)},d(i){i&&k(e)}}}function jf(t){let e,l,n,i,o,r;function a(p,_){return p[4].length==0?$0:y0}let c=a(t),f=c(t);return{c(){e=m("div"),l=m("form"),n=m("input"),i=h(),f.c(),lc(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","/firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(p,_){w(p,e,_),s(e,l),s(l,n),t[12](n),s(l,i),f.m(l,null),o||(r=[K(n,"change",t[13]),K(l,"submit",t[15])],o=!0)},p(p,_){c===(c=a(p))&&f?f.p(p,_):(f.d(1),f=c(p),f&&(f.c(),f.m(l,null)))},d(p){p&&k(e),t[12](null),f.d(),o=!1,Be(r)}}}function y0(t){let e=t[4][0].name+"",l,n,i;return{c(){l=y(e),n=h(),i=m("button"),i.textContent="Upload",u(i,"type","submit"),u(i,"class","btn-pri-sm float-right")},m(o,r){w(o,l,r),w(o,n,r),w(o,i,r)},p(o,r){r&16&&e!==(e=o[4][0].name+"")&&W(l,e)},d(o){o&&k(l),o&&k(n),o&&k(i)}}}function $0(t){let e,l,n;return{c(){e=m("button"),e.textContent="Select firmware file for upgrade",u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(i,o){w(i,e,o),l||(n=K(e,"click",t[14]),l=!0)},p:ne,d(i){i&&k(e),l=!1,n()}}}function Wf(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g=t[9],T=[];for(let S=0;S<g.length;S+=1)T[S]=Gf(Af(t,g,S));let C=t[7].length==0&&Bf();function $(S,D){return S[7].length==0?T0:C0}let M=$(t),F=M(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Backup & restore",n=h(),i=m("form"),o=m("div");for(let S=0;S<T.length;S+=1)T[S].c();r=h(),a=m("label"),a.innerHTML='<input type="checkbox" class="rounded" name="ic" value="true"/> Include Secrets<br/><small>(SSID, PSK, passwords and tokens)</small>',c=h(),C&&C.c(),f=h(),p=m("form"),_=m("input"),b=h(),F.c(),u(l,"class","text-sm"),u(a,"class","my-1 mx-3 col-span-2"),u(o,"class","grid grid-cols-2"),u(i,"method","get"),u(i,"action","/configfile.cfg"),u(i,"autocomplete","off"),lc(_,"display","none"),u(_,"name","file"),u(_,"type","file"),u(_,"accept",".cfg"),u(p,"action","/configfile"),u(p,"enctype","multipart/form-data"),u(p,"method","post"),u(p,"autocomplete","off"),u(e,"class","cnt")},m(S,D){w(S,e,D),s(e,l),s(e,n),s(e,i),s(i,o);for(let A=0;A<T.length;A+=1)T[A]&&T[A].m(o,null);s(o,r),s(o,a),s(i,c),C&&C.m(i,null),s(e,f),s(e,p),s(p,_),t[16](_),s(p,b),F.m(p,null),d||(v=[K(_,"change",t[17]),K(p,"submit",t[19])],d=!0)},p(S,D){if(D&512){g=S[9];let A;for(A=0;A<g.length;A+=1){const E=Af(S,g,A);T[A]?T[A].p(E,D):(T[A]=Gf(E),T[A].c(),T[A].m(o,r))}for(;A<T.length;A+=1)T[A].d(1);T.length=g.length}S[7].length==0?C||(C=Bf(),C.c(),C.m(i,null)):C&&(C.d(1),C=null),M===(M=$(S))&&F?F.p(S,D):(F.d(1),F=M(S),F&&(F.c(),F.m(p,null)))},d(S){S&&k(e),cl(T,S),C&&C.d(),t[16](null),F.d(),d=!1,Be(v)}}}function Gf(t){let e,l,n,i=t[20].name+"",o;return{c(){e=m("label"),l=m("input"),n=h(),o=y(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[20].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,a){w(r,e,a),s(e,l),s(e,n),s(e,o)},p:ne,d(r){r&&k(e)}}}function Bf(t){let e;return{c(){e=m("button"),e.textContent="Download",u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function C0(t){let e=t[7][0].name+"",l,n,i;return{c(){l=y(e),n=h(),i=m("button"),i.textContent="Upload",u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(o,r){w(o,l,r),w(o,n,r),w(o,i,r)},p(o,r){r&128&&e!==(e=o[7][0].name+"")&&W(l,e)},d(o){o&&k(l),o&&k(n),o&&k(i)}}}function T0(t){let e,l,n;return{c(){e=m("button"),e.textContent="Select file...",u(e,"type","button"),u(e,"class","btn-pri-sm")},m(i,o){w(i,e,o),l||(n=K(e,"click",t[18]),l=!0)},p:ne,d(i){i&&k(e),l=!1,n()}}}function S0(t){let e,l,n,i,o,r,a=t[1].chip+"",c,f,p=t[1].cpu+"",_,b,d,v,g,T,C,$,M,F=t[1].mac+"",S,D,A,E,Y,R,U,H,z,q,L,B,O,j,G,te=t[1].version+"",le,pe,ie,Pe,je=(t[1].security==0||t[0].a)&&ui(t[1].board),De,We,be,ye,Re,ge,ae,$e,J;T=new el({props:{to:"/vendor",$$slots:{default:[b0]},$$scope:{ctx:t}}});let se=t[1].apmac&&t[1].apmac!=t[1].mac&&Ef(t);Y=new el({props:{to:"/consent",$$slots:{default:[w0]},$$scope:{ctx:t}}});let Fe=t[1].meter&&If(t),Le=t[1].net&&Ff(t),_e=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&Lf(t),Ce=t[2]&&Of(t),Ne=je&&Hf(t),de=(t[1].security==0||t[0].a)&&jf(t),Te=(t[1].security==0||t[0].a)&&Wf(t);return ye=new Et({props:{active:t[5],message:"Uploading firmware, please wait"}}),ge=new Et({props:{active:t[8],message:"Uploading configuration, please wait"}}),{c(){e=m("div"),l=m("div"),n=m("strong"),n.textContent="Device information",i=h(),o=m("div"),r=y("Chip: "),c=y(a),f=y(" ("),_=y(p),b=y("MHz)"),d=h(),v=m("div"),g=y("Device: "),Z(T.$$.fragment),C=h(),$=m("div"),M=y("MAC: "),S=y(F),D=h(),se&&se.c(),A=h(),E=m("div"),Z(Y.$$.fragment),R=h(),U=m("button"),U.textContent="Reboot",H=h(),Fe&&Fe.c(),z=h(),Le&&Le.c(),q=h(),L=m("div"),B=m("strong"),B.textContent="Firmware",O=h(),j=m("div"),G=y("Installed version: "),le=y(te),pe=h(),_e&&_e.c(),ie=h(),Ce&&Ce.c(),Pe=h(),Ne&&Ne.c(),De=h(),de&&de.c(),We=h(),Te&&Te.c(),be=h(),Z(ye.$$.fragment),Re=h(),Z(ge.$$.fragment),u(n,"class","text-sm"),u(o,"class","my-2"),u(v,"class","my-2"),u($,"class","my-2"),u(U,"class","text-xs py-1 px-2 rounded bg-yellow-500 text-white mr-3 float-right"),u(E,"class","my-2"),u(l,"class","cnt"),u(B,"class","text-sm"),u(j,"class","my-2"),u(L,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(ee,oe){w(ee,e,oe),s(e,l),s(l,n),s(l,i),s(l,o),s(o,r),s(o,c),s(o,f),s(o,_),s(o,b),s(l,d),s(l,v),s(v,g),Q(T,v,null),s(l,C),s(l,$),s($,M),s($,S),s(l,D),se&&se.m(l,null),s(l,A),s(l,E),Q(Y,E,null),s(E,R),s(E,U),s(e,H),Fe&&Fe.m(e,null),s(e,z),Le&&Le.m(e,null),s(e,q),s(e,L),s(L,B),s(L,O),s(L,j),s(j,G),s(j,le),s(L,pe),_e&&_e.m(L,null),s(L,ie),Ce&&Ce.m(L,null),s(L,Pe),Ne&&Ne.m(L,null),s(L,De),de&&de.m(L,null),s(e,We),Te&&Te.m(e,null),w(ee,be,oe),Q(ye,ee,oe),w(ee,Re,oe),Q(ge,ee,oe),ae=!0,$e||(J=K(U,"click",t[11]),$e=!0)},p(ee,[oe]){(!ae||oe&2)&&a!==(a=ee[1].chip+"")&&W(c,a),(!ae||oe&2)&&p!==(p=ee[1].cpu+"")&&W(_,p);const Ue={};oe&8388610&&(Ue.$$scope={dirty:oe,ctx:ee}),T.$set(Ue),(!ae||oe&2)&&F!==(F=ee[1].mac+"")&&W(S,F),ee[1].apmac&&ee[1].apmac!=ee[1].mac?se?(se.p(ee,oe),oe&2&&P(se,1)):(se=Ef(ee),se.c(),P(se,1),se.m(l,A)):se&&(Ae(),I(se,1,1,()=>{se=null}),Ee());const ue={};oe&8388608&&(ue.$$scope={dirty:oe,ctx:ee}),Y.$set(ue),ee[1].meter?Fe?Fe.p(ee,oe):(Fe=If(ee),Fe.c(),Fe.m(e,z)):Fe&&(Fe.d(1),Fe=null),ee[1].net?Le?Le.p(ee,oe):(Le=Ff(ee),Le.c(),Le.m(e,q)):Le&&(Le.d(1),Le=null),(!ae||oe&2)&&te!==(te=ee[1].version+"")&&W(le,te),ee[1].upgrade.t&&ee[1].upgrade.t!=ee[1].version?_e?_e.p(ee,oe):(_e=Lf(ee),_e.c(),_e.m(L,ie)):_e&&(_e.d(1),_e=null),ee[2]?Ce?(Ce.p(ee,oe),oe&4&&P(Ce,1)):(Ce=Of(ee),Ce.c(),P(Ce,1),Ce.m(L,Pe)):Ce&&(Ae(),I(Ce,1,1,()=>{Ce=null}),Ee()),oe&3&&(je=(ee[1].security==0||ee[0].a)&&ui(ee[1].board)),je?Ne?Ne.p(ee,oe):(Ne=Hf(ee),Ne.c(),Ne.m(L,De)):Ne&&(Ne.d(1),Ne=null),ee[1].security==0||ee[0].a?de?de.p(ee,oe):(de=jf(ee),de.c(),de.m(L,null)):de&&(de.d(1),de=null),ee[1].security==0||ee[0].a?Te?Te.p(ee,oe):(Te=Wf(ee),Te.c(),Te.m(e,null)):Te&&(Te.d(1),Te=null);const ve={};oe&32&&(ve.active=ee[5]),ye.$set(ve);const dt={};oe&256&&(dt.active=ee[8]),ge.$set(dt)},i(ee){ae||(P(T.$$.fragment,ee),P(se),P(Y.$$.fragment,ee),P(Ce),P(ye.$$.fragment,ee),P(ge.$$.fragment,ee),ae=!0)},o(ee){I(T.$$.fragment,ee),I(se),I(Y.$$.fragment,ee),I(Ce),I(ye.$$.fragment,ee),I(ge.$$.fragment,ee),ae=!1},d(ee){ee&&k(e),X(T),se&&se.d(),X(Y),Fe&&Fe.d(),Le&&Le.d(),_e&&_e.d(),Ce&&Ce.d(),Ne&&Ne.d(),de&&de.d(),Te&&Te.d(),ee&&k(be),X(ye,ee),ee&&k(Re),X(ge,ee),$e=!1,J()}}}async function M0(){await(await fetch("/reboot",{method:"POST"})).json()}function P0(t,e,l){let{data:n}=e,{sysinfo:i}=e,o=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price API",key:"is"}],r={};So.subscribe(A=>{l(2,r=Wc(i.version,A)),r||l(2,r=A[0])});function a(){confirm("Do you want to upgrade this device to "+r.tag_name+"?")&&(i.board!=2&&i.board!=4&&i.board!=7||confirm(Ss(ce(i.chip,i.board))))&&(Ht.update(A=>(A.upgrading=!0,A)),jc(r.tag_name))}const c=function(){confirm("Are you sure you want to reboot the device?")&&(Ht.update(A=>(A.booting=!0,A)),M0())};let f,p=[],_=!1,b,d=[],v=!1;yo();function g(A){$s[A?"unshift":"push"](()=>{f=A,l(3,f)})}function T(){p=this.files,l(4,p)}const C=()=>{f.click()},$=()=>l(5,_=!0);function M(A){$s[A?"unshift":"push"](()=>{b=A,l(6,b)})}function F(){d=this.files,l(7,d)}const S=()=>{b.click()},D=()=>l(8,v=!0);return t.$$set=A=>{"data"in A&&l(0,n=A.data),"sysinfo"in A&&l(1,i=A.sysinfo)},[n,i,r,f,p,_,b,d,v,o,a,c,g,T,C,$,M,F,S,D]}class N0 extends Me{constructor(e){super(),Se(this,e,P0,S0,we,{data:0,sysinfo:1})}}function zf(t){let e,l,n=ce(t[0],7)+"",i,o,r=ce(t[0],5)+"",a,c,f=ce(t[0],4)+"",p,_,b=ce(t[0],3)+"",d,v,g,T,C=ce(t[0],2)+"",$,M,F=ce(t[0],1)+"",S,D,A=ce(t[0],0)+"",E,Y,R,U,H=ce(t[0],101)+"",z,q,L=ce(t[0],100)+"",B;return{c(){e=m("optgroup"),l=m("option"),i=y(n),o=m("option"),a=y(r),c=m("option"),p=y(f),_=m("option"),d=y(b),v=h(),g=m("optgroup"),T=m("option"),$=y(C),M=m("option"),S=y(F),D=m("option"),E=y(A),Y=h(),R=m("optgroup"),U=m("option"),z=y(H),q=m("option"),B=y(L),l.__value=7,l.value=l.__value,o.__value=5,o.value=o.__value,c.__value=4,c.value=c.__value,_.__value=3,_.value=_.__value,u(e,"label","amsleser.no"),T.__value=2,T.value=T.__value,M.__value=1,M.value=M.__value,D.__value=0,D.value=D.__value,u(g,"label","Custom hardware"),U.__value=101,U.value=U.__value,q.__value=100,q.value=q.__value,u(R,"label","Generic hardware")},m(O,j){w(O,e,j),s(e,l),s(l,i),s(e,o),s(o,a),s(e,c),s(c,p),s(e,_),s(_,d),w(O,v,j),w(O,g,j),s(g,T),s(T,$),s(g,M),s(M,S),s(g,D),s(D,E),w(O,Y,j),w(O,R,j),s(R,U),s(U,z),s(R,q),s(q,B)},p(O,j){j&1&&n!==(n=ce(O[0],7)+"")&&W(i,n),j&1&&r!==(r=ce(O[0],5)+"")&&W(a,r),j&1&&f!==(f=ce(O[0],4)+"")&&W(p,f),j&1&&b!==(b=ce(O[0],3)+"")&&W(d,b),j&1&&C!==(C=ce(O[0],2)+"")&&W($,C),j&1&&F!==(F=ce(O[0],1)+"")&&W(S,F),j&1&&A!==(A=ce(O[0],0)+"")&&W(E,A),j&1&&H!==(H=ce(O[0],101)+"")&&W(z,H),j&1&&L!==(L=ce(O[0],100)+"")&&W(B,L)},d(O){O&&k(e),O&&k(v),O&&k(g),O&&k(Y),O&&k(R)}}}function Yf(t){let e,l,n=ce(t[0],201)+"",i,o,r=ce(t[0],202)+"",a,c,f=ce(t[0],203)+"",p,_,b=ce(t[0],200)+"",d;return{c(){e=m("optgroup"),l=m("option"),i=y(n),o=m("option"),a=y(r),c=m("option"),p=y(f),_=m("option"),d=y(b),l.__value=201,l.value=l.__value,o.__value=202,o.value=o.__value,c.__value=203,c.value=c.__value,_.__value=200,_.value=_.__value,u(e,"label","Generic hardware")},m(v,g){w(v,e,g),s(e,l),s(l,i),s(e,o),s(o,a),s(e,c),s(c,p),s(e,_),s(_,d)},p(v,g){g&1&&n!==(n=ce(v[0],201)+"")&&W(i,n),g&1&&r!==(r=ce(v[0],202)+"")&&W(a,r),g&1&&f!==(f=ce(v[0],203)+"")&&W(p,f),g&1&&b!==(b=ce(v[0],200)+"")&&W(d,b)},d(v){v&&k(e)}}}function Kf(t){let e,l,n=ce(t[0],7)+"",i,o,r=ce(t[0],6)+"",a,c,f=ce(t[0],5)+"",p,_,b,d,v=ce(t[0],51)+"",g,T,C=ce(t[0],50)+"",$;return{c(){e=m("optgroup"),l=m("option"),i=y(n),o=m("option"),a=y(r),c=m("option"),p=y(f),_=h(),b=m("optgroup"),d=m("option"),g=y(v),T=m("option"),$=y(C),l.__value=7,l.value=l.__value,o.__value=6,o.value=o.__value,c.__value=5,c.value=c.__value,u(e,"label","amsleser.no"),d.__value=51,d.value=d.__value,T.__value=50,T.value=T.__value,u(b,"label","Generic hardware")},m(M,F){w(M,e,F),s(e,l),s(l,i),s(e,o),s(o,a),s(e,c),s(c,p),w(M,_,F),w(M,b,F),s(b,d),s(d,g),s(b,T),s(T,$)},p(M,F){F&1&&n!==(n=ce(M[0],7)+"")&&W(i,n),F&1&&r!==(r=ce(M[0],6)+"")&&W(a,r),F&1&&f!==(f=ce(M[0],5)+"")&&W(p,f),F&1&&v!==(v=ce(M[0],51)+"")&&W(g,v),F&1&&C!==(C=ce(M[0],50)+"")&&W($,C)},d(M){M&&k(e),M&&k(_),M&&k(b)}}}function Vf(t){let e,l,n=ce(t[0],8)+"",i,o,r,a,c=ce(t[0],71)+"",f,p,_=ce(t[0],70)+"",b;return{c(){e=m("optgroup"),l=m("option"),i=y(n),o=h(),r=m("optgroup"),a=m("option"),f=y(c),p=m("option"),b=y(_),l.__value=8,l.value=l.__value,u(e,"label","Custom hardware"),a.__value=71,a.value=a.__value,p.__value=70,p.value=p.__value,u(r,"label","Generic hardware")},m(d,v){w(d,e,v),s(e,l),s(l,i),w(d,o,v),w(d,r,v),s(r,a),s(a,f),s(r,p),s(p,b)},p(d,v){v&1&&n!==(n=ce(d[0],8)+"")&&W(i,n),v&1&&c!==(c=ce(d[0],71)+"")&&W(f,c),v&1&&_!==(_=ce(d[0],70)+"")&&W(b,_)},d(d){d&&k(e),d&&k(o),d&&k(r)}}}function Qf(t){let e,l,n=ce(t[0],200)+"",i;return{c(){e=m("optgroup"),l=m("option"),i=y(n),l.__value=200,l.value=l.__value,u(e,"label","Generic hardware")},m(o,r){w(o,e,r),s(e,l),s(l,i)},p(o,r){r&1&&n!==(n=ce(o[0],200)+"")&&W(i,n)},d(o){o&&k(e)}}}function D0(t){let e,l,n,i,o,r,a,c=t[0]=="esp8266"&&zf(t),f=t[0]=="esp32"&&Yf(t),p=t[0]=="esp32s2"&&Kf(t),_=t[0]=="esp32c3"&&Vf(t),b=t[0]=="esp32solo"&&Qf(t);return{c(){e=m("option"),l=h(),c&&c.c(),n=h(),f&&f.c(),i=h(),p&&p.c(),o=h(),_&&_.c(),r=h(),b&&b.c(),a=Ke(),e.__value=-1,e.value=e.__value},m(d,v){w(d,e,v),w(d,l,v),c&&c.m(d,v),w(d,n,v),f&&f.m(d,v),w(d,i,v),p&&p.m(d,v),w(d,o,v),_&&_.m(d,v),w(d,r,v),b&&b.m(d,v),w(d,a,v)},p(d,[v]){d[0]=="esp8266"?c?c.p(d,v):(c=zf(d),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),d[0]=="esp32"?f?f.p(d,v):(f=Yf(d),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),d[0]=="esp32s2"?p?p.p(d,v):(p=Kf(d),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null),d[0]=="esp32c3"?_?_.p(d,v):(_=Vf(d),_.c(),_.m(r.parentNode,r)):_&&(_.d(1),_=null),d[0]=="esp32solo"?b?b.p(d,v):(b=Qf(d),b.c(),b.m(a.parentNode,a)):b&&(b.d(1),b=null)},i:ne,o:ne,d(d){d&&k(e),d&&k(l),c&&c.d(d),d&&k(n),f&&f.d(d),d&&k(i),p&&p.d(d),d&&k(o),_&&_.d(d),d&&k(r),b&&b.d(d),d&&k(a)}}}function A0(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class E0 extends Me{constructor(e){super(),Se(this,e,A0,D0,we,{chip:0})}}function Xf(t){let e;return{c(){e=m("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",u(e,"class","bd-red")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function Zf(t){let e,l,n,i,o,r,a;return r=new Yc({props:{chip:t[0].chip}}),{c(){e=m("div"),l=y("HAN GPIO"),n=m("br"),i=h(),o=m("select"),Z(r.$$.fragment),u(o,"name","vh"),u(o,"class","in-s"),u(e,"class","my-3")},m(c,f){w(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),Q(r,o,null),a=!0},p(c,f){const p={};f&1&&(p.chip=c[0].chip),r.$set(p)},i(c){a||(P(r.$$.fragment,c),a=!0)},o(c){I(r.$$.fragment,c),a=!1},d(c){c&&k(e),X(r)}}}function I0(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C,$,M,F,S,D,A,E,Y,R,U,H,z,q=t[0].usrcfg&&Xf();v=new E0({props:{chip:t[0].chip}});let L=t[0].board&&t[0].board>20&&Zf(t);return R=new Et({props:{active:t[1],message:"Saving device configuration"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("input"),o=h(),r=m("strong"),r.textContent="Initial configuration",a=h(),q&&q.c(),c=h(),f=m("div"),p=y("Board type"),_=m("br"),b=h(),d=m("select"),Z(v.$$.fragment),g=h(),L&&L.c(),T=h(),C=m("div"),$=m("label"),M=m("input"),F=y(" Clear all other configuration"),S=h(),D=m("div"),D.innerHTML='<button type="submit" class="btn-pri">Save</button>',A=h(),E=m("span"),E.textContent=" ",Y=h(),Z(R.$$.fragment),u(i,"type","hidden"),u(i,"name","v"),i.value="true",u(r,"class","text-sm"),u(d,"name","vb"),u(d,"class","in-s"),t[0].board===void 0&&tt(()=>t[4].call(d)),u(f,"class","my-3"),u(M,"type","checkbox"),u(M,"name","vr"),M.__value="true",M.value=M.__value,u(M,"class","rounded mb-1"),u(C,"class","my-3"),u(D,"class","my-3"),u(E,"class","clear-both"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(B,O){w(B,e,O),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),s(n,a),q&&q.m(n,null),s(n,c),s(n,f),s(f,p),s(f,_),s(f,b),s(f,d),Q(v,d,null),qe(d,t[0].board,!0),s(n,g),L&&L.m(n,null),s(n,T),s(n,C),s(C,$),s($,M),M.checked=t[2],s($,F),s(n,S),s(n,D),s(n,A),s(n,E),w(B,Y,O),Q(R,B,O),U=!0,H||(z=[K(d,"change",t[4]),K(M,"change",t[5]),K(n,"submit",Ms(t[3]))],H=!0)},p(B,[O]){B[0].usrcfg?q||(q=Xf(),q.c(),q.m(n,c)):q&&(q.d(1),q=null);const j={};O&1&&(j.chip=B[0].chip),v.$set(j),O&1&&qe(d,B[0].board),B[0].board&&B[0].board>20?L?(L.p(B,O),O&1&&P(L,1)):(L=Zf(B),L.c(),P(L,1),L.m(n,T)):L&&(Ae(),I(L,1,1,()=>{L=null}),Ee()),O&4&&(M.checked=B[2]);const G={};O&2&&(G.active=B[1]),R.$set(G)},i(B){U||(P(v.$$.fragment,B),P(L),P(R.$$.fragment,B),U=!0)},o(B){I(v.$$.fragment,B),I(L),I(R.$$.fragment,B),U=!1},d(B){B&&k(e),q&&q.d(),X(v),L&&L.d(),B&&k(Y),X(R,B),H=!1,Be(z)}}}function F0(t,e,l){let{sysinfo:n={}}=e,i=!1;async function o(f){l(1,i=!0);const p=new FormData(f.target),_=new URLSearchParams;for(let v of p){const[g,T]=v;_.append(g,T)}let d=await(await fetch("/save",{method:"POST",body:_})).json();l(1,i=!1),Ht.update(v=>(v.vndcfg=d.success,v.booting=d.reboot,v)),oi(n.usrcfg?"/":"/setup")}let r=!1;function a(){n.board=_t(this),l(0,n)}function c(){r=this.checked,l(2,r),l(0,n)}return t.$$set=f=>{"sysinfo"in f&&l(0,n=f.sysinfo)},t.$$.update=()=>{t.$$.dirty&1&&l(2,r=!n.usrcfg)},[n,i,r,o,a,c]}class R0 extends Me{constructor(e){super(),Se(this,e,F0,I0,we,{sysinfo:0})}}function Jf(t){let e,l,n,i,o,r,a,c;return a=new Kc({}),{c(){e=m("br"),l=h(),n=m("div"),i=m("input"),o=h(),r=m("select"),Z(a.$$.fragment),u(i,"name","si"),u(i,"type","text"),u(i,"class","in-f w-full"),i.required=t[1],u(r,"name","su"),u(r,"class","in-l"),r.required=t[1],u(n,"class","flex")},m(f,p){w(f,e,p),w(f,l,p),w(f,n,p),s(n,i),s(n,o),s(n,r),Q(a,r,null),c=!0},p(f,p){(!c||p&2)&&(i.required=f[1]),(!c||p&2)&&(r.required=f[1])},i(f){c||(P(a.$$.fragment,f),c=!0)},o(f){I(a.$$.fragment,f),c=!1},d(f){f&&k(e),f&&k(l),f&&k(n),X(a)}}}function xf(t){let e;return{c(){e=m("div"),e.innerHTML=`<div>Gateway<br/> 
                    <input name="sg" type="text" class="in-f w-full"/></div> 
                <div>DNS<br/> 
                    <input name="sd" type="text" class="in-l w-full"/></div>`,u(e,"class","my-3 flex")},m(l,n){w(l,e,n)},d(l){l&&k(e)}}}function L0(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C,$,M,F,S,D,A,E,Y,R,U,H,z=t[1]&&Jf(t),q=t[1]&&xf();return Y=new Et({props:{active:t[2],message:"Saving your configuration to the device"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("input"),o=h(),r=m("strong"),r.textContent="Setup",a=h(),c=m("div"),c.innerHTML=`SSID<br/> 
                <input name="ss" type="text" class="in-s" required=""/>`,f=h(),p=m("div"),p.innerHTML=`PSK<br/> 
                <input name="sp" type="password" class="in-s" autocomplete="off"/>`,_=h(),b=m("div"),d=y(`Hostname
                `),v=m("input"),g=h(),T=m("div"),C=m("label"),$=m("input"),M=y(" Static IP"),F=h(),z&&z.c(),S=h(),q&&q.c(),D=h(),A=m("div"),A.innerHTML='<button type="submit" class="btn-pri">Save</button>',E=h(),Z(Y.$$.fragment),u(i,"type","hidden"),u(i,"name","s"),i.value="true",u(r,"class","text-sm"),u(c,"class","my-3"),u(p,"class","my-3"),u(v,"name","sh"),u(v,"type","text"),u(v,"class","in-s"),u(v,"maxlength","32"),u(v,"pattern","[a-z0-9_-]+"),u(v,"placeholder","Optional, ex.: ams-reader"),u(v,"autocomplete","off"),u($,"type","checkbox"),u($,"name","sm"),$.__value="static",$.value=$.__value,u($,"class","rounded mb-1"),u(T,"class","my-3"),u(A,"class","my-3"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(L,B){w(L,e,B),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),s(n,a),s(n,c),s(n,f),s(n,p),s(n,_),s(n,b),s(b,d),s(b,v),V(v,t[0].hostname),s(n,g),s(n,T),s(T,C),s(C,$),$.checked=t[1],s(C,M),s(T,F),z&&z.m(T,null),s(n,S),q&&q.m(n,null),s(n,D),s(n,A),w(L,E,B),Q(Y,L,B),R=!0,U||(H=[K(v,"input",t[4]),K($,"change",t[5]),K(n,"submit",Ms(t[3]))],U=!0)},p(L,[B]){B&1&&v.value!==L[0].hostname&&V(v,L[0].hostname),B&2&&($.checked=L[1]),L[1]?z?(z.p(L,B),B&2&&P(z,1)):(z=Jf(L),z.c(),P(z,1),z.m(T,null)):z&&(Ae(),I(z,1,1,()=>{z=null}),Ee()),L[1]?q||(q=xf(),q.c(),q.m(n,D)):q&&(q.d(1),q=null);const O={};B&4&&(O.active=L[2]),Y.$set(O)},i(L){R||(P(z),P(Y.$$.fragment,L),R=!0)},o(L){I(z),I(Y.$$.fragment,L),R=!1},d(L){L&&k(e),z&&z.d(),q&&q.d(),L&&k(E),X(Y,L),U=!1,Be(H)}}}function O0(t,e,l){let{sysinfo:n={}}=e,i=!1,o=!1,r=0;function a(){var _="";r++;var b=function(){setTimeout(a,1e3)};if(n.net.ip&&r%3==0){if(!n.net.ip){b();return}_="http://"+n.net.ip}else n.hostname&&r%3==1?_="http://"+n.hostname:n.hostname&&r%3==2?_="http://"+n.hostname+".local":_="";console&&console.log("Trying url "+_),Ht.update(v=>(v.trying=_,v));var d=new XMLHttpRequest;d.timeout=5e3,d.addEventListener("abort",b),d.addEventListener("error",b),d.addEventListener("timeout",b),d.addEventListener("load",function(v){window.location.href=_||"/"}),d.open("GET",_+"/is-alive",!0),d.send()}async function c(_){l(2,o=!0);const b=new FormData(_.target),d=new URLSearchParams;for(let T of b){const[C,$]=T;d.append(C,$)}let g=await(await fetch("/save",{method:"POST",body:d})).json();l(2,o=!1),Ht.update(T=>(T.hostname=b.get("sh"),T.usrcfg=g.success,T.booting=g.reboot,i&&(T.net.ip=b.get("si"),T.net.mask=b.get("su"),T.net.gw=b.get("sg"),T.net.dns1=b.get("sd")),setTimeout(a,5e3),T))}function f(){n.hostname=this.value,l(0,n)}function p(){i=this.checked,l(1,i)}return t.$$set=_=>{"sysinfo"in _&&l(0,n=_.sysinfo)},[n,i,o,c,f,p]}class q0 extends Me{constructor(e){super(),Se(this,e,O0,L0,we,{sysinfo:0})}}function U0(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C;return v=new Et({props:{active:t[2],message:"Uploading file, please wait"}}),{c(){e=m("div"),l=m("div"),n=m("strong"),i=y("Upload "),o=y(t[1]),r=h(),a=m("p"),a.textContent="Select a suitable file and click upload",c=h(),f=m("form"),p=m("input"),_=h(),b=m("div"),b.innerHTML='<button type="submit" class="btn-pri">Upload</button>',d=h(),Z(v.$$.fragment),u(a,"class","mb-4"),u(p,"name","file"),u(p,"type","file"),u(b,"class","w-full text-right mt-4"),u(f,"action",t[0]),u(f,"enctype","multipart/form-data"),u(f,"method","post"),u(f,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m($,M){w($,e,M),s(e,l),s(l,n),s(n,i),s(n,o),s(l,r),s(l,a),s(l,c),s(l,f),s(f,p),s(f,_),s(f,b),w($,d,M),Q(v,$,M),g=!0,T||(C=K(f,"submit",t[3]),T=!0)},p($,[M]){(!g||M&2)&&W(o,$[1]),(!g||M&1)&&u(f,"action",$[0]);const F={};M&4&&(F.active=$[2]),v.$set(F)},i($){g||(P(v.$$.fragment,$),g=!0)},o($){I(v.$$.fragment,$),g=!1},d($){$&&k(e),$&&k(d),X(v,$),T=!1,C()}}}function H0(t,e,l){let{action:n}=e,{title:i}=e,o=!1;const r=()=>l(2,o=!0);return t.$$set=a=>{"action"in a&&l(0,n=a.action),"title"in a&&l(1,i=a.title)},[n,i,o,r]}class Po extends Me{constructor(e){super(),Se(this,e,H0,U0,we,{action:0,title:1})}}function j0(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C,$,M,F,S,D,A,E,Y,R,U,H,z,q,L;return H=new Et({props:{active:t[1],message:"Saving preferences"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("div"),i.textContent="Various permissions we need to do stuff:",o=h(),r=m("hr"),a=h(),c=m("div"),f=y("Enable one-click upgrade? (implies data collection)"),p=m("br"),_=h(),b=m("a"),d=y("Read more"),v=m("br"),g=h(),T=m("label"),C=m("input"),M=y(" Yes"),F=m("label"),S=m("input"),A=y(" No"),E=m("br"),Y=h(),R=m("div"),R.innerHTML='<button type="submit" class="btn-pri">Save</button>',U=h(),Z(H.$$.fragment),u(b,"href",Ut("Data-collection-on-one-click-firmware-upgrade")),u(b,"target","_blank"),u(b,"class","text-blue-600 hover:text-blue-800"),u(C,"type","radio"),u(C,"name","sf"),C.value=1,C.checked=$=t[0].fwconsent===1,u(C,"class","rounded m-2"),C.required=!0,u(S,"type","radio"),u(S,"name","sf"),S.value=2,S.checked=D=t[0].fwconsent===2,u(S,"class","rounded m-2"),S.required=!0,u(c,"class","my-3"),u(R,"class","my-3"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-3 lg:grid-cols-2")},m(B,O){w(B,e,O),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),s(n,a),s(n,c),s(c,f),s(c,p),s(c,_),s(c,b),s(b,d),s(c,v),s(c,g),s(c,T),s(T,C),s(T,M),s(c,F),s(F,S),s(F,A),s(c,E),s(n,Y),s(n,R),w(B,U,O),Q(H,B,O),z=!0,q||(L=K(n,"submit",Ms(t[2])),q=!0)},p(B,[O]){(!z||O&1&&$!==($=B[0].fwconsent===1))&&(C.checked=$),(!z||O&1&&D!==(D=B[0].fwconsent===2))&&(S.checked=D);const j={};O&2&&(j.active=B[1]),H.$set(j)},i(B){z||(P(H.$$.fragment,B),z=!0)},o(B){I(H.$$.fragment,B),z=!1},d(B){B&&k(e),B&&k(U),X(H,B),q=!1,L()}}}function W0(t,e,l){let{sysinfo:n={}}=e,i=!1;async function o(r){l(1,i=!0);const a=new FormData(r.target),c=new URLSearchParams;for(let _ of a){const[b,d]=_;c.append(b,d)}let p=await(await fetch("/save",{method:"POST",body:c})).json();l(1,i=!1),Ht.update(_=>(_.fwconsent=a.sf===!0?1:a.sf===!1?2:0,_.booting=p.reboot,_)),oi("/")}return t.$$set=r=>{"sysinfo"in r&&l(0,n=r.sysinfo)},[n,i,o]}class G0 extends Me{constructor(e){super(),Se(this,e,W0,j0,we,{sysinfo:0})}}function B0(t){let e,l;return e=new Up({props:{data:t[1],sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&2&&(o.data=n[1]),i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function z0(t){let e,l;return e=new h0({props:{sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Y0(t){let e,l;return e=new N0({props:{sysinfo:t[0],data:t[1]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),i&2&&(o.data=n[1]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function K0(t){let e,l;return e=new Po({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function V0(t){let e,l;return e=new Po({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Q0(t){let e,l;return e=new Po({props:{title:"private key",action:"/mqtt-key"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function X0(t){let e,l;return e=new G0({props:{sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Z0(t){let e,l;return e=new q0({props:{sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function J0(t){let e,l;return e=new R0({props:{sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function x0(t){let e,l,n,i,o,r,a,c,f,p,_,b,d,v,g,T,C,$,M,F;return e=new xm({props:{data:t[1]}}),n=new Tl({props:{path:"/",$$slots:{default:[B0]},$$scope:{ctx:t}}}),o=new Tl({props:{path:"/configuration",$$slots:{default:[z0]},$$scope:{ctx:t}}}),a=new Tl({props:{path:"/status",$$slots:{default:[Y0]},$$scope:{ctx:t}}}),f=new Tl({props:{path:"/mqtt-ca",$$slots:{default:[K0]},$$scope:{ctx:t}}}),_=new Tl({props:{path:"/mqtt-cert",$$slots:{default:[V0]},$$scope:{ctx:t}}}),d=new Tl({props:{path:"/mqtt-key",$$slots:{default:[Q0]},$$scope:{ctx:t}}}),g=new Tl({props:{path:"/consent",$$slots:{default:[X0]},$$scope:{ctx:t}}}),C=new Tl({props:{path:"/setup",$$slots:{default:[Z0]},$$scope:{ctx:t}}}),M=new Tl({props:{path:"/vendor",$$slots:{default:[J0]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),l=h(),Z(n.$$.fragment),i=h(),Z(o.$$.fragment),r=h(),Z(a.$$.fragment),c=h(),Z(f.$$.fragment),p=h(),Z(_.$$.fragment),b=h(),Z(d.$$.fragment),v=h(),Z(g.$$.fragment),T=h(),Z(C.$$.fragment),$=h(),Z(M.$$.fragment)},m(S,D){Q(e,S,D),w(S,l,D),Q(n,S,D),w(S,i,D),Q(o,S,D),w(S,r,D),Q(a,S,D),w(S,c,D),Q(f,S,D),w(S,p,D),Q(_,S,D),w(S,b,D),Q(d,S,D),w(S,v,D),Q(g,S,D),w(S,T,D),Q(C,S,D),w(S,$,D),Q(M,S,D),F=!0},p(S,D){const A={};D&2&&(A.data=S[1]),e.$set(A);const E={};D&7&&(E.$$scope={dirty:D,ctx:S}),n.$set(E);const Y={};D&5&&(Y.$$scope={dirty:D,ctx:S}),o.$set(Y);const R={};D&7&&(R.$$scope={dirty:D,ctx:S}),a.$set(R);const U={};D&4&&(U.$$scope={dirty:D,ctx:S}),f.$set(U);const H={};D&4&&(H.$$scope={dirty:D,ctx:S}),_.$set(H);const z={};D&4&&(z.$$scope={dirty:D,ctx:S}),d.$set(z);const q={};D&5&&(q.$$scope={dirty:D,ctx:S}),g.$set(q);const L={};D&5&&(L.$$scope={dirty:D,ctx:S}),C.$set(L);const B={};D&5&&(B.$$scope={dirty:D,ctx:S}),M.$set(B)},i(S){F||(P(e.$$.fragment,S),P(n.$$.fragment,S),P(o.$$.fragment,S),P(a.$$.fragment,S),P(f.$$.fragment,S),P(_.$$.fragment,S),P(d.$$.fragment,S),P(g.$$.fragment,S),P(C.$$.fragment,S),P(M.$$.fragment,S),F=!0)},o(S){I(e.$$.fragment,S),I(n.$$.fragment,S),I(o.$$.fragment,S),I(a.$$.fragment,S),I(f.$$.fragment,S),I(_.$$.fragment,S),I(d.$$.fragment,S),I(g.$$.fragment,S),I(C.$$.fragment,S),I(M.$$.fragment,S),F=!1},d(S){X(e,S),S&&k(l),X(n,S),S&&k(i),X(o,S),S&&k(r),X(a,S),S&&k(c),X(f,S),S&&k(p),X(_,S),S&&k(b),X(d,S),S&&k(v),X(g,S),S&&k(T),X(C,S),S&&k($),X(M,S)}}}function e_(t){let e,l,n,i;const o=[n_,l_],r=[];function a(c,f){return c[0].trying?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=Ke()},m(c,f){r[e].m(c,f),w(c,n,f),i=!0},p(c,f){let p=e;e=a(c),e===p?r[e].p(c,f):(Ae(),I(r[p],1,1,()=>{r[p]=null}),Ee(),l=r[e],l?l.p(c,f):(l=r[e]=o[e](c),l.c()),P(l,1),l.m(n.parentNode,n))},i(c){i||(P(l),i=!0)},o(c){I(l),i=!1},d(c){r[e].d(c),c&&k(n)}}}function t_(t){let e,l;return e=new Et({props:{active:"true",message:"Device is upgrading, please wait"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function l_(t){let e,l;return e=new Et({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ne,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function n_(t){let e,l;return e=new Et({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[0].trying}}),{c(){Z(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.message="Device is booting, please wait. Trying to reach it on "+n[0].trying),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function i_(t){let e,l,n,i,o,r;l=new Mc({props:{$$slots:{default:[x0]},$$scope:{ctx:t}}});const a=[t_,e_],c=[];function f(p,_){return p[0].upgrading?0:p[0].booting?1:-1}return~(i=f(t))&&(o=c[i]=a[i](t)),{c(){e=m("div"),Z(l.$$.fragment),n=h(),o&&o.c(),u(e,"class","container mx-auto m-3")},m(p,_){w(p,e,_),Q(l,e,null),s(e,n),~i&&c[i].m(e,null),r=!0},p(p,[_]){const b={};_&7&&(b.$$scope={dirty:_,ctx:p}),l.$set(b);let d=i;i=f(p),i===d?~i&&c[i].p(p,_):(o&&(Ae(),I(c[d],1,1,()=>{c[d]=null}),Ee()),~i?(o=c[i],o?o.p(p,_):(o=c[i]=a[i](p),o.c()),P(o,1),o.m(e,null)):o=null)},i(p){r||(P(l.$$.fragment,p),P(o),r=!0)},o(p){I(l.$$.fragment,p),I(o),r=!1},d(p){p&&k(e),X(l),~i&&c[i].d()}}}function s_(t,e,l){let n={};Ht.subscribe(o=>{l(0,n=o),n.vndcfg===!1?oi("/vendor"):n.usrcfg===!1?oi("/setup"):n.fwconsent===0&&oi("/consent")}),yo();let i={};return wm.subscribe(o=>{l(1,i=o)}),[n,i]}class o_ extends Me{constructor(e){super(),Se(this,e,s_,i_,we,{})}}new o_({target:document.getElementById("app")});
