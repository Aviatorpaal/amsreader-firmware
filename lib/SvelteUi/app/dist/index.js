(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=l(i);fetch(i.href,o)}})();function ie(){}function nl(t,e){for(const l in e)t[l]=e[l];return t}function zf(t){return t()}function Nr(){return Object.create(null)}function st(t){t.forEach(zf)}function io(t){return typeof t=="function"}function ke(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let as;function Hc(t,e){return as||(as=document.createElement("a")),as.href=e,t===as.href}function jc(t){return Object.keys(t).length===0}function so(t,...e){if(t==null)return ie;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function oi(t){let e;return so(t,l=>e=l)(),e}function cl(t,e,l){t.$$.on_destroy.push(so(e,l))}function oo(t,e,l,n){if(t){const i=Yf(t,e,l,n);return t[0](i)}}function Yf(t,e,l,n){return t[1]&&n?nl(l.ctx.slice(),t[1](n(e))):l.ctx}function uo(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],r=Math.max(e.dirty.length,i.length);for(let a=0;a<r;a+=1)o[a]=e.dirty[a]|i[a];return o}return e.dirty|i}return e.dirty}function ro(t,e,l,n,i,o){if(i){const r=Yf(e,l,n,o);t.p(r,i)}}function ao(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function _s(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function ds(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}const Wc=["",!0,1,"true","contenteditable"];function s(t,e){t.appendChild(e)}function $(t,e,l){t.insertBefore(e,l||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function _l(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function m(t){return document.createElement(t)}function je(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function y(t){return document.createTextNode(t)}function h(){return y(" ")}function Ke(){return y("")}function K(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function ks(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}const Gc=["width","height"];function ui(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set&&Gc.indexOf(n)===-1?t[n]=e[n]:u(t,n,e[n])}function re(t){return t===""?null:+t}function Bc(t){return Array.from(t.childNodes)}function j(t,e){e=""+e,t.data!==e&&(t.data=e)}function zc(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Yc(t,e,l){~Wc.indexOf(l)?zc(t,e):j(t,e)}function V(t,e){t.value=e==null?"":e}function Vf(t,e,l,n){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function Oe(t,e,l){for(let n=0;n<t.options.length;n+=1){const i=t.options[n];if(i.__value===e){i.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function bt(t){const e=t.querySelector(":checked");return e&&e.__value}let fs;function Vc(){if(fs===void 0){fs=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{fs=!0}}return fs}function Kc(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=m("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Vc();let o;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=K(window,"message",r=>{r.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{o=K(n.contentWindow,"resize",e),e()}),s(t,n),()=>{(i||o&&n.contentWindow)&&o(),w(n)}}function Qc(t,e,{bubbles:l=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,l,n,e),i}function Mr(t,e){return new t(e)}let $i;function wi(t){$i=t}function Ci(){if(!$i)throw new Error("Function called outside component initialization");return $i}function Xc(t){Ci().$$.on_mount.push(t)}function Zc(t){Ci().$$.on_destroy.push(t)}function Jc(){const t=Ci();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=Qc(e,l,{cancelable:n});return i.slice().forEach(r=>{r.call(t,o)}),!o.defaultPrevented}return!0}}function yi(t,e){return Ci().$$.context.set(t,e),e}function Ll(t){return Ci().$$.context.get(t)}const li=[],vs=[];let ni=[];const Dr=[],Kf=Promise.resolve();let Ys=!1;function Qf(){Ys||(Ys=!0,Kf.then(Xf))}function xc(){return Qf(),Kf}function ot(t){ni.push(t)}const Hs=new Set;let ei=0;function Xf(){if(ei!==0)return;const t=$i;do{try{for(;ei<li.length;){const e=li[ei];ei++,wi(e),e1(e.$$)}}catch(e){throw li.length=0,ei=0,e}for(wi(null),li.length=0,ei=0;vs.length;)vs.pop()();for(let e=0;e<ni.length;e+=1){const l=ni[e];Hs.has(l)||(Hs.add(l),l())}ni.length=0}while(li.length);for(;Dr.length;)Dr.pop()();Ys=!1,Hs.clear(),wi(t)}function e1(t){if(t.fragment!==null){t.update(),st(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}function t1(t){const e=[],l=[];ni.forEach(n=>t.indexOf(n)===-1?e.push(n):l.push(n)),l.forEach(n=>n()),ni=e}const ps=new Set;let ln;function Me(){ln={r:0,c:[],p:ln}}function De(){ln.r||st(ln.c),ln=ln.p}function P(t,e){t&&t.i&&(ps.delete(t),t.i(e))}function A(t,e,l,n){if(t&&t.o){if(ps.has(t))return;ps.add(t),ln.c.push(()=>{ps.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function Zf(t,e){const l={},n={},i={$$scope:1};let o=t.length;for(;o--;){const r=t[o],a=e[o];if(a){for(const f in r)f in a||(n[f]=1);for(const f in a)i[f]||(l[f]=a[f],i[f]=1);t[o]=a}else for(const f in r)i[f]=1}for(const r in n)r in l||(l[r]=void 0);return l}function Ar(t){return typeof t=="object"&&t!==null?t:{}}function J(t){t&&t.c()}function Q(t,e,l,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,l),n||ot(()=>{const r=t.$$.on_mount.map(zf).filter(io);t.$$.on_destroy?t.$$.on_destroy.push(...r):st(r),t.$$.on_mount=[]}),o.forEach(ot)}function X(t,e){const l=t.$$;l.fragment!==null&&(t1(l.after_update),st(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function l1(t,e){t.$$.dirty[0]===-1&&(li.push(t),Qf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ye(t,e,l,n,i,o,r,a=[-1]){const f=$i;wi(t);const c=t.$$={fragment:null,ctx:[],props:o,update:ie,not_equal:i,bound:Nr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Nr(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};r&&r(c.root);let p=!1;if(c.ctx=l?l(t,e.props||{},(_,b,...v)=>{const d=v.length?v[0]:b;return c.ctx&&i(c.ctx[_],c.ctx[_]=d)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](d),p&&l1(t,_)),b}):[],c.update(),p=!0,st(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const _=Bc(e.target);c.fragment&&c.fragment.l(_),_.forEach(w)}else c.fragment&&c.fragment.c();e.intro&&P(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),Xf()}wi(f)}class $e{$destroy(){X(this,1),this.$destroy=ie}$on(e,l){if(!io(l))return ie;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!jc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Er=t=>typeof t>"u",Jf=t=>typeof t=="function",xf=t=>typeof t=="number";function n1(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ec(){let t=0;return()=>t++}function i1(){return Math.random().toString(36).substring(2)}const Ul=typeof window>"u";function tc(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const lc=(t,e)=>t?{}:{style:e},Vs=t=>({"aria-hidden":"true",...lc(t,"display:none;")}),ti=[];function nc(t,e){return{subscribe:mt(t,e).subscribe}}function mt(t,e=ie){let l;const n=new Set;function i(a){if(ke(t,a)&&(t=a,l)){const f=!ti.length;for(const c of n)c[1](),ti.push(c,t);if(f){for(let c=0;c<ti.length;c+=2)ti[c][0](ti[c+1]);ti.length=0}}}function o(a){i(a(t))}function r(a,f=ie){const c=[a,f];return n.add(c),n.size===1&&(l=e(i)||ie),a(t),()=>{n.delete(c),n.size===0&&l&&(l(),l=null)}}return{set:i,update:o,subscribe:r}}function s1(t,e,l){const n=!Array.isArray(t),i=n?[t]:t,o=e.length<2;return nc(l,r=>{let a=!1;const f=[];let c=0,p=ie;const _=()=>{if(c)return;p();const v=e(n?f[0]:f,r);o?r(v):p=io(v)?v:ie},b=i.map((v,d)=>so(v,g=>{f[d]=g,c&=~(1<<d),a&&_()},()=>{c|=1<<d}));return a=!0,_(),function(){st(b),p(),a=!1}})}const Ti=t=>`@@svnav-ctx__${t}`,Ks=Ti("LOCATION"),ri=Ti("ROUTER"),ic=Ti("ROUTE"),o1=Ti("ROUTE_PARAMS"),u1=Ti("FOCUS_ELEM"),sc=/^:(.+)/,ki=(t,e,l)=>t.substr(e,l),Qs=(t,e)=>ki(t,0,e.length)===e,r1=t=>t==="",a1=t=>sc.test(t),oc=t=>t[0]==="*",f1=t=>t.replace(/\*.*$/,""),uc=t=>t.replace(/(^\/+|\/+$)/g,"");function dl(t,e=!1){const l=uc(t).split("/");return e?l.filter(Boolean):l}const js=(t,e)=>t+(e?`?${e}`:""),fo=t=>`/${uc(t)}`;function Si(...t){const e=n=>dl(n,!0).join("/"),l=t.map(e).join("/");return fo(l)}const co=1,ws=2,un=3,c1=4,rc=5,m1=6,ac=7,p1=8,_1=9,fc=10,cc=11,d1={[co]:"Link",[ws]:"Route",[un]:"Router",[c1]:"useFocus",[rc]:"useLocation",[m1]:"useMatch",[ac]:"useNavigate",[p1]:"useParams",[_1]:"useResolvable",[fc]:"useResolve",[cc]:"navigate"},mo=t=>d1[t];function v1(t,e){let l;return t===ws?l=e.path?`path="${e.path}"`:"default":t===co?l=`to="${e.to}"`:t===un&&(l=`basepath="${e.basepath||""}"`),`<${mo(t)} ${l||""} />`}function h1(t,e,l,n){const i=l&&v1(n||t,l),o=i?`

Occurred in: ${i}`:"",r=mo(t),a=Jf(e)?e(r):e;return`<${r}> ${a}${o}`}const mc=t=>(...e)=>t(h1(...e)),pc=mc(t=>{throw new Error(t)}),hs=mc(console.warn),Ir=4,b1=3,g1=2,k1=1,w1=1;function y1(t,e){const l=t.default?0:dl(t.fullPath).reduce((n,i)=>{let o=n;return o+=Ir,r1(i)?o+=w1:a1(i)?o+=g1:oc(i)?o-=Ir+k1:o+=b1,o},0);return{route:t,score:l,index:e}}function $1(t){return t.map(y1).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function _c(t,e){let l,n;const[i]=e.split("?"),o=dl(i),r=o[0]==="",a=$1(t);for(let f=0,c=a.length;f<c;f++){const{route:p}=a[f];let _=!1;const b={},v=C=>({...p,params:b,uri:C});if(p.default){n=v(e);continue}const d=dl(p.fullPath),g=Math.max(o.length,d.length);let k=0;for(;k<g;k++){const C=d[k],T=o[k];if(!Er(C)&&oc(C)){const I=C==="*"?"*":C.slice(1);b[I]=o.slice(k).map(decodeURIComponent).join("/");break}if(Er(T)){_=!0;break}const N=sc.exec(C);if(N&&!r){const I=decodeURIComponent(T);b[N[1]]=I}else if(C!==T){_=!0;break}}if(!_){l=v(Si(...o.slice(0,k)));break}}return l||n||null}function dc(t,e){return _c([t],e)}function C1(t,e){if(Qs(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),o=dl(l),r=dl(i);if(o[0]==="")return js(i,n);if(!Qs(o[0],".")){const c=r.concat(o).join("/");return js((i==="/"?"":"/")+c,n)}const a=r.concat(o),f=[];return a.forEach(c=>{c===".."?f.pop():c!=="."&&f.push(c)}),js(`/${f.join("/")}`,n)}function Fr(t,e){const{pathname:l,hash:n="",search:i="",state:o}=t,r=dl(e,!0),a=dl(l,!0);for(;r.length;)r[0]!==a[0]&&pc(un,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),r.shift(),a.shift();return{pathname:Si(...a),hash:n,search:i,state:o}}const Rr=t=>t.length===1?"":t,po=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,o=i?Rr(ki(t,l)):"",r=i?ki(t,0,l):t,a=n?Rr(ki(r,e)):"";return{pathname:(n?ki(r,0,e):r)||"/",search:a,hash:o}},T1=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function S1(t,e,l){return Si(l,C1(t,e))}function P1(t,e){const l=fo(f1(t)),n=dl(l,!0),i=dl(e,!0).slice(0,n.length),o=dc({fullPath:l},Si(...i));return o&&o.uri}const Ws="POP",N1="PUSH",M1="REPLACE";function Gs(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function D1(t){let e=[],l=Gs(t),n=Ws;const i=(o=e)=>o.forEach(r=>r({location:l,action:n}));return{get location(){return l},listen(o){e.push(o);const r=()=>{l=Gs(t),n=Ws,i([o])};i([o]);const a=tc(t,"popstate",r);return()=>{a(),e=e.filter(f=>f!==o)}},navigate(o,r){const{state:a={},replace:f=!1}=r||{};if(n=f?M1:N1,xf(o))r&&hs(cc,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Ws,t.history.go(o);else{const c={...a,_key:i1()};try{t.history[f?"replaceState":"pushState"](c,"",o)}catch{t.location[f?"replace":"assign"](o)}}l=Gs(t),i()}}}function Bs(t,e){return{...po(e),state:t}}function A1(t="/"){let e=0,l=[Bs(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,o){e++,l=l.slice(0,e),l.push(Bs(n,o))},replaceState(n,i,o){l[e]=Bs(n,o)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const E1=!!(!Ul&&window.document&&window.document.createElement),I1=!Ul&&window.location.origin==="null",vc=D1(E1&&!I1?window:A1()),{navigate:ii}=vc;let Pl=null,hc=!0;function F1(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],o=Number(i.dataset.svnavRouter);if(o===t)return!0;if(o===e)return!1}return!1}function R1(t){(!Pl||t.level>Pl.level||t.level===Pl.level&&F1(t.routerId,Pl.routerId))&&(Pl=t)}function L1(){Pl=null}function U1(){hc=!1}function Lr(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=tc(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function O1(t,e){return Number(t.dataset.svnavRouteEnd)===e}function q1(t){return/^H[1-6]$/i.test(t.tagName)}function Ur(t,e=document){return e.querySelector(t)}function H1(t){let l=Ur(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!O1(l,t);){if(q1(l))return l;const n=Ur("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function j1(t){Promise.resolve(oi(t.focusElement)).then(e=>{const l=e||H1(t.id);l||hs(un,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,ws),!Lr(l)&&Lr(document.documentElement)})}const W1=(t,e,l)=>(n,i)=>xc().then(()=>{if(!Pl||hc){U1();return}if(n&&j1(Pl.route),t.announcements&&i){const{path:o,fullPath:r,meta:a,params:f,uri:c}=Pl.route,p=t.createAnnouncement({path:o,fullPath:r,meta:a,params:f,uri:c},oi(l));Promise.resolve(p).then(_=>{e.set(_)})}L1()}),G1="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function B1(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},lc(t[6],G1)],i={};for(let o=0;o<n.length;o+=1)i=nl(i,n[o]);return{c(){e=m("div"),l=y(t[0]),ui(e,i)},m(o,r){$(o,e,r),s(e,l)},p(o,r){r[0]&1&&Yc(l,o[0],i.contenteditable)},d(o){o&&w(e)}}}function z1(t){let e,l,n,i,o,r=[Vs(t[6]),{"data-svnav-router":t[3]}],a={};for(let _=0;_<r.length;_+=1)a=nl(a,r[_]);const f=t[22].default,c=oo(f,t,t[21],null);let p=t[2]&&t[4]&&t[1].announcements&&B1(t);return{c(){e=m("div"),l=h(),c&&c.c(),n=h(),p&&p.c(),i=Ke(),ui(e,a)},m(_,b){$(_,e,b),$(_,l,b),c&&c.m(_,b),$(_,n,b),p&&p.m(_,b),$(_,i,b),o=!0},p(_,b){c&&c.p&&(!o||b[0]&2097152)&&ro(c,f,_,_[21],o?uo(f,_[21],b,null):ao(_[21]),null),_[2]&&_[4]&&_[1].announcements&&p.p(_,b)},i(_){o||(P(c,_),o=!0)},o(_){A(c,_),o=!1},d(_){_&&w(e),_&&w(l),c&&c.d(_),_&&w(n),p&&p.d(_),_&&w(i)}}}const Y1=ec(),Or="/";function V1(t,e,l){let n,i,o,r,a,{$$slots:f={},$$scope:c}=e,{basepath:p=Or}=e,{url:_=null}=e,{history:b=vc}=e,{primary:v=!0}=e,{a11y:d={}}=e,{disableInlineStyles:g=!1}=e;const k={createAnnouncement:le=>`Navigated to ${le.uri}`,announcements:!0,...d},C=p,T=fo(p),N=Ll(Ks),I=Ll(ri),S=!N,D=Y1(),E=v&&!(I&&!I.manageFocus),F=mt("");cl(t,F,le=>l(0,a=le));const B=I?I.disableInlineStyles:g,Y=mt([]);cl(t,Y,le=>l(20,r=le));const z=mt(null);cl(t,z,le=>l(18,i=le));let U=!1;const G=S?0:I.level+1,O=S?mt((()=>Fr(Ul?po(_):b.location,T))()):N;cl(t,O,le=>l(17,n=le));const W=mt(n);cl(t,W,le=>l(19,o=le));const R=W1(k,F,O),q=le=>pe=>pe.filter(ne=>ne.id!==le);function H(le){if(Ul){if(U)return;const pe=dc(le,n.pathname);if(pe)return U=!0,pe}else Y.update(pe=>{const ne=q(le.id)(pe);return ne.push(le),ne})}function te(le){Y.update(q(le))}return!S&&p!==Or&&hs(un,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:p}),S&&(Xc(()=>b.listen(pe=>{const ne=Fr(pe.location,T);W.set(n),O.set(ne)})),yi(Ks,O)),yi(ri,{activeRoute:z,registerRoute:H,unregisterRoute:te,manageFocus:E,level:G,id:D,history:S?b:I.history,basepath:S?T:I.basepath,disableInlineStyles:B}),t.$$set=le=>{"basepath"in le&&l(11,p=le.basepath),"url"in le&&l(12,_=le.url),"history"in le&&l(13,b=le.history),"primary"in le&&l(14,v=le.primary),"a11y"in le&&l(15,d=le.a11y),"disableInlineStyles"in le&&l(16,g=le.disableInlineStyles),"$$scope"in le&&l(21,c=le.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&p!==C&&hs(un,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const le=_c(r,n.pathname);z.set(le)}if(t.$$.dirty[0]&655360&&S){const le=!!n.hash,pe=!le&&E,ne=!le||n.pathname!==o.pathname;R(pe,ne)}t.$$.dirty[0]&262144&&E&&i&&i.primary&&R1({level:G,routerId:D,route:i})},[a,k,S,D,E,F,B,Y,z,O,W,p,_,b,v,d,g,n,i,o,r,c,f]}class K1 extends $e{constructor(e){super(),ye(this,e,V1,z1,ke,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const bc=K1;function Pi(t,e,l=ri,n=un){Ll(l)||pc(t,o=>`You cannot use ${o} outside of a ${mo(n)}.`,e)}const Q1=t=>{const{subscribe:e}=Ll(t);return{subscribe:e}};function gc(){return Pi(rc),Q1(Ks)}function kc(){const{history:t}=Ll(ri);return t}function wc(){const t=Ll(ic);return t?s1(t,e=>e.base):mt("/")}function yc(){Pi(fc);const t=wc(),{basepath:e}=Ll(ri);return n=>S1(n,oi(t),e)}function X1(){Pi(ac);const t=yc(),{navigate:e}=kc();return(n,i)=>{const o=xf(n)?n:t(n);return e(o,i)}}const Z1=t=>({params:t&16,location:t&8}),qr=t=>({params:Ul?oi(t[10]):t[4],location:t[3],navigate:t[11]});function Hr(t){let e,l;return e=new bc({props:{primary:t[1],$$slots:{default:[em]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&2&&(o.primary=n[1]),i&528409&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function J1(t){let e;const l=t[18].default,n=oo(l,t,t[19],qr);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&524312)&&ro(n,l,i,i[19],e?uo(l,i[19],o,Z1):ao(i[19]),qr)},i(i){e||(P(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function x1(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},Ul?oi(t[10]):t[4],t[12]];var o=t[0];function r(a){let f={};for(let c=0;c<i.length;c+=1)f=nl(f,i[c]);return{props:f}}return o&&(e=Mr(o,r())),{c(){e&&J(e.$$.fragment),l=Ke()},m(a,f){e&&Q(e,a,f),$(a,l,f),n=!0},p(a,f){const c=f&7192?Zf(i,[f&8&&{location:a[3]},f&2048&&{navigate:a[11]},f&1040&&Ar(Ul?oi(a[10]):a[4]),f&4096&&Ar(a[12])]):{};if(f&1&&o!==(o=a[0])){if(e){Me();const p=e;A(p.$$.fragment,1,0,()=>{X(p,1)}),De()}o?(e=Mr(o,r()),J(e.$$.fragment),P(e.$$.fragment,1),Q(e,l.parentNode,l)):e=null}else o&&e.$set(c)},i(a){n||(e&&P(e.$$.fragment,a),n=!0)},o(a){e&&A(e.$$.fragment,a),n=!1},d(a){a&&w(l),e&&X(e,a)}}}function em(t){let e,l,n,i;const o=[x1,J1],r=[];function a(f,c){return f[0]!==null?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=Ke()},m(f,c){r[e].m(f,c),$(f,n,c),i=!0},p(f,c){let p=e;e=a(f),e===p?r[e].p(f,c):(Me(),A(r[p],1,1,()=>{r[p]=null}),De(),l=r[e],l?l.p(f,c):(l=r[e]=o[e](f),l.c()),P(l,1),l.m(n.parentNode,n))},i(f){i||(P(l),i=!0)},o(f){A(l),i=!1},d(f){r[e].d(f),f&&w(n)}}}function tm(t){let e,l,n,i,o,r=[Vs(t[7]),{"data-svnav-route-start":t[5]}],a={};for(let _=0;_<r.length;_+=1)a=nl(a,r[_]);let f=t[2]&&Hr(t),c=[Vs(t[7]),{"data-svnav-route-end":t[5]}],p={};for(let _=0;_<c.length;_+=1)p=nl(p,c[_]);return{c(){e=m("div"),l=h(),f&&f.c(),n=h(),i=m("div"),ui(e,a),ui(i,p)},m(_,b){$(_,e,b),$(_,l,b),f&&f.m(_,b),$(_,n,b),$(_,i,b),o=!0},p(_,[b]){_[2]?f?(f.p(_,b),b&4&&P(f,1)):(f=Hr(_),f.c(),P(f,1),f.m(n.parentNode,n)):f&&(Me(),A(f,1,1,()=>{f=null}),De())},i(_){o||(P(f),o=!0)},o(_){A(f),o=!1},d(_){_&&w(e),_&&w(l),f&&f.d(_),_&&w(n),_&&w(i)}}}const lm=ec();function nm(t,e,l){let n;const i=["path","component","meta","primary"];let o=ds(e,i),r,a,f,c,{$$slots:p={},$$scope:_}=e,{path:b=""}=e,{component:v=null}=e,{meta:d={}}=e,{primary:g=!0}=e;Pi(ws,e);const k=lm(),{registerRoute:C,unregisterRoute:T,activeRoute:N,disableInlineStyles:I}=Ll(ri);cl(t,N,U=>l(16,r=U));const S=wc();cl(t,S,U=>l(17,f=U));const D=gc();cl(t,D,U=>l(3,a=U));const E=mt(null);let F;const B=mt(),Y=mt({});cl(t,Y,U=>l(4,c=U)),yi(ic,B),yi(o1,Y),yi(u1,E);const z=X1();return Ul||Zc(()=>T(k)),t.$$set=U=>{l(24,e=nl(nl({},e),_s(U))),l(12,o=ds(e,i)),"path"in U&&l(13,b=U.path),"component"in U&&l(0,v=U.component),"meta"in U&&l(14,d=U.meta),"primary"in U&&l(1,g=U.primary),"$$scope"in U&&l(19,_=U.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const U=b==="",G=Si(f,b),L={id:k,path:b,meta:d,default:U,fullPath:U?"":G,base:U?f:P1(G,a.pathname),primary:g,focusElement:E};B.set(L),l(15,F=C(L))}if(t.$$.dirty&98304&&l(2,n=!!(F||r&&r.id===k)),t.$$.dirty&98308&&n){const{params:U}=F||r;Y.set(U)}},e=_s(e),[v,g,n,a,c,k,N,I,S,D,Y,z,o,b,d,F,r,f,p,_]}class im extends $e{constructor(e){super(),ye(this,e,nm,tm,ke,{path:13,component:0,meta:14,primary:1})}}const Sl=im;function sm(t){let e,l,n,i;const o=t[13].default,r=oo(o,t,t[12],null);let a=[{href:t[0]},t[2],t[1]],f={};for(let c=0;c<a.length;c+=1)f=nl(f,a[c]);return{c(){e=m("a"),r&&r.c(),ui(e,f)},m(c,p){$(c,e,p),r&&r.m(e,null),l=!0,n||(i=K(e,"click",t[4]),n=!0)},p(c,[p]){r&&r.p&&(!l||p&4096)&&ro(r,o,c,c[12],l?uo(o,c[12],p,null):ao(c[12]),null),ui(e,f=Zf(a,[(!l||p&1)&&{href:c[0]},p&4&&c[2],p&2&&c[1]]))},i(c){l||(P(r,c),l=!0)},o(c){A(r,c),l=!1},d(c){c&&w(e),r&&r.d(c),n=!1,i()}}}function om(t,e,l){let n,i,o,r,a,f;const c=["to","replace","state","getProps"];let p=ds(e,c),_,{$$slots:b={},$$scope:v}=e,{to:d}=e,{replace:g=!1}=e,{state:k={}}=e,{getProps:C=null}=e;Pi(co,e);const T=gc();cl(t,T,E=>l(11,_=E));const N=Jc(),I=yc(),{navigate:S}=kc();function D(E){N("click",E),n1(E)&&(E.preventDefault(),S(n,{state:k,replace:r||g}))}return t.$$set=E=>{l(19,e=nl(nl({},e),_s(E))),l(18,p=ds(e,c)),"to"in E&&l(5,d=E.to),"replace"in E&&l(6,g=E.replace),"state"in E&&l(7,k=E.state),"getProps"in E&&l(8,C=E.getProps),"$$scope"in E&&l(12,v=E.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=I(d,_)),t.$$.dirty&2049&&l(10,i=Qs(_.pathname,n)),t.$$.dirty&2049&&l(9,o=n===_.pathname),t.$$.dirty&2049&&(r=po(n)===T1(_)),t.$$.dirty&512&&l(2,a=o?{"aria-current":"page"}:{}),l(1,f=(()=>{if(Jf(C)){const E=C({location:_,href:n,isPartiallyCurrent:i,isCurrent:o});return{...p,...E}}return p})())},e=_s(e),[n,f,a,T,D,d,g,k,C,o,i,_,v,b]}class um extends $e{constructor(e){super(),ye(this,e,om,sm,ke,{to:5,replace:6,state:7,getProps:8})}}const Rl=um;let Xs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Fl(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function rm(t){return t>218&&t<242?"#32d900":t>212&&t<248?"#b1d900":t>208&&t<252?"#ffb800":"#d90000"}function $c(t){return t>90?"#d90000":t>85?"#e32100":t>80?"#ffb800":t>75?"#dcd800":"#32d900"}function am(t){return t>75?"#32d900":t>50?"#77d900":t>25?"#94d900":"#dcd800"}function bs(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return""}}function Ue(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function ae(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"\xB5HAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1"}}function jr(t){switch(t){case-1:return"Parse error";case-2:return"Incomplete data received";case-3:return"Payload boundry flag missing";case-4:return"Header checksum error";case-5:return"Footer checksum error";case-9:return"Unknown data received, check meter config";case-41:return"Frame length not equal";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid";case 90:return"No HAN data received for at least 30s";case 91:return"Serial break";case 92:return"Serial buffer full";case 93:return"Serial FIFO overflow";case 94:return"Serial frame error";case 95:return"Serial parity error";case 96:return"RX error";case 98:return"Exception in code, debugging necessary";case 99:return"Autodetection failed"}return t<0?"Unspecified error "+t:""}function Wr(t){switch(t){case-3:return"Connection failed";case-4:return"Network timeout";case-10:return"Connection denied";case-11:return"Failed to subscribe";case-13:return"Connection lost"}return t<0?"Unspecified error "+t:""}function Gr(t){switch(t){case 401:case 403:return"Unauthorized, check API key";case 404:return"Price unavailable, not found";case 425:return"Server says its too early";case 429:return"Exceeded API rate limit";case 500:return"Internal server error";case-2:return"Incomplete data received";case-3:return"Invalid data, tag missing";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid"}return t<0?"Unspecified error "+t:""}function si(t){switch(t){case 2:case 4:case 7:return!0}return!1}function tt(t,e){return t==1||t==2&&e}function Wt(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function fe(t,e){return isNaN(t)?"-":(isNaN(e)&&(e=t<10?1:0),t.toFixed(e))}function ml(t,e){return t.setTime(t.getTime()+e*36e5),t}function Br(t){if(t.chip=="esp8266")switch(t.boot_reason){case 0:return"Normal";case 1:return"WDT reset";case 2:return"Exception reset";case 3:return"Soft WDT reset";case 4:return"Software restart";case 5:return"Deep sleep";case 6:return"External reset";default:return"Unknown (8266)"}else switch(t.boot_reason){case 1:return"Vbat power on reset";case 3:return"Software reset";case 4:return"WDT reset";case 5:return"Deep sleep";case 6:return"SLC reset";case 7:return"Timer Group0 WDT reset";case 8:return"Timer Group1 WDT reset";case 9:return"RTC WDT reset";case 10:return"Instrusion test reset CPU";case 11:return"Time Group reset CPU";case 12:return"Software reset CPU";case 13:return"RTC WTD reset CPU";case 14:return"PRO CPU";case 15:return"Brownout";case 16:return"RTC reset";default:return"Unknown"}}async function Ol(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),o=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),o}let fl={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null},trying:null};const Gt=mt(fl);async function _o(){fl=await(await Ol("/sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),Gt.set(fl)}let cs=0,zr=-127,Yr=null,fm={};const cm=nc(fm,t=>{let e;async function l(){Ol("/data.json").then(n=>n.json()).then(n=>{t(n),zr!=n.t&&(zr=n.t,setTimeout(Pc,2e3)),Yr!=n.p&&n.pe&&(Yr=n.p,setTimeout(mm,1e3)),fl.upgrading?window.location.reload():(!fl||!fl.chip||fl.booting||cs>1&&!si(fl.board))&&(_o(),nn&&clearTimeout(nn),nn=setTimeout(vo,2e3),sn&&clearTimeout(sn),sn=setTimeout(ho,3e3));let i=5e3;if(si(fl.board)&&n.v>2.5){let o=3.3-Math.min(3.3,n.v);o>0&&(i=Math.max(o,.1)*10*5e3)}i>5e3&&console.log("Scheduling next data fetch in "+i+"ms"),e&&clearTimeout(e),e=setTimeout(l,i),cs=0}).catch(n=>{cs++,cs>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(l,15e3)):e=setTimeout(l,si(fl.board)?1e4:5e3)})}return l(),function(){clearTimeout(e)}});let Zs={};const Cc=mt(Zs);async function mm(){Zs=await(await Ol("/energyprice.json")).json(),Cc.set(Zs)}let Js={},nn;async function vo(){nn&&(clearTimeout(nn),nn=0),Js=await(await Ol("/dayplot.json")).json(),Tc.set(Js);let e=new Date;nn=setTimeout(vo,(60-e.getMinutes())*6e4+20)}const Tc=mt(Js,t=>(vo(),function(){}));let xs={},sn;async function ho(){sn&&(clearTimeout(sn),sn=0),xs=await(await Ol("/monthplot.json")).json(),Sc.set(xs);let e=new Date;sn=setTimeout(ho,(24-e.getHours())*36e5+40)}const Sc=mt(xs,t=>(ho(),function(){}));let eo={};async function Pc(){eo=await(await Ol("/temperature.json")).json(),Nc.set(eo)}const Nc=mt(eo,t=>(Pc(),function(){}));let to={},ms;async function Mc(){ms&&(clearTimeout(ms),ms=0),to=await(await Ol("/tariff.json")).json(),Dc.set(to);let e=new Date;ms=setTimeout(Mc,(60-e.getMinutes())*6e4+30)}const Dc=mt(to,t=>function(){});let lo=[];const bo=mt(lo);async function pm(){lo=await(await Ol("https://api.github.com/repos/UtilitechAS/amsreader-firmware/releases")).json(),bo.set(lo)}function gs(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function Ac(t){await(await fetch("/upgrade?expected_version="+t,{method:"POST"})).json()}function Ec(t,e){if(/^v\d{1,2}\.\d{1,2}\.\d{1,2}$/.test(t)){let l=t.substring(1).split("."),n=parseInt(l[0]),i=parseInt(l[1]),o=parseInt(l[2]),r=[...e];r.reverse();let a,f,c;for(let p=0;p<r.length;p++){let _=r[p],v=_.tag_name.substring(1).split("."),d=parseInt(v[0]),g=parseInt(v[1]),k=parseInt(v[2]);if(d==n)g==i?k>o&&(a=_):g==i+1&&(f=_);else if(d==n+1)if(c){let C=c.tag_name.substring(1).split(".");parseInt(C[0]);let T=parseInt(C[1]);parseInt(C[2]),g==T&&(c=_)}else c=_}return f||c||a||!1}else return e[0]}const _m="/github.svg";function Vr(t){let e,l;function n(r,a){return r[1]>1?wm:r[1]>0?km:r[2]>1?gm:r[2]>0?bm:r[3]>1?hm:r[3]>0?vm:dm}let i=n(t),o=i(t);return{c(){e=y(`Up
    `),o.c(),l=Ke()},m(r,a){$(r,e,a),o.m(r,a),$(r,l,a)},p(r,a){i===(i=n(r))&&o?o.p(r,a):(o.d(1),o=i(r),o&&(o.c(),o.m(l.parentNode,l)))},d(r){r&&w(e),o.d(r),r&&w(l)}}}function dm(t){let e,l;return{c(){e=y(t[0]),l=y(" seconds")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&1&&j(e,n[0])},d(n){n&&w(e),n&&w(l)}}}function vm(t){let e,l;return{c(){e=y(t[3]),l=y(" minute")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&8&&j(e,n[3])},d(n){n&&w(e),n&&w(l)}}}function hm(t){let e,l;return{c(){e=y(t[3]),l=y(" minutes")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&8&&j(e,n[3])},d(n){n&&w(e),n&&w(l)}}}function bm(t){let e,l;return{c(){e=y(t[2]),l=y(" hour")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&4&&j(e,n[2])},d(n){n&&w(e),n&&w(l)}}}function gm(t){let e,l;return{c(){e=y(t[2]),l=y(" hours")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&4&&j(e,n[2])},d(n){n&&w(e),n&&w(l)}}}function km(t){let e,l;return{c(){e=y(t[1]),l=y(" day")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&2&&j(e,n[1])},d(n){n&&w(e),n&&w(l)}}}function wm(t){let e,l;return{c(){e=y(t[1]),l=y(" days")},m(n,i){$(n,e,i),$(n,l,i)},p(n,i){i&2&&j(e,n[1])},d(n){n&&w(e),n&&w(l)}}}function ym(t){let e,l=t[0]&&Vr(t);return{c(){l&&l.c(),e=Ke()},m(n,i){l&&l.m(n,i),$(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Vr(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ie,o:ie,d(n){l&&l.d(n),n&&w(e)}}}function $m(t,e,l){let{epoch:n}=e,i=0,o=0,r=0;return t.$$set=a=>{"epoch"in a&&l(0,n=a.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(1,i=Math.floor(n/86400)),l(2,o=Math.floor(n/3600)),l(3,r=Math.floor(n/60)))},[n,i,o,r]}class Cm extends $e{constructor(e){super(),ye(this,e,$m,ym,ke,{epoch:0})}}function Tm(t){let e,l,n;return{c(){e=m("span"),l=y(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,o){$(i,e,o),s(e,l)},p(i,[o]){o&4&&j(l,i[2]),o&2&&u(e,"title",i[1]),o&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:ie,o:ie,d(i){i&&w(e)}}}function Sm(t,e,l){let{color:n}=e,{title:i}=e,{text:o}=e;return t.$$set=r=>{"color"in r&&l(0,n=r.color),"title"in r&&l(1,i=r.title),"text"in r&&l(2,o=r.text)},[n,i,o]}class pl extends $e{constructor(e){super(),ye(this,e,Sm,Tm,ke,{color:0,title:1,text:2})}}function Pm(t){let e,l=`${Ue(t[0].getDate())}.${Ue(t[0].getMonth()+1)}.${t[0].getFullYear()} ${Ue(t[0].getHours())}:${Ue(t[0].getMinutes())}`,n;return{c(){e=m("span"),n=y(l),u(e,"class",t[1])},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=`${Ue(i[0].getDate())}.${Ue(i[0].getMonth()+1)}.${i[0].getFullYear()} ${Ue(i[0].getHours())}:${Ue(i[0].getMinutes())}`)&&j(n,l),o&2&&u(e,"class",i[1])},d(i){i&&w(e)}}}function Nm(t){let e=`${Ue(t[0].getDate())}. ${Xs[t[0].getMonth()]} ${Ue(t[0].getHours())}:${Ue(t[0].getMinutes())}`,l;return{c(){l=y(e)},m(n,i){$(n,l,i)},p(n,i){i&1&&e!==(e=`${Ue(n[0].getDate())}. ${Xs[n[0].getMonth()]} ${Ue(n[0].getHours())}:${Ue(n[0].getMinutes())}`)&&j(l,e)},d(n){n&&w(l)}}}function Mm(t){let e;function l(o,r){return o[2]?Nm:Pm}let n=l(t),i=n(t);return{c(){i.c(),e=Ke()},m(o,r){i.m(o,r),$(o,e,r)},p(o,[r]){n===(n=l(o))&&i?i.p(o,r):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},i:ie,o:ie,d(o){i.d(o),o&&w(e)}}}function Dm(t,e,l){let{timestamp:n}=e,{fullTimeColor:i}=e,{offset:o}=e,r;return t.$$set=a=>{"timestamp"in a&&l(0,n=a.timestamp),"fullTimeColor"in a&&l(1,i=a.fullTimeColor),"offset"in a&&l(3,o=a.offset)},t.$$.update=()=>{t.$$.dirty&9&&(l(2,r=Math.abs(new Date().getTime()-n.getTime())<3e5),isNaN(o)||ml(n,o-(24+n.getHours()-n.getUTCHours())%24))},[n,i,r,o]}class go extends $e{constructor(e){super(),ye(this,e,Dm,Mm,ke,{timestamp:0,fullTimeColor:1,offset:3})}}function Am(t){let e,l,n;return{c(){e=je("svg"),l=je("path"),n=je("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,o){$(i,e,o),s(e,l),s(e,n)},p:ie,i:ie,o:ie,d(i){i&&w(e)}}}class Em extends $e{constructor(e){super(),ye(this,e,null,Am,ke,{})}}function Im(t){let e,l;return{c(){e=je("svg"),l=je("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){$(n,e,i),s(e,l)},p:ie,i:ie,o:ie,d(n){n&&w(e)}}}class Fm extends $e{constructor(e){super(),ye(this,e,null,Im,ke,{})}}function Rm(t){let e,l;return{c(){e=je("svg"),l=je("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){$(n,e,i),s(e,l)},p:ie,i:ie,o:ie,d(n){n&&w(e)}}}class jt extends $e{constructor(e){super(),ye(this,e,null,Rm,ke,{})}}function Lm(t){let e,l;return{c(){e=je("svg"),l=je("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){$(n,e,i),s(e,l)},p:ie,i:ie,o:ie,d(n){n&&w(e)}}}class Ic extends $e{constructor(e){super(),ye(this,e,null,Lm,ke,{})}}function Um(t){let e,l,n=t[1].version+"",i;return{c(){e=y("AMS reader "),l=m("span"),i=y(n)},m(o,r){$(o,e,r),$(o,l,r),s(l,i)},p(o,r){r&2&&n!==(n=o[1].version+"")&&j(i,n)},d(o){o&&w(e),o&&w(l)}}}function Kr(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=m("div"),n=y(l),i=y("\xB0C"),u(e,"class","flex-none my-auto")},m(o,r){$(o,e,r),s(e,n),s(e,i)},p(o,r){r&1&&l!==(l=(o[0].t>-50?o[0].t.toFixed(1):"-")+"")&&j(n,l)},d(o){o&&w(e)}}}function Qr(t){let e,l="HAN: "+jr(t[0].he),n;return{c(){e=m("div"),n=y(l),u(e,"class","bd-red")},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="HAN: "+jr(i[0].he))&&j(n,l)},d(i){i&&w(e)}}}function Xr(t){let e,l="MQTT: "+Wr(t[0].me),n;return{c(){e=m("div"),n=y(l),u(e,"class","bd-red")},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="MQTT: "+Wr(i[0].me))&&j(n,l)},d(i){i&&w(e)}}}function Zr(t){let e,l="PriceAPI: "+Gr(t[0].ee),n;return{c(){e=m("div"),n=y(l),u(e,"class","bd-red")},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="PriceAPI: "+Gr(i[0].ee))&&j(n,l)},d(i){i&&w(e)}}}function Jr(t){let e,l,n,i,o,r;return l=new Rl({props:{to:"/configuration",$$slots:{default:[Om]},$$scope:{ctx:t}}}),o=new Rl({props:{to:"/status",$$slots:{default:[qm]},$$scope:{ctx:t}}}),{c(){e=m("div"),J(l.$$.fragment),n=h(),i=m("div"),J(o.$$.fragment),u(e,"class","flex-none px-1 mt-1"),u(e,"title","Configuration"),u(i,"class","flex-none px-1 mt-1"),u(i,"title","Device information")},m(a,f){$(a,e,f),Q(l,e,null),$(a,n,f),$(a,i,f),Q(o,i,null),r=!0},i(a){r||(P(l.$$.fragment,a),P(o.$$.fragment,a),r=!0)},o(a){A(l.$$.fragment,a),A(o.$$.fragment,a),r=!1},d(a){a&&w(e),X(l),a&&w(n),a&&w(i),X(o)}}}function Om(t){let e,l;return e=new Em({}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function qm(t){let e,l;return e=new Fm({}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function xr(t){let e,l,n,i,o;const r=[jm,Hm],a=[];function f(c,p){return c[1].security==0||c[0].a?0:1}return l=f(t),n=a[l]=r[l](t),{c(){e=m("div"),n.c(),u(e,"class","flex-none mr-3 text-yellow-500"),u(e,"title",i="New version: "+t[2].tag_name)},m(c,p){$(c,e,p),a[l].m(e,null),o=!0},p(c,p){let _=l;l=f(c),l===_?a[l].p(c,p):(Me(),A(a[_],1,1,()=>{a[_]=null}),De(),n=a[l],n?n.p(c,p):(n=a[l]=r[l](c),n.c()),P(n,1),n.m(e,null)),(!o||p&4&&i!==(i="New version: "+c[2].tag_name))&&u(e,"title",i)},i(c){o||(P(n),o=!0)},o(c){A(n),o=!1},d(c){c&&w(e),a[l].d()}}}function Hm(t){let e,l,n=t[2].tag_name+"",i;return{c(){e=m("span"),l=y("New version: "),i=y(n)},m(o,r){$(o,e,r),s(e,l),s(e,i)},p(o,r){r&4&&n!==(n=o[2].tag_name+"")&&j(i,n)},i:ie,o:ie,d(o){o&&w(e)}}}function jm(t){let e,l,n,i=t[2].tag_name+"",o,r,a,f,c,p;return a=new Ic({}),{c(){e=m("button"),l=m("span"),n=y("New version: "),o=y(i),r=h(),J(a.$$.fragment),u(l,"class","mt-1"),u(e,"class","flex")},m(_,b){$(_,e,b),s(e,l),s(l,n),s(l,o),s(e,r),Q(a,e,null),f=!0,c||(p=K(e,"click",t[3]),c=!0)},p(_,b){(!f||b&4)&&i!==(i=_[2].tag_name+"")&&j(o,i)},i(_){f||(P(a.$$.fragment,_),f=!0)},o(_){A(a.$$.fragment,_),f=!1},d(_){_&&w(e),X(a),c=!1,p()}}}function Wm(t){let e,l,n,i,o,r,a,f,c,p,_,b,v=(t[0].m?(t[0].m/1e3).toFixed(1):"-")+"",d,g,k,C,T,N,I,S,D,E,F,B,Y,z,U,G,L,O,W,R,q,H,te,le,pe,ne,Ce,We,Ae,Be;i=new Rl({props:{to:"/",$$slots:{default:[Um]},$$scope:{ctx:t}}}),f=new Cm({props:{epoch:t[0].u}});let be=t[0].t>-50&&Kr(t);T=new pl({props:{title:"ESP",text:t[1].booting?"Booting":t[0].v>2?t[0].v.toFixed(2)+"V":"ESP",color:Fl(t[1].booting?2:t[0].em)}}),I=new pl({props:{title:"HAN",text:"HAN",color:Fl(t[1].booting?9:t[0].hm)}}),D=new pl({props:{title:"WiFi",text:t[0].r?t[0].r.toFixed(0)+"dBm":"WiFi",color:Fl(t[1].booting?9:t[0].wm)}}),F=new pl({props:{title:"MQTT",text:"MQTT",color:Fl(t[1].booting?9:t[0].mm)}});let me=(t[0].he<0||t[0].he>0)&&Qr(t),Ee=t[0].me<0&&Xr(t),Ie=(t[0].ee>0||t[0].ee<0)&&Zr(t);te=new go({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),offset:t[1].clock_offset,fullTimeColor:"text-red-500"}});let ce=t[1].vndcfg&&t[1].usrcfg&&Jr(t);We=new jt({});let we=t[1].fwconsent===1&&t[2]&&xr(t);return{c(){e=m("nav"),l=m("div"),n=m("div"),J(i.$$.fragment),o=h(),r=m("div"),a=m("div"),J(f.$$.fragment),c=h(),be&&be.c(),p=h(),_=m("div"),b=y("Free mem: "),d=y(v),g=y("kb"),k=h(),C=m("div"),J(T.$$.fragment),N=h(),J(I.$$.fragment),S=h(),J(D.$$.fragment),E=h(),J(F.$$.fragment),B=h(),me&&me.c(),Y=h(),Ee&&Ee.c(),z=h(),Ie&&Ie.c(),U=h(),G=m("div"),L=m("div"),O=m("a"),W=m("img"),q=h(),H=m("div"),J(te.$$.fragment),le=h(),ce&&ce.c(),pe=h(),ne=m("div"),Ce=m("a"),J(We.$$.fragment),Ae=h(),we&&we.c(),u(n,"class","flex text-lg text-gray-100 p-2"),u(a,"class","flex-none my-auto"),u(_,"class","flex-none my-auto"),u(r,"class","flex-none my-auto p-2 flex space-x-4"),u(C,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(W,"class","gh-logo"),Hc(W.src,R=_m)||u(W,"src",R),u(W,"alt","GitHub repo"),u(O,"class","float-right"),u(O,"href","https://github.com/UtilitechAS/amsreader-firmware"),u(O,"target","_blank"),u(O,"rel","noreferrer"),u(O,"aria-label","GitHub"),u(L,"class","flex-none"),u(H,"class","flex-none my-auto px-2"),u(Ce,"href",Wt("")),u(Ce,"target","_blank"),u(Ce,"rel","noreferrer"),u(ne,"class","flex-none px-1 mt-1"),u(ne,"title","Documentation"),u(G,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-sm text-gray-300"),u(e,"class","bg-violet-600 p-1 rounded-md mx-2")},m(x,ve){$(x,e,ve),s(e,l),s(l,n),Q(i,n,null),s(l,o),s(l,r),s(r,a),Q(f,a,null),s(r,c),be&&be.m(r,null),s(r,p),s(r,_),s(_,b),s(_,d),s(_,g),s(l,k),s(l,C),Q(T,C,null),s(C,N),Q(I,C,null),s(C,S),Q(D,C,null),s(C,E),Q(F,C,null),s(l,B),me&&me.m(l,null),s(l,Y),Ee&&Ee.m(l,null),s(l,z),Ie&&Ie.m(l,null),s(l,U),s(l,G),s(G,L),s(L,O),s(O,W),s(G,q),s(G,H),Q(te,H,null),s(G,le),ce&&ce.m(G,null),s(G,pe),s(G,ne),s(ne,Ce),Q(We,Ce,null),s(G,Ae),we&&we.m(G,null),Be=!0},p(x,[ve]){const lt={};ve&18&&(lt.$$scope={dirty:ve,ctx:x}),i.$set(lt);const nt={};ve&1&&(nt.epoch=x[0].u),f.$set(nt),x[0].t>-50?be?be.p(x,ve):(be=Kr(x),be.c(),be.m(r,p)):be&&(be.d(1),be=null),(!Be||ve&1)&&v!==(v=(x[0].m?(x[0].m/1e3).toFixed(1):"-")+"")&&j(d,v);const Fe={};ve&3&&(Fe.text=x[1].booting?"Booting":x[0].v>2?x[0].v.toFixed(2)+"V":"ESP"),ve&3&&(Fe.color=Fl(x[1].booting?2:x[0].em)),T.$set(Fe);const Je={};ve&3&&(Je.color=Fl(x[1].booting?9:x[0].hm)),I.$set(Je);const Qe={};ve&1&&(Qe.text=x[0].r?x[0].r.toFixed(0)+"dBm":"WiFi"),ve&3&&(Qe.color=Fl(x[1].booting?9:x[0].wm)),D.$set(Qe);const qe={};ve&3&&(qe.color=Fl(x[1].booting?9:x[0].mm)),F.$set(qe),x[0].he<0||x[0].he>0?me?me.p(x,ve):(me=Qr(x),me.c(),me.m(l,Y)):me&&(me.d(1),me=null),x[0].me<0?Ee?Ee.p(x,ve):(Ee=Xr(x),Ee.c(),Ee.m(l,z)):Ee&&(Ee.d(1),Ee=null),x[0].ee>0||x[0].ee<0?Ie?Ie.p(x,ve):(Ie=Zr(x),Ie.c(),Ie.m(l,U)):Ie&&(Ie.d(1),Ie=null);const ze={};ve&1&&(ze.timestamp=x[0].c?new Date(x[0].c*1e3):new Date(0)),ve&2&&(ze.offset=x[1].clock_offset),te.$set(ze),x[1].vndcfg&&x[1].usrcfg?ce?ve&2&&P(ce,1):(ce=Jr(x),ce.c(),P(ce,1),ce.m(G,pe)):ce&&(Me(),A(ce,1,1,()=>{ce=null}),De()),x[1].fwconsent===1&&x[2]?we?(we.p(x,ve),ve&6&&P(we,1)):(we=xr(x),we.c(),P(we,1),we.m(G,null)):we&&(Me(),A(we,1,1,()=>{we=null}),De())},i(x){Be||(P(i.$$.fragment,x),P(f.$$.fragment,x),P(T.$$.fragment,x),P(I.$$.fragment,x),P(D.$$.fragment,x),P(F.$$.fragment,x),P(te.$$.fragment,x),P(ce),P(We.$$.fragment,x),P(we),Be=!0)},o(x){A(i.$$.fragment,x),A(f.$$.fragment,x),A(T.$$.fragment,x),A(I.$$.fragment,x),A(D.$$.fragment,x),A(F.$$.fragment,x),A(te.$$.fragment,x),A(ce),A(We.$$.fragment,x),A(we),Be=!1},d(x){x&&w(e),X(i),X(f),be&&be.d(),X(T),X(I),X(D),X(F),me&&me.d(),Ee&&Ee.d(),Ie&&Ie.d(),X(te),ce&&ce.d(),X(We),we&&we.d()}}}function Gm(t,e,l){let{data:n={}}=e,i={},o={};function r(){confirm("Do you want to upgrade this device to "+o.tag_name+"?")&&(!si(i.board)||confirm(gs(ae(i.chip,i.board))))&&(Gt.update(a=>(a.upgrading=!0,a)),Ac(o.tag_name))}return Gt.subscribe(a=>{l(1,i=a),a.fwconsent===1&&pm()}),bo.subscribe(a=>{l(2,o=Ec(i.version,a))}),t.$$set=a=>{"data"in a&&l(0,n=a.data)},[n,i,o,r]}class Bm extends $e{constructor(e){super(),ye(this,e,Gm,Wm,ke,{data:0})}}function zm(t){let e,l,n,i;return{c(){e=je("svg"),l=je("path"),n=je("path"),u(l,"d",zs(150,150,115,210,510)),u(l,"stroke","#eee"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=zs(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(o,r){$(o,e,r),s(e,l),s(e,n)},p(o,[r]){r&1&&i!==(i=zs(150,150,115,210,210+300*o[0]/100))&&u(n,"d",i),r&2&&u(n,"stroke",o[1])},i:ie,o:ie,d(o){o&&w(e)}}}function ea(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function zs(t,e,l,n,i){var o=ea(t,e,l,i),r=ea(t,e,l,n),a=i-n<=180?"0":"1",f=["M",o.x,o.y,"A",l,l,0,a,0,r.x,r.y].join(" ");return f}function Ym(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=o=>{"pct"in o&&l(0,n=o.pct),"color"in o&&l(1,i=o.color)},[n,i]}class Vm extends $e{constructor(e){super(),ye(this,e,Ym,zm,ke,{pct:0,color:1})}}function ta(t){let e,l,n,i,o,r,a,f;return{c(){e=m("br"),l=h(),n=m("span"),i=y(t[3]),o=h(),r=m("span"),a=y(t[4]),f=y("/kWh"),u(n,"class","pl-sub"),u(r,"class","pl-snt")},m(c,p){$(c,e,p),$(c,l,p),$(c,n,p),s(n,i),$(c,o,p),$(c,r,p),s(r,a),s(r,f)},p(c,p){p&8&&j(i,c[3]),p&16&&j(a,c[4])},d(c){c&&w(e),c&&w(l),c&&w(n),c&&w(o),c&&w(r)}}}function Km(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k;l=new Vm({props:{pct:t[6],color:t[5](t[6])}});let C=t[3]&&ta(t);return{c(){e=m("div"),J(l.$$.fragment),n=h(),i=m("span"),o=m("span"),r=y(t[2]),a=h(),f=m("br"),c=h(),p=m("span"),_=y(t[0]),b=h(),v=m("span"),d=y(t[1]),g=h(),C&&C.c(),u(o,"class","pl-lab"),u(p,"class","pl-val"),u(v,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(T,N){$(T,e,N),Q(l,e,null),s(e,n),s(e,i),s(i,o),s(o,r),s(i,a),s(i,f),s(i,c),s(i,p),s(p,_),s(i,b),s(i,v),s(v,d),s(i,g),C&&C.m(i,null),k=!0},p(T,[N]){const I={};N&64&&(I.pct=T[6]),N&96&&(I.color=T[5](T[6])),l.$set(I),(!k||N&4)&&j(r,T[2]),(!k||N&1)&&j(_,T[0]),(!k||N&2)&&j(d,T[1]),T[3]?C?C.p(T,N):(C=ta(T),C.c(),C.m(i,null)):C&&(C.d(1),C=null)},i(T){k||(P(l.$$.fragment,T),k=!0)},o(T){A(l.$$.fragment,T),k=!1},d(T){T&&w(e),X(l),C&&C.d()}}}function Qm(t,e,l){let{val:n}=e,{max:i}=e,{unit:o}=e,{label:r}=e,{sub:a=""}=e,{subunit:f=""}=e,{colorFn:c}=e,p=0;return t.$$set=_=>{"val"in _&&l(0,n=_.val),"max"in _&&l(7,i=_.max),"unit"in _&&l(1,o=_.unit),"label"in _&&l(2,r=_.label),"sub"in _&&l(3,a=_.sub),"subunit"in _&&l(4,f=_.subunit),"colorFn"in _&&l(5,c=_.colorFn)},t.$$.update=()=>{t.$$.dirty&129&&l(6,p=Math.min(n,i)/i*100)},[n,o,r,a,f,c,p,i]}class Fc extends $e{constructor(e){super(),ye(this,e,Qm,Km,ke,{val:0,max:7,unit:1,label:2,sub:3,subunit:4,colorFn:5})}}function la(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function na(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function ia(t,e,l){const n=t.slice();return n[13]=e[l],n}function sa(t){let e,l,n,i,o,r=t[0].title&&oa(t),a=t[0].y.ticks,f=[];for(let v=0;v<a.length;v+=1)f[v]=ra(ia(t,a,v));let c=t[0].x.ticks,p=[];for(let v=0;v<c.length;v+=1)p[v]=ca(na(t,c,v));let _=t[0].points,b=[];for(let v=0;v<_.length;v+=1)b[v]=ga(la(t,_,v));return{c(){r&&r.c(),e=h(),l=je("svg"),n=je("g");for(let v=0;v<f.length;v+=1)f[v].c();i=je("g");for(let v=0;v<p.length;v+=1)p[v].c();o=je("g");for(let v=0;v<b.length;v+=1)b[v].c();u(n,"class","axis y-axis"),u(i,"class","axis x-axis"),u(o,"class","bars"),u(l,"height",t[4])},m(v,d){r&&r.m(v,d),$(v,e,d),$(v,l,d),s(l,n);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(n,null);s(l,i);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(i,null);s(l,o);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(o,null)},p(v,d){if(v[0].title?r?r.p(v,d):(r=oa(v),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),d&65){a=v[0].y.ticks;let g;for(g=0;g<a.length;g+=1){const k=ia(v,a,g);f[g]?f[g].p(k,d):(f[g]=ra(k),f[g].c(),f[g].m(n,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=a.length}if(d&57){c=v[0].x.ticks;let g;for(g=0;g<c.length;g+=1){const k=na(v,c,g);p[g]?p[g].p(k,d):(p[g]=ca(k),p[g].c(),p[g].m(i,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=c.length}if(d&233){_=v[0].points;let g;for(g=0;g<_.length;g+=1){const k=la(v,_,g);b[g]?b[g].p(k,d):(b[g]=ga(k),b[g].c(),b[g].m(o,null))}for(;g<b.length;g+=1)b[g].d(1);b.length=_.length}d&16&&u(l,"height",v[4])},d(v){r&&r.d(v),v&&w(e),v&&w(l),_l(f,v),_l(p,v),_l(b,v)}}}function oa(t){let e,l=t[0].title+"",n;return{c(){e=m("strong"),n=y(l),u(e,"class","text-sm")},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[0].title+"")&&j(n,l)},d(i){i&&w(e)}}}function ua(t){let e,l,n,i=t[13].label+"",o,r,a,f;return{c(){e=je("g"),l=je("line"),n=je("text"),o=y(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",r=t[13].align=="right"?"85%":""),u(e,"class",a="tick tick-"+t[13].value+" tick-"+t[13].color),u(e,"transform",f="translate(0, "+t[6](t[13].value)+")")},m(c,p){$(c,e,p),s(e,l),s(e,n),s(n,o)},p(c,p){p&1&&i!==(i=c[13].label+"")&&j(o,i),p&1&&r!==(r=c[13].align=="right"?"85%":"")&&u(n,"x",r),p&1&&a!==(a="tick tick-"+c[13].value+" tick-"+c[13].color)&&u(e,"class",a),p&65&&f!==(f="translate(0, "+c[6](c[13].value)+")")&&u(e,"transform",f)},d(c){c&&w(e)}}}function ra(t){let e=!isNaN(t[6](t[13].value)),l,n=e&&ua(t);return{c(){n&&n.c(),l=Ke()},m(i,o){n&&n.m(i,o),$(i,l,o)},p(i,o){o&65&&(e=!isNaN(i[6](i[13].value))),e?n?n.p(i,o):(n=ua(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&w(l)}}}function aa(t){let e,l,n=(t[3]>20||t[11]%2==0)&&fa(t);return{c(){e=je("g"),n&&n.c(),u(e,"class","tick"),u(e,"transform",l="translate("+t[5](t[11])+","+t[4]+")")},m(i,o){$(i,e,o),n&&n.m(e,null)},p(i,o){i[3]>20||i[11]%2==0?n?n.p(i,o):(n=fa(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),o&48&&l!==(l="translate("+i[5](i[11])+","+i[4]+")")&&u(e,"transform",l)},d(i){i&&w(e),n&&n.d()}}}function fa(t){let e,l=t[9].label+"",n,i;return{c(){e=je("text"),n=y(l),u(e,"x",i=t[3]/2),u(e,"y","-4")},m(o,r){$(o,e,r),s(e,n)},p(o,r){r&1&&l!==(l=o[9].label+"")&&j(n,l),r&8&&i!==(i=o[3]/2)&&u(e,"x",i)},d(o){o&&w(e)}}}function ca(t){let e=!isNaN(t[5](t[11])),l,n=e&&aa(t);return{c(){n&&n.c(),l=Ke()},m(i,o){n&&n.m(i,o),$(i,l,o)},p(i,o){o&32&&(e=!isNaN(i[5](i[11]))),e?n?n.p(i,o):(n=aa(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&w(l)}}}function ma(t){let e,l,n=t[9].value!==void 0&&pa(t),i=t[9].value2>1e-4&&va(t);return{c(){e=je("g"),n&&n.c(),l=je("g"),i&&i.c()},m(o,r){$(o,e,r),n&&n.m(e,null),$(o,l,r),i&&i.m(l,null)},p(o,r){o[9].value!==void 0?n?n.p(o,r):(n=pa(o),n.c(),n.m(e,null)):n&&(n.d(1),n=null),o[9].value2>1e-4?i?i.p(o,r):(i=va(o),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(o){o&&w(e),n&&n.d(),o&&w(l),i&&i.d()}}}function pa(t){let e,l,n,i,o,r,a,f=t[3]>15&&_a(t);return{c(){e=je("rect"),f&&f.c(),a=Ke(),u(e,"x",l=t[5](t[11])+2),u(e,"y",n=t[6](t[9].value)),u(e,"width",i=t[3]-4),u(e,"height",o=t[6](t[0].y.min)-t[6](Math.min(t[0].y.min,0)+t[9].value)),u(e,"fill",r=t[9].color)},m(c,p){$(c,e,p),f&&f.m(c,p),$(c,a,p)},p(c,p){p&32&&l!==(l=c[5](c[11])+2)&&u(e,"x",l),p&65&&n!==(n=c[6](c[9].value))&&u(e,"y",n),p&8&&i!==(i=c[3]-4)&&u(e,"width",i),p&65&&o!==(o=c[6](c[0].y.min)-c[6](Math.min(c[0].y.min,0)+c[9].value))&&u(e,"height",o),p&1&&r!==(r=c[9].color)&&u(e,"fill",r),c[3]>15?f?f.p(c,p):(f=_a(c),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null)},d(c){c&&w(e),f&&f.d(c),c&&w(a)}}}function _a(t){let e,l=t[9].label+"",n,i,o,r,a,f,c=t[9].title&&da(t);return{c(){e=je("text"),n=y(l),c&&c.c(),f=Ke(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",o=t[3]<on?"left":"middle"),u(e,"fill",r=t[6](t[9].value)>t[6](0)-t[7]?t[9].color:"white"),u(e,"transform",a="translate("+(t[5](t[11])+t[3]/2)+" "+(t[6](t[9].value)>t[6](0)-t[7]?t[6](t[9].value)-t[7]:t[6](t[9].value)+10)+") rotate("+(t[3]<on?90:0)+")")},m(p,_){$(p,e,_),s(e,n),c&&c.m(p,_),$(p,f,_)},p(p,_){_&1&&l!==(l=p[9].label+"")&&j(n,l),_&8&&i!==(i=p[3]-4)&&u(e,"width",i),_&8&&o!==(o=p[3]<on?"left":"middle")&&u(e,"text-anchor",o),_&193&&r!==(r=p[6](p[9].value)>p[6](0)-p[7]?p[9].color:"white")&&u(e,"fill",r),_&233&&a!==(a="translate("+(p[5](p[11])+p[3]/2)+" "+(p[6](p[9].value)>p[6](0)-p[7]?p[6](p[9].value)-p[7]:p[6](p[9].value)+10)+") rotate("+(p[3]<on?90:0)+")")&&u(e,"transform",a),p[9].title?c?c.p(p,_):(c=da(p),c.c(),c.m(f.parentNode,f)):c&&(c.d(1),c=null)},d(p){p&&w(e),c&&c.d(p),p&&w(f)}}}function da(t){let e,l=t[9].title+"",n;return{c(){e=je("title"),n=y(l)},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[9].title+"")&&j(n,l)},d(i){i&&w(e)}}}function va(t){let e,l,n,i,o,r,a,f=t[3]>15&&ha(t);return{c(){e=je("rect"),f&&f.c(),a=Ke(),u(e,"x",l=t[5](t[11])+2),u(e,"y",n=t[6](0)),u(e,"width",i=t[3]-4),u(e,"height",o=t[6](t[0].y.min)-t[6](t[0].y.min+t[9].value2)),u(e,"fill",r=t[9].color)},m(c,p){$(c,e,p),f&&f.m(c,p),$(c,a,p)},p(c,p){p&32&&l!==(l=c[5](c[11])+2)&&u(e,"x",l),p&64&&n!==(n=c[6](0))&&u(e,"y",n),p&8&&i!==(i=c[3]-4)&&u(e,"width",i),p&65&&o!==(o=c[6](c[0].y.min)-c[6](c[0].y.min+c[9].value2))&&u(e,"height",o),p&1&&r!==(r=c[9].color)&&u(e,"fill",r),c[3]>15?f?f.p(c,p):(f=ha(c),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null)},d(c){c&&w(e),f&&f.d(c),c&&w(a)}}}function ha(t){let e,l=t[9].label2+"",n,i,o,r,a,f=t[9].title2&&ba(t);return{c(){e=je("text"),n=y(l),f&&f.c(),a=Ke(),u(e,"width",i=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor","middle"),u(e,"fill",o=t[6](-t[9].value2)<t[6](0)+15?t[9].color:"white"),u(e,"transform",r="translate("+(t[5](t[11])+t[3]/2)+" "+(t[6](-t[9].value2)<t[6](0)+15?t[6](-t[9].value2)+15:t[6](-t[9].value2)-14)+") rotate("+(t[3]<on?90:0)+")")},m(c,p){$(c,e,p),s(e,n),f&&f.m(c,p),$(c,a,p)},p(c,p){p&1&&l!==(l=c[9].label2+"")&&j(n,l),p&8&&i!==(i=c[3]-4)&&u(e,"width",i),p&65&&o!==(o=c[6](-c[9].value2)<c[6](0)+15?c[9].color:"white")&&u(e,"fill",o),p&105&&r!==(r="translate("+(c[5](c[11])+c[3]/2)+" "+(c[6](-c[9].value2)<c[6](0)+15?c[6](-c[9].value2)+15:c[6](-c[9].value2)-14)+") rotate("+(c[3]<on?90:0)+")")&&u(e,"transform",r),c[9].title2?f?f.p(c,p):(f=ba(c),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null)},d(c){c&&w(e),f&&f.d(c),c&&w(a)}}}function ba(t){let e,l=t[9].title2+"",n;return{c(){e=je("title"),n=y(l)},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[9].title2+"")&&j(n,l)},d(i){i&&w(e)}}}function ga(t){let e=!isNaN(t[5](t[11]))&&!isNaN(t[6](t[9].value)),l,n=e&&ma(t);return{c(){n&&n.c(),l=Ke()},m(i,o){n&&n.m(i,o),$(i,l,o)},p(i,o){o&97&&(e=!isNaN(i[5](i[11]))&&!isNaN(i[6](i[9].value))),e?n?n.p(i,o):(n=ma(i),n.c(),n.m(l.parentNode,l)):n&&(n.d(1),n=null)},d(i){n&&n.d(i),i&&w(l)}}}function Xm(t){let e,l,n=t[0].x.ticks&&t[0].points&&t[4]&&sa(t);return{c(){e=m("div"),n&&n.c(),u(e,"class","chart"),ot(()=>t[8].call(e))},m(i,o){$(i,e,o),n&&n.m(e,null),l=Kc(e,t[8].bind(e))},p(i,[o]){i[0].x.ticks&&i[0].points&&i[4]?n?n.p(i,o):(n=sa(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:ie,o:ie,d(i){i&&w(e),n&&n.d(),l()}}}let on=30;function Zm(t,e,l){let{config:n}=e,i,o,r,a,f,c,p;function _(){i=this.clientWidth,o=this.clientHeight,l(1,i),l(2,o)}return t.$$set=b=>{"config"in b&&l(0,n=b.config)},t.$$.update=()=>{if(t.$$.dirty&31){l(4,c=o-(n.title?20:0));let b=i-(n.padding.left+n.padding.right);l(3,r=b/n.points.length),l(7,p=r<on?30:15);let v=(c-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(5,a=function(d){return d*r+n.padding.left}),l(6,f=function(d){let g=0;return d>n.y.max?g=n.padding.bottom:d<n.y.min?g=c-n.padding.bottom:g=c-n.padding.bottom-(d-n.y.min)*v,g>c||g<0?0:g})}},[n,i,o,r,c,a,f,p,_]}class rn extends $e{constructor(e){super(),ye(this,e,Zm,Xm,ke,{config:0})}}function Jm(t){let e,l;return e=new rn({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function xm(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:o}=e,{ds:r}=e,a={};function f(c){return{label:fe(c)+"V",title:c.toFixed(1)+" V",value:isNaN(c)?0:c,color:rm(c||0)}}return t.$$set=c=>{"u1"in c&&l(1,n=c.u1),"u2"in c&&l(2,i=c.u2),"u3"in c&&l(3,o=c.u3),"ds"in c&&l(4,r=c.ds)},t.$$.update=()=>{if(t.$$.dirty&30){let c=[],p=[];n>0&&(c.push({label:r===1?"L1-L2":"L1"}),p.push(f(n))),i>0&&(c.push({label:r===1?"L1-L3":"L2"}),p.push(f(i))),o>0&&(c.push({label:r===1?"L2-L3":"L3"}),p.push(f(o))),l(0,a={padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:c},points:p})}},[a,n,i,o,r]}class ep extends $e{constructor(e){super(),ye(this,e,xm,Jm,ke,{u1:1,u2:2,u3:3,ds:4})}}function tp(t){let e,l;return e=new rn({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function lp(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:o}=e,{i1:r}=e,{i2:a}=e,{i3:f}=e,{max:c}=e,p={};function _(b){return{label:fe(b)+"A",title:b.toFixed(1)+" A",value:isNaN(b)?0:b,color:$c(b?b/c*100:0)}}return t.$$set=b=>{"u1"in b&&l(1,n=b.u1),"u2"in b&&l(2,i=b.u2),"u3"in b&&l(3,o=b.u3),"i1"in b&&l(4,r=b.i1),"i2"in b&&l(5,a=b.i2),"i3"in b&&l(6,f=b.i3),"max"in b&&l(7,c=b.max)},t.$$.update=()=>{if(t.$$.dirty&254){let b=[],v=[];n>0&&(b.push({label:"L1"}),v.push(_(r))),i>0&&(b.push({label:"L2"}),v.push(_(a))),o>0&&(b.push({label:"L3"}),v.push(_(f))),l(0,p={padding:{top:20,right:15,bottom:20,left:35},y:{min:0,max:c,ticks:[{value:0,label:"0%"},{value:c/4,label:"25%"},{value:c/2,label:"50%"},{value:c/4*3,label:"75%"},{value:c,label:"100%"}]},x:{ticks:b},points:v})}},[p,n,i,o,r,a,f,c]}class np extends $e{constructor(e){super(),ye(this,e,lp,tp,ke,{u1:1,u2:2,u3:3,i1:4,i2:5,i3:6,max:7})}}function ip(t){let e,l,n,i,o,r,a,f=(typeof t[0]<"u"?t[0].toFixed(0):"-")+"",c,p,_,b,v,d,g=(typeof t[1]<"u"?t[1].toFixed(0):"-")+"",k,C,T,N,I,S,D,E=(typeof t[2]<"u"?t[2].toFixed(1):"-")+"",F,B,Y,z,U,G,L=(typeof t[3]<"u"?t[3].toFixed(1):"-")+"",O,W;return{c(){e=m("div"),l=m("strong"),l.textContent="Reactive",n=h(),i=m("div"),o=m("div"),o.textContent="Instant in",r=h(),a=m("div"),c=y(f),p=y(" VAr"),_=h(),b=m("div"),b.textContent="Instant out",v=h(),d=m("div"),k=y(g),C=y(" VAr"),T=h(),N=m("div"),I=m("div"),I.textContent="Total in",S=h(),D=m("div"),F=y(E),B=y(" kVArh"),Y=h(),z=m("div"),z.textContent="Total out",U=h(),G=m("div"),O=y(L),W=y(" kVArh"),u(a,"class","text-right"),u(d,"class","text-right"),u(i,"class","grid grid-cols-2 mt-4"),u(D,"class","text-right"),u(G,"class","text-right"),u(N,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(R,q){$(R,e,q),s(e,l),s(e,n),s(e,i),s(i,o),s(i,r),s(i,a),s(a,c),s(a,p),s(i,_),s(i,b),s(i,v),s(i,d),s(d,k),s(d,C),s(e,T),s(e,N),s(N,I),s(N,S),s(N,D),s(D,F),s(D,B),s(N,Y),s(N,z),s(N,U),s(N,G),s(G,O),s(G,W)},p(R,[q]){q&1&&f!==(f=(typeof R[0]<"u"?R[0].toFixed(0):"-")+"")&&j(c,f),q&2&&g!==(g=(typeof R[1]<"u"?R[1].toFixed(0):"-")+"")&&j(k,g),q&4&&E!==(E=(typeof R[2]<"u"?R[2].toFixed(1):"-")+"")&&j(F,E),q&8&&L!==(L=(typeof R[3]<"u"?R[3].toFixed(1):"-")+"")&&j(O,L)},i:ie,o:ie,d(R){R&&w(e)}}}function sp(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:o}=e,{exportTotal:r}=e;return t.$$set=a=>{"importInstant"in a&&l(0,n=a.importInstant),"exportInstant"in a&&l(1,i=a.exportInstant),"importTotal"in a&&l(2,o=a.importTotal),"exportTotal"in a&&l(3,r=a.exportTotal)},[n,i,o,r]}class op extends $e{constructor(e){super(),ye(this,e,sp,ip,ke,{importInstant:0,exportInstant:1,importTotal:2,exportTotal:3})}}function ka(t){let e;function l(o,r){return o[3]?rp:up}let n=l(t),i=n(t);return{c(){i.c(),e=Ke()},m(o,r){i.m(o,r),$(o,e,r)},p(o,r){n===(n=l(o))&&i?i.p(o,r):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&w(e)}}}function up(t){let e,l,n,i,o,r,a=fe(t[1].h.u,2)+"",f,c,p,_,b,v,d=fe(t[1].d.u,1)+"",g,k,C,T,N,I,S=fe(t[1].m.u)+"",D,E,F,B,Y,z,U=fe(t[0].last_month.u)+"",G,L,O,W,R=t[4]&&wa(t);return{c(){e=m("strong"),e.textContent="Consumption",l=h(),n=m("div"),i=m("div"),i.textContent="Hour",o=h(),r=m("div"),f=y(a),c=y(" kWh"),p=h(),_=m("div"),_.textContent="Day",b=h(),v=m("div"),g=y(d),k=y(" kWh"),C=h(),T=m("div"),T.textContent="Month",N=h(),I=m("div"),D=y(S),E=y(" kWh"),F=h(),B=m("div"),B.textContent="Last month",Y=h(),z=m("div"),G=y(U),L=y(" kWh"),O=h(),R&&R.c(),W=Ke(),u(r,"class","text-right"),u(v,"class","text-right"),u(I,"class","text-right"),u(z,"class","text-right"),u(n,"class","grid grid-cols-2 mb-3")},m(q,H){$(q,e,H),$(q,l,H),$(q,n,H),s(n,i),s(n,o),s(n,r),s(r,f),s(r,c),s(n,p),s(n,_),s(n,b),s(n,v),s(v,g),s(v,k),s(n,C),s(n,T),s(n,N),s(n,I),s(I,D),s(I,E),s(n,F),s(n,B),s(n,Y),s(n,z),s(z,G),s(z,L),$(q,O,H),R&&R.m(q,H),$(q,W,H)},p(q,H){H&2&&a!==(a=fe(q[1].h.u,2)+"")&&j(f,a),H&2&&d!==(d=fe(q[1].d.u,1)+"")&&j(g,d),H&2&&S!==(S=fe(q[1].m.u)+"")&&j(D,S),H&1&&U!==(U=fe(q[0].last_month.u)+"")&&j(G,U),q[4]?R?R.p(q,H):(R=wa(q),R.c(),R.m(W.parentNode,W)):R&&(R.d(1),R=null)},d(q){q&&w(e),q&&w(l),q&&w(n),q&&w(O),R&&R.d(q),q&&w(W)}}}function rp(t){let e,l,n,i,o,r,a=fe(t[1].h.u,2)+"",f,c,p,_,b,v,d,g=fe(t[1].d.u,1)+"",k,C,T,N,I,S,D,E=fe(t[1].m.u)+"",F,B,Y,z,U,G,L,O=fe(t[0].last_month.u)+"",W,R,q,H,te,le,pe,ne,Ce,We,Ae,Be=fe(t[1].h.p,2)+"",be,me,Ee,Ie,ce,we,x,ve=fe(t[1].d.p,1)+"",lt,nt,Fe,Je,Qe,qe,ze,Xe=fe(t[1].m.p)+"",Le,Te,se,he,gt,xe,Mt,Ve=fe(t[0].last_month.p)+"",Bt,Ge,Ye,He,Se=t[4]&&ya(t),ge=t[4]&&$a(t),Pe=t[4]&&Ca(t),_e=t[4]&&Ta(t),Ne=t[4]&&Sa(t),Z=t[4]&&Pa(t),ue=t[4]&&Na(t),et=t[4]&&Ma(t);return{c(){e=m("strong"),e.textContent="Import",l=h(),n=m("div"),i=m("div"),i.textContent="Hour",o=h(),r=m("div"),f=y(a),c=y(" kWh"),p=h(),Se&&Se.c(),_=h(),b=m("div"),b.textContent="Day",v=h(),d=m("div"),k=y(g),C=y(" kWh"),T=h(),ge&&ge.c(),N=h(),I=m("div"),I.textContent="Month",S=h(),D=m("div"),F=y(E),B=y(" kWh"),Y=h(),Pe&&Pe.c(),z=h(),U=m("div"),U.textContent="Last mo.",G=h(),L=m("div"),W=y(O),R=y(" kWh"),q=h(),_e&&_e.c(),te=h(),le=m("strong"),le.textContent="Export",pe=h(),ne=m("div"),Ce=m("div"),Ce.textContent="Hour",We=h(),Ae=m("div"),be=y(Be),me=y(" kWh"),Ee=h(),Ne&&Ne.c(),Ie=h(),ce=m("div"),ce.textContent="Day",we=h(),x=m("div"),lt=y(ve),nt=y(" kWh"),Fe=h(),Z&&Z.c(),Je=h(),Qe=m("div"),Qe.textContent="Month",qe=h(),ze=m("div"),Le=y(Xe),Te=y(" kWh"),se=h(),ue&&ue.c(),he=h(),gt=m("div"),gt.textContent="Last mo.",xe=h(),Mt=m("div"),Bt=y(Ve),Ge=y(" kWh"),Ye=h(),et&&et.c(),u(r,"class","text-right"),u(d,"class","text-right"),u(D,"class","text-right"),u(L,"class","text-right"),u(n,"class",H="grid grid-cols-"+t[5]+" mb-3"),u(Ae,"class","text-right"),u(x,"class","text-right"),u(ze,"class","text-right"),u(Mt,"class","text-right"),u(ne,"class",He="grid grid-cols-"+t[5])},m(oe,de){$(oe,e,de),$(oe,l,de),$(oe,n,de),s(n,i),s(n,o),s(n,r),s(r,f),s(r,c),s(n,p),Se&&Se.m(n,null),s(n,_),s(n,b),s(n,v),s(n,d),s(d,k),s(d,C),s(n,T),ge&&ge.m(n,null),s(n,N),s(n,I),s(n,S),s(n,D),s(D,F),s(D,B),s(n,Y),Pe&&Pe.m(n,null),s(n,z),s(n,U),s(n,G),s(n,L),s(L,W),s(L,R),s(n,q),_e&&_e.m(n,null),$(oe,te,de),$(oe,le,de),$(oe,pe,de),$(oe,ne,de),s(ne,Ce),s(ne,We),s(ne,Ae),s(Ae,be),s(Ae,me),s(ne,Ee),Ne&&Ne.m(ne,null),s(ne,Ie),s(ne,ce),s(ne,we),s(ne,x),s(x,lt),s(x,nt),s(ne,Fe),Z&&Z.m(ne,null),s(ne,Je),s(ne,Qe),s(ne,qe),s(ne,ze),s(ze,Le),s(ze,Te),s(ne,se),ue&&ue.m(ne,null),s(ne,he),s(ne,gt),s(ne,xe),s(ne,Mt),s(Mt,Bt),s(Mt,Ge),s(ne,Ye),et&&et.m(ne,null)},p(oe,de){de&2&&a!==(a=fe(oe[1].h.u,2)+"")&&j(f,a),oe[4]?Se?Se.p(oe,de):(Se=ya(oe),Se.c(),Se.m(n,_)):Se&&(Se.d(1),Se=null),de&2&&g!==(g=fe(oe[1].d.u,1)+"")&&j(k,g),oe[4]?ge?ge.p(oe,de):(ge=$a(oe),ge.c(),ge.m(n,N)):ge&&(ge.d(1),ge=null),de&2&&E!==(E=fe(oe[1].m.u)+"")&&j(F,E),oe[4]?Pe?Pe.p(oe,de):(Pe=Ca(oe),Pe.c(),Pe.m(n,z)):Pe&&(Pe.d(1),Pe=null),de&1&&O!==(O=fe(oe[0].last_month.u)+"")&&j(W,O),oe[4]?_e?_e.p(oe,de):(_e=Ta(oe),_e.c(),_e.m(n,null)):_e&&(_e.d(1),_e=null),de&32&&H!==(H="grid grid-cols-"+oe[5]+" mb-3")&&u(n,"class",H),de&2&&Be!==(Be=fe(oe[1].h.p,2)+"")&&j(be,Be),oe[4]?Ne?Ne.p(oe,de):(Ne=Sa(oe),Ne.c(),Ne.m(ne,Ie)):Ne&&(Ne.d(1),Ne=null),de&2&&ve!==(ve=fe(oe[1].d.p,1)+"")&&j(lt,ve),oe[4]?Z?Z.p(oe,de):(Z=Pa(oe),Z.c(),Z.m(ne,Je)):Z&&(Z.d(1),Z=null),de&2&&Xe!==(Xe=fe(oe[1].m.p)+"")&&j(Le,Xe),oe[4]?ue?ue.p(oe,de):(ue=Na(oe),ue.c(),ue.m(ne,he)):ue&&(ue.d(1),ue=null),de&1&&Ve!==(Ve=fe(oe[0].last_month.p)+"")&&j(Bt,Ve),oe[4]?et?et.p(oe,de):(et=Ma(oe),et.c(),et.m(ne,null)):et&&(et.d(1),et=null),de&32&&He!==(He="grid grid-cols-"+oe[5])&&u(ne,"class",He)},d(oe){oe&&w(e),oe&&w(l),oe&&w(n),Se&&Se.d(),ge&&ge.d(),Pe&&Pe.d(),_e&&_e.d(),oe&&w(te),oe&&w(le),oe&&w(pe),oe&&w(ne),Ne&&Ne.d(),Z&&Z.d(),ue&&ue.d(),et&&et.d()}}}function wa(t){let e,l,n,i,o,r,a=fe(t[1].h.c,2)+"",f,c,p,_,b,v,d,g=fe(t[1].d.c,1)+"",k,C,T,N,I,S,D,E=fe(t[1].m.c)+"",F,B,Y,z,U,G,L,O=fe(t[0].last_month.c)+"",W,R,q;return{c(){e=m("strong"),e.textContent="Cost",l=h(),n=m("div"),i=m("div"),i.textContent="Hour",o=h(),r=m("div"),f=y(a),c=h(),p=y(t[2]),_=h(),b=m("div"),b.textContent="Day",v=h(),d=m("div"),k=y(g),C=h(),T=y(t[2]),N=h(),I=m("div"),I.textContent="Month",S=h(),D=m("div"),F=y(E),B=h(),Y=y(t[2]),z=h(),U=m("div"),U.textContent="Last month",G=h(),L=m("div"),W=y(O),R=h(),q=y(t[2]),u(r,"class","text-right"),u(d,"class","text-right"),u(D,"class","text-right"),u(L,"class","text-right"),u(n,"class","grid grid-cols-2")},m(H,te){$(H,e,te),$(H,l,te),$(H,n,te),s(n,i),s(n,o),s(n,r),s(r,f),s(r,c),s(r,p),s(n,_),s(n,b),s(n,v),s(n,d),s(d,k),s(d,C),s(d,T),s(n,N),s(n,I),s(n,S),s(n,D),s(D,F),s(D,B),s(D,Y),s(n,z),s(n,U),s(n,G),s(n,L),s(L,W),s(L,R),s(L,q)},p(H,te){te&2&&a!==(a=fe(H[1].h.c,2)+"")&&j(f,a),te&4&&j(p,H[2]),te&2&&g!==(g=fe(H[1].d.c,1)+"")&&j(k,g),te&4&&j(T,H[2]),te&2&&E!==(E=fe(H[1].m.c)+"")&&j(F,E),te&4&&j(Y,H[2]),te&1&&O!==(O=fe(H[0].last_month.c)+"")&&j(W,O),te&4&&j(q,H[2])},d(H){H&&w(e),H&&w(l),H&&w(n)}}}function ya(t){let e,l=fe(t[1].h.c,2)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){$(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=fe(r[1].h.c,2)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&w(e)}}}function $a(t){let e,l=fe(t[1].d.c,1)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){$(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=fe(r[1].d.c,1)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&w(e)}}}function Ca(t){let e,l=fe(t[1].m.c)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){$(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=fe(r[1].m.c)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&w(e)}}}function Ta(t){let e,l=fe(t[0].last_month.c)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){$(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&1&&l!==(l=fe(r[0].last_month.c)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&w(e)}}}function Sa(t){let e,l=fe(t[1].h.i,2)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){$(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=fe(r[1].h.i,2)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&w(e)}}}function Pa(t){let e,l=fe(t[1].d.i,1)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){$(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=fe(r[1].d.i,1)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&w(e)}}}function Na(t){let e,l=fe(t[1].m.i)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){$(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&2&&l!==(l=fe(r[1].m.i)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&w(e)}}}function Ma(t){let e,l=fe(t[0].last_month.i)+"",n,i,o;return{c(){e=m("div"),n=y(l),i=h(),o=y(t[2]),u(e,"class","text-right")},m(r,a){$(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&1&&l!==(l=fe(r[0].last_month.i)+"")&&j(n,l),a&4&&j(o,r[2])},d(r){r&&w(e)}}}function ap(t){let e,l,n,i,o,r,a=t[1]&&ka(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Real time calculation",n=h(),i=m("br"),o=m("br"),r=h(),a&&a.c(),u(e,"class","mx-2 text-sm")},m(f,c){$(f,e,c),s(e,l),s(e,n),s(e,i),s(e,o),s(e,r),a&&a.m(e,null)},p(f,[c]){f[1]?a?a.p(f,c):(a=ka(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:ie,o:ie,d(f){f&&w(e),a&&a.d()}}}function fp(t,e,l){let{sysinfo:n}=e,{data:i}=e,{currency:o}=e,{hasExport:r}=e,a=!1,f=3;return t.$$set=c=>{"sysinfo"in c&&l(0,n=c.sysinfo),"data"in c&&l(1,i=c.data),"currency"in c&&l(2,o=c.currency),"hasExport"in c&&l(3,r=c.hasExport)},t.$$.update=()=>{t.$$.dirty&18&&(l(4,a=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),l(5,f=a?3:2))},[n,i,o,r,a,f]}class cp extends $e{constructor(e){super(),ye(this,e,fp,ap,ke,{sysinfo:0,data:1,currency:2,hasExport:3})}}function mp(t){let e,l,n,i;return n=new rn({props:{config:t[0]}}),{c(){e=m("a"),e.textContent="Provided by ENTSO-E",l=h(),J(n.$$.fragment),u(e,"href","https://transparency.entsoe.eu/"),u(e,"target","_blank"),u(e,"class","text-xs float-right z-40")},m(o,r){$(o,e,r),$(o,l,r),Q(n,o,r),i=!0},p(o,[r]){const a={};r&1&&(a.config=o[0]),n.$set(a)},i(o){i||(P(n.$$.fragment,o),i=!0)},o(o){A(n.$$.fragment,o),i=!1},d(o){o&&w(e),o&&w(l),X(n,o)}}}function pp(t,e,l){let{json:n}=e,{sysinfo:i}=e,o={},r,a;return t.$$set=f=>{"json"in f&&l(1,n=f.json),"sysinfo"in f&&l(2,i=f.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&30){let f=n.currency,c=new Date().getUTCHours(),p=0,_=0,b=0,v=[],d=[],g=[];l(4,a=l(3,r=0));let k=new Date;for(ml(k,i.clock_offset),p=c;p<24&&(_=n[Ue(b++)],_!=null);p++)d.push({label:Ue(k.getUTCHours())}),g.push(_*100),l(4,a=Math.min(a,_*100)),l(3,r=Math.max(r,_*100)),ml(k,1);for(p=0;p<24&&(_=n[Ue(b++)],_!=null);p++)d.push({label:Ue(k.getUTCHours())}),g.push(_*100),l(4,a=Math.min(a,_*100)),l(3,r=Math.max(r,_*100)),ml(k,1);if(a>-100&&r<100){switch(f){case"NOK":case"SEK":case"DKK":f="\xF8re";break;case"EUR":f="cent";break;default:f=f+"/100"}for(l(4,a*=100),l(3,r*=100),p=0;p<g.length;p++)g[p]*=100}let C=[];for(p=0;p<g.length;p++){_=g[p];let S=_*.01,D=Math.abs(_)<1e3?2:0;C.push({label:S>=0?S.toFixed(D):"",title:S>=0?S.toFixed(2)+" "+f:"",value:_>=0?Math.abs(_):0,label2:S<0?S.toFixed(D):"",title2:S<0?S.toFixed(2)+" "+f:"",value2:_<0?Math.abs(_):0,color:"#7c3aed"})}let T=Math.max(r,Math.abs(a));if(a<0){l(4,a=Math.min(T/4*-1,a));let S=Math.ceil(Math.abs(a)/T*4),D=a/S;for(p=1;p<S+1;p++){let E=D*p;v.push({value:E,label:(E/100).toFixed(2)})}}l(3,r=Math.max(T/4,r));let N=Math.ceil(r/T*4),I=r/N;for(p=0;p<N+1;p++){let S=I*p;v.push({value:S,label:(S/100).toFixed(2)})}l(0,o={title:"Future energy price ("+f+")",padding:{top:20,right:15,bottom:20,left:35},y:{min:a,max:r,ticks:v},x:{ticks:d},points:C})}},[o,n,i,r,a]}class _p extends $e{constructor(e){super(),ye(this,e,pp,mp,ke,{json:1,sysinfo:2})}}function dp(t){let e,l;return e=new rn({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function vp(t,e,l){let{json:n}=e,{sysinfo:i}=e,o={},r,a;return t.$$set=f=>{"json"in f&&l(1,n=f.json),"sysinfo"in f&&l(2,i=f.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&30){let f=0,c=[],p=[],_=[];l(4,a=l(3,r=0));let b=ml(new Date,-24),v=new Date().getUTCHours();for(ml(b,i.clock_offset-(24+b.getHours()-b.getUTCHours())%24),f=v;f<24;f++){let k=n["i"+Ue(f)],C=n["e"+Ue(f)];k===void 0&&(k=0),C===void 0&&(C=0),p.push({label:Ue(b.getHours())}),_.push({label:k.toFixed(1),title:k.toFixed(2)+" kWh",value:k*10,label2:C.toFixed(1),title2:C.toFixed(2)+" kWh",value2:C*10,color:"#7c3aed"}),l(4,a=Math.max(a,C*10)),l(3,r=Math.max(r,k*10)),ml(b,1)}for(f=0;f<v;f++){let k=n["i"+Ue(f)],C=n["e"+Ue(f)];k===void 0&&(k=0),C===void 0&&(C=0),p.push({label:Ue(b.getHours())}),_.push({label:k.toFixed(1),title:k.toFixed(2)+" kWh",value:k*10,label2:C.toFixed(1),title2:C.toFixed(2)+" kWh",value2:C*10,color:"#7c3aed"}),l(4,a=Math.max(a,C*10)),l(3,r=Math.max(r,k*10)),ml(b,1)}let d=Math.ceil(Math.max(a,r));if(l(3,r=d),l(4,a=a==0?0:d*-1),a<0){let k=a/4;for(f=1;f<5;f++){let C=k*f;c.push({value:C,label:(C/10).toFixed(1)})}}let g=r/4;for(f=0;f<5;f++){let k=g*f;c.push({value:k,label:(k/10).toFixed(1)})}l(0,o={title:"Energy use last 24 hours (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:a,max:r,ticks:c},x:{ticks:p},points:_})}},[o,n,i,r,a]}class hp extends $e{constructor(e){super(),ye(this,e,vp,dp,ke,{json:1,sysinfo:2})}}function bp(t){let e,l;return e=new rn({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function gp(t,e,l){let{json:n}=e,{sysinfo:i}=e,o={},r,a;return t.$$set=f=>{"json"in f&&l(1,n=f.json),"sysinfo"in f&&l(2,i=f.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&30){let f=0,c=[],p=[],_=[];l(4,a=l(3,r=0));let b=new Date,v=new Date;for(ml(b,i.clock_offset-(24+b.getHours()-b.getUTCHours())%24),ml(v,i.clock_offset-(24+v.getHours()-v.getUTCHours())%24),v.setDate(0),f=b.getDate();f<=v.getDate();f++){let k=n["i"+Ue(f)],C=n["e"+Ue(f)];k===void 0&&(k=0),C===void 0&&(C=0),p.push({label:Ue(f)}),_.push({label:k.toFixed(k<10?1:0),title:k.toFixed(2)+" kWh",value:k,label2:C.toFixed(C<10?1:0),title2:C.toFixed(2)+" kWh",value2:C,color:"#7c3aed"}),l(4,a=Math.max(a,C)),l(3,r=Math.max(r,k))}for(f=1;f<b.getDate();f++){let k=n["i"+Ue(f)],C=n["e"+Ue(f)];k===void 0&&(k=0),C===void 0&&(C=0),p.push({label:Ue(f)}),_.push({label:k.toFixed(k<10?1:0),title:k.toFixed(2)+" kWh",value:k,label2:C.toFixed(C<10?1:0),title2:C.toFixed(2)+" kWh",value2:C,color:"#7c3aed"}),l(4,a=Math.max(a,C)),l(3,r=Math.max(r,k))}let d=Math.ceil(Math.max(a,r)/10)*10;if(l(3,r=d),l(4,a=a==0?0:d*-1),a<0){let k=a/4;for(f=0;f<5;f++){let C=k*f;c.push({value:C,label:C.toFixed(0)})}}let g=r/4;for(f=0;f<5;f++){let k=g*f;c.push({value:k,label:k.toFixed(0)})}l(0,o={title:"Energy use last "+v.getDate()+" days (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:a,max:r,ticks:c},x:{ticks:p},points:_})}},[o,n,i,r,a]}class kp extends $e{constructor(e){super(),ye(this,e,gp,bp,ke,{json:1,sysinfo:2})}}function wp(t){let e,l;return e=new rn({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function yp(t,e,l){let{json:n}=e,i={},o=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,f=0,c=[],p=[],_=[];n.s&&n.s.forEach((d,g)=>{var k=d.n?d.n:d.a;f=d.v,f==-127&&(f=0),p.push({label:k.slice(-4)}),_.push({label:f.toFixed(1),value:f,color:"#7c3aed"}),l(3,r=Math.min(r,f)),l(2,o=Math.max(o,f))}),l(2,o=Math.ceil(o)),l(3,r=Math.floor(r));let b=o;r<0&&(b+=Math.abs(r));let v=b/4;for(a=0;a<5;a++)f=r+v*a,c.push({value:f,label:f.toFixed(1)});l(0,i={title:"Temperature sensors (\xB0C)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:o,ticks:c},x:{ticks:p},points:_})}},[i,n,o,r]}class $p extends $e{constructor(e){super(),ye(this,e,yp,wp,ke,{json:1})}}function Cp(t){let e,l;return e=new rn({props:{config:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}let Tp=0;function Sp(t,e,l){let n={},i=0,o;return Dc.subscribe(r=>{l(2,o=r)}),Mc(),t.$$.update=()=>{if(t.$$.dirty&6){let r=0,a=[],f=[],c=[];if(a.push({value:0,label:0}),o&&o.p)for(r=0;r<o.p.length;r++){let p=o.p[r];c.push({label:p.v.toFixed(2),value:p.v,color:"#7c3aed"}),f.push({label:p.d>0?Ue(p.d)+"."+Xs[new Date().getMonth()]:"-"}),l(1,i=Math.max(i,p.v))}if(o&&o.t){for(r=0;r<o.t.length;r++){let p=o.t[r];if(p>=i)break;a.push({value:p,label:p})}a.push({label:o.m.toFixed(1),align:"right",color:"green",value:o.m})}o&&o.c&&(a.push({label:o.c.toFixed(0),color:"orange",value:o.c}),l(1,i=Math.max(i,o.c))),l(1,i=Math.ceil(i)),l(0,n={title:"Tariff peaks",padding:{top:20,right:35,bottom:20,left:35},y:{min:Tp,max:i,ticks:a},x:{ticks:f},points:c})}},[n,i,o]}class Pp extends $e{constructor(e){super(),ye(this,e,Sp,Cp,ke,{})}}function Da(t){let e,l,n,i,o,r,a=(t[0].mt?bs(t[0].mt):"-")+"",f,c,p,_=(t[0].ic?t[0].ic.toFixed(1):"-")+"",b,v,d;return i=new Fc({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:"Import",sub:t[0].p,subunit:t[0].pc,colorFn:$c}}),{c(){e=m("div"),l=m("div"),n=m("div"),J(i.$$.fragment),o=h(),r=m("div"),f=y(a),c=h(),p=m("div"),b=y(_),v=y(" kWh"),u(n,"class","col-span-2"),u(p,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(g,k){$(g,e,k),s(e,l),s(l,n),Q(i,n,null),s(l,o),s(l,r),s(r,f),s(l,c),s(l,p),s(p,b),s(p,v),d=!0},p(g,k){const C={};k&1&&(C.val=g[0].i?g[0].i:0),k&1&&(C.max=g[0].im?g[0].im:15e3),k&1&&(C.sub=g[0].p),k&1&&(C.subunit=g[0].pc),i.$set(C),(!d||k&1)&&a!==(a=(g[0].mt?bs(g[0].mt):"-")+"")&&j(f,a),(!d||k&1)&&_!==(_=(g[0].ic?g[0].ic.toFixed(1):"-")+"")&&j(b,_)},i(g){d||(P(i.$$.fragment,g),d=!0)},o(g){A(i.$$.fragment,g),d=!1},d(g){g&&w(e),X(i)}}}function Aa(t){let e,l,n,i,o,r,a,f,c=(t[0].ec?t[0].ec.toFixed(1):"-")+"",p,_,b;return i=new Fc({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:"Export",colorFn:am}}),{c(){e=m("div"),l=m("div"),n=m("div"),J(i.$$.fragment),o=h(),r=m("div"),a=h(),f=m("div"),p=y(c),_=y(" kWh"),u(n,"class","col-span-2"),u(f,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(v,d){$(v,e,d),s(e,l),s(l,n),Q(i,n,null),s(l,o),s(l,r),s(l,a),s(l,f),s(f,p),s(f,_),b=!0},p(v,d){const g={};d&1&&(g.val=v[0].e?v[0].e:0),d&1&&(g.max=v[0].om?v[0].om*1e3:1e4),i.$set(g),(!b||d&1)&&c!==(c=(v[0].ec?v[0].ec.toFixed(1):"-")+"")&&j(p,c)},i(v){b||(P(i.$$.fragment,v),b=!0)},o(v){A(i.$$.fragment,v),b=!1},d(v){v&&w(e),X(i)}}}function Ea(t){let e,l,n;return l=new ep({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,ds:t[0].ds}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.u1=i[0].u1),o&1&&(r.u2=i[0].u2),o&1&&(r.u3=i[0].u3),o&1&&(r.ds=i[0].ds),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&w(e),X(l)}}}function Ia(t){let e,l,n;return l=new np({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,i1:t[0].i1,i2:t[0].i2,i3:t[0].i3,max:t[0].mf?t[0].mf:32}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.u1=i[0].u1),o&1&&(r.u2=i[0].u2),o&1&&(r.u3=i[0].u3),o&1&&(r.i1=i[0].i1),o&1&&(r.i2=i[0].i2),o&1&&(r.i3=i[0].i3),o&1&&(r.max=i[0].mf?i[0].mf:32),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&w(e),X(l)}}}function Fa(t){let e,l,n;return l=new op({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.importInstant=i[0].ri),o&1&&(r.exportInstant=i[0].re),o&1&&(r.importTotal=i[0].ric),o&1&&(r.exportTotal=i[0].rec),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&w(e),X(l)}}}function Ra(t){let e,l,n;return l=new cp({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&2&&(r.sysinfo=i[1]),o&1&&(r.data=i[0].ea),o&1&&(r.currency=i[0].pc),o&1&&(r.hasExport=i[0].om>0||i[0].e>0),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&w(e),X(l)}}}function La(t){let e,l,n;return l=new Pp({}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt h-64")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&w(e),X(l)}}}function Ua(t){let e,l,n;return l=new _p({props:{json:t[2],sysinfo:t[1]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&4&&(r.json=i[2]),o&2&&(r.sysinfo=i[1]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&w(e),X(l)}}}function Oa(t){let e,l,n;return l=new hp({props:{json:t[3],sysinfo:t[1]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&8&&(r.json=i[3]),o&2&&(r.sysinfo=i[1]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&w(e),X(l)}}}function qa(t){let e,l,n;return l=new kp({props:{json:t[4],sysinfo:t[1]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&16&&(r.json=i[4]),o&2&&(r.sysinfo=i[1]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&w(e),X(l)}}}function Ha(t){let e,l,n;return l=new $p({props:{json:t[5]}}),{c(){e=m("div"),J(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){$(i,e,o),Q(l,e,null),n=!0},p(i,o){const r={};o&32&&(r.json=i[5]),l.$set(r)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&w(e),X(l)}}}function Np(t){let e,l=tt(t[1].ui.i,t[0].i),n,i=tt(t[1].ui.e,t[0].om||t[0].e>0),o,r=tt(t[1].ui.v,t[0].u1>100||t[0].u2>100||t[0].u3>100),a,f=tt(t[1].ui.a,t[0].i1>.01||t[0].i2>.01||t[0].i3>.01),c,p=tt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),_,b=tt(t[1].ui.c,t[0].ea),v,d=tt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("10YNO")||t[0].pr=="10Y1001A1001A48H")),g,k=tt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),C,T=tt(t[1].ui.d,t[3]),N,I=tt(t[1].ui.m,t[4]),S,D=tt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),E,F=l&&Da(t),B=i&&Aa(t),Y=r&&Ea(t),z=f&&Ia(t),U=p&&Fa(t),G=b&&Ra(t),L=d&&La(),O=k&&Ua(t),W=T&&Oa(t),R=I&&qa(t),q=D&&Ha(t);return{c(){e=m("div"),F&&F.c(),n=h(),B&&B.c(),o=h(),Y&&Y.c(),a=h(),z&&z.c(),c=h(),U&&U.c(),_=h(),G&&G.c(),v=h(),L&&L.c(),g=h(),O&&O.c(),C=h(),W&&W.c(),N=h(),R&&R.c(),S=h(),q&&q.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(H,te){$(H,e,te),F&&F.m(e,null),s(e,n),B&&B.m(e,null),s(e,o),Y&&Y.m(e,null),s(e,a),z&&z.m(e,null),s(e,c),U&&U.m(e,null),s(e,_),G&&G.m(e,null),s(e,v),L&&L.m(e,null),s(e,g),O&&O.m(e,null),s(e,C),W&&W.m(e,null),s(e,N),R&&R.m(e,null),s(e,S),q&&q.m(e,null),E=!0},p(H,[te]){te&3&&(l=tt(H[1].ui.i,H[0].i)),l?F?(F.p(H,te),te&3&&P(F,1)):(F=Da(H),F.c(),P(F,1),F.m(e,n)):F&&(Me(),A(F,1,1,()=>{F=null}),De()),te&3&&(i=tt(H[1].ui.e,H[0].om||H[0].e>0)),i?B?(B.p(H,te),te&3&&P(B,1)):(B=Aa(H),B.c(),P(B,1),B.m(e,o)):B&&(Me(),A(B,1,1,()=>{B=null}),De()),te&3&&(r=tt(H[1].ui.v,H[0].u1>100||H[0].u2>100||H[0].u3>100)),r?Y?(Y.p(H,te),te&3&&P(Y,1)):(Y=Ea(H),Y.c(),P(Y,1),Y.m(e,a)):Y&&(Me(),A(Y,1,1,()=>{Y=null}),De()),te&3&&(f=tt(H[1].ui.a,H[0].i1>.01||H[0].i2>.01||H[0].i3>.01)),f?z?(z.p(H,te),te&3&&P(z,1)):(z=Ia(H),z.c(),P(z,1),z.m(e,c)):z&&(Me(),A(z,1,1,()=>{z=null}),De()),te&3&&(p=tt(H[1].ui.r,H[0].ri>0||H[0].re>0||H[0].ric>0||H[0].rec>0)),p?U?(U.p(H,te),te&3&&P(U,1)):(U=Fa(H),U.c(),P(U,1),U.m(e,_)):U&&(Me(),A(U,1,1,()=>{U=null}),De()),te&3&&(b=tt(H[1].ui.c,H[0].ea)),b?G?(G.p(H,te),te&3&&P(G,1)):(G=Ra(H),G.c(),P(G,1),G.m(e,v)):G&&(Me(),A(G,1,1,()=>{G=null}),De()),te&3&&(d=tt(H[1].ui.t,H[0].pr&&(H[0].pr.startsWith("10YNO")||H[0].pr=="10Y1001A1001A48H"))),d?L?te&3&&P(L,1):(L=La(),L.c(),P(L,1),L.m(e,g)):L&&(Me(),A(L,1,1,()=>{L=null}),De()),te&3&&(k=tt(H[1].ui.p,H[0].pe&&!Number.isNaN(H[0].p))),k?O?(O.p(H,te),te&3&&P(O,1)):(O=Ua(H),O.c(),P(O,1),O.m(e,C)):O&&(Me(),A(O,1,1,()=>{O=null}),De()),te&10&&(T=tt(H[1].ui.d,H[3])),T?W?(W.p(H,te),te&10&&P(W,1)):(W=Oa(H),W.c(),P(W,1),W.m(e,N)):W&&(Me(),A(W,1,1,()=>{W=null}),De()),te&18&&(I=tt(H[1].ui.m,H[4])),I?R?(R.p(H,te),te&18&&P(R,1)):(R=qa(H),R.c(),P(R,1),R.m(e,S)):R&&(Me(),A(R,1,1,()=>{R=null}),De()),te&35&&(D=tt(H[1].ui.s,H[0].t&&H[0].t!=-127&&H[5].c>1)),D?q?(q.p(H,te),te&35&&P(q,1)):(q=Ha(H),q.c(),P(q,1),q.m(e,null)):q&&(Me(),A(q,1,1,()=>{q=null}),De())},i(H){E||(P(F),P(B),P(Y),P(z),P(U),P(G),P(L),P(O),P(W),P(R),P(q),E=!0)},o(H){A(F),A(B),A(Y),A(z),A(U),A(G),A(L),A(O),A(W),A(R),A(q),E=!1},d(H){H&&w(e),F&&F.d(),B&&B.d(),Y&&Y.d(),z&&z.d(),U&&U.d(),G&&G.d(),L&&L.d(),O&&O.d(),W&&W.d(),R&&R.d(),q&&q.d()}}}function Mp(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,o={},r={},a={},f={};return Cc.subscribe(c=>{l(2,o=c)}),Tc.subscribe(c=>{l(3,r=c)}),Sc.subscribe(c=>{l(4,a=c)}),Nc.subscribe(c=>{l(5,f=c)}),t.$$set=c=>{"data"in c&&l(0,n=c.data),"sysinfo"in c&&l(1,i=c.sysinfo)},[n,i,o,r,a,f]}class Dp extends $e{constructor(e){super(),ye(this,e,Mp,Np,ke,{data:0,sysinfo:1})}}let no={};const Rc=mt(no);async function Ap(){no=await(await fetch("/configuration.json")).json(),Rc.set(no)}function ja(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function Ep(t){let e;return{c(){e=m("option"),e.textContent="UART0",e.__value=3,e.value=e.__value},m(l,n){$(l,e,n)},d(l){l&&w(e)}}}function Ip(t){let e;return{c(){e=m("option"),e.textContent="UART0",e.__value=20,e.value=e.__value},m(l,n){$(l,e,n)},d(l){l&&w(e)}}}function Wa(t){let e;return{c(){e=m("option"),e.textContent="UART2",e.__value=113,e.value=e.__value},m(l,n){$(l,e,n)},d(l){l&&w(e)}}}function Ga(t){let e,l,n;return{c(){e=m("option"),e.textContent="UART1",l=h(),n=m("option"),n.textContent="UART2",e.__value=9,e.value=e.__value,n.__value=16,n.value=n.__value},m(i,o){$(i,e,o),$(i,l,o),$(i,n,o)},d(i){i&&w(e),i&&w(l),i&&w(n)}}}function Ba(t){let e;return{c(){e=m("option"),e.textContent="UART1",e.__value=18,e.value=e.__value},m(l,n){$(l,e,n)},d(l){l&&w(e)}}}function za(t){let e,l,n;return{c(){e=m("option"),l=y("GPIO"),n=y(t[4]),e.__value=t[4],e.value=e.__value},m(i,o){$(i,e,o),s(e,l),s(e,n)},d(i){i&&w(e)}}}function Ya(t){let e,l=t[4]>3&&!(t[0]=="esp32"&&(t[4]==9||t[4]==16))&&!(t[0]=="esp32s2"&&t[4]==18)&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&za(t);return{c(){l&&l.c(),e=Ke()},m(n,i){l&&l.m(n,i),$(n,e,i)},p(n,i){n[4]>3&&!(n[0]=="esp32"&&(n[4]==9||n[4]==16))&&!(n[0]=="esp32s2"&&n[4]==18)&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=za(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){l&&l.d(n),n&&w(e)}}}function Fp(t){let e,l,n,i,o;function r(d,g){return d[0]=="esp32c3"?Ip:Ep}let a=r(t),f=a(t),c=t[0]=="esp8266"&&Wa(),p=(t[0]=="esp32"||t[0]=="esp32solo")&&Ga(),_=t[0]=="esp32s2"&&Ba(),b={length:t[1]+1},v=[];for(let d=0;d<b.length;d+=1)v[d]=Ya(ja(t,b,d));return{c(){f.c(),e=h(),c&&c.c(),l=h(),p&&p.c(),n=h(),_&&_.c(),i=h();for(let d=0;d<v.length;d+=1)v[d].c();o=Ke()},m(d,g){f.m(d,g),$(d,e,g),c&&c.m(d,g),$(d,l,g),p&&p.m(d,g),$(d,n,g),_&&_.m(d,g),$(d,i,g);for(let k=0;k<v.length;k+=1)v[k]&&v[k].m(d,g);$(d,o,g)},p(d,[g]){if(a!==(a=r(d))&&(f.d(1),f=a(d),f&&(f.c(),f.m(e.parentNode,e))),d[0]=="esp8266"?c||(c=Wa(),c.c(),c.m(l.parentNode,l)):c&&(c.d(1),c=null),d[0]=="esp32"||d[0]=="esp32solo"?p||(p=Ga(),p.c(),p.m(n.parentNode,n)):p&&(p.d(1),p=null),d[0]=="esp32s2"?_||(_=Ba(),_.c(),_.m(i.parentNode,i)):_&&(_.d(1),_=null),g&3){b={length:d[1]+1};let k;for(k=0;k<b.length;k+=1){const C=ja(d,b,k);v[k]?v[k].p(C,g):(v[k]=Ya(C),v[k].c(),v[k].m(o.parentNode,o))}for(;k<v.length;k+=1)v[k].d(1);v.length=b.length}},i:ie,o:ie,d(d){f.d(d),d&&w(e),c&&c.d(d),d&&w(l),p&&p.d(d),d&&w(n),_&&_.d(d),d&&w(i),_l(v,d),d&&w(o)}}}function Rp(t,e,l){let{chip:n}=e,i=39;return t.$$set=o=>{"chip"in o&&l(0,n=o.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(n){case"esp8266":l(1,i=16);break;case"esp32s2":l(1,i=44);break;case"esp32c3":l(1,i=19);break}},[n,i]}class Lc extends $e{constructor(e){super(),ye(this,e,Rp,Fp,ke,{chip:0})}}function Va(t){let e,l,n=t[1]&&Ka(t);return{c(){e=m("div"),l=m("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,o){$(i,e,o),s(e,l),n&&n.m(l,null)},p(i,o){i[1]?n?n.p(i,o):(n=Ka(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&w(e),n&&n.d()}}}function Ka(t){let e,l;return{c(){e=m("div"),l=y(t[1]),u(e,"class","bg-white m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 w-96")},m(n,i){$(n,e,i),s(e,l)},p(n,i){i&2&&j(l,n[1])},d(n){n&&w(e)}}}function Lp(t){let e,l=t[0]&&Va(t);return{c(){l&&l.c(),e=Ke()},m(n,i){l&&l.m(n,i),$(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Va(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ie,o:ie,d(n){l&&l.d(n),n&&w(e)}}}function Up(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=o=>{"active"in o&&l(0,n=o.active),"message"in o&&l(1,i=o.message)},[n,i]}class Rt extends $e{constructor(e){super(),ye(this,e,Up,Lp,ke,{active:0,message:1})}}function Qa(t,e,l){const n=t.slice();return n[1]=e[l],n}function Xa(t){let e,l,n=t[1]+"",i;return{c(){e=m("option"),l=y("Europe/"),i=y(n),e.__value="Europe/"+t[1],e.value=e.__value},m(o,r){$(o,e,r),s(e,l),s(e,i)},p:ie,d(o){o&&w(e)}}}function Op(t){let e,l,n,i=t[0],o=[];for(let r=0;r<i.length;r+=1)o[r]=Xa(Qa(t,i,r));return{c(){e=m("option"),e.textContent="GMT",l=h();for(let r=0;r<o.length;r+=1)o[r].c();n=Ke(),e.__value="GMT",e.value=e.__value},m(r,a){$(r,e,a),$(r,l,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(r,a);$(r,n,a)},p(r,[a]){if(a&1){i=r[0];let f;for(f=0;f<i.length;f+=1){const c=Qa(r,i,f);o[f]?o[f].p(c,a):(o[f]=Xa(c),o[f].c(),o[f].m(n.parentNode,n))}for(;f<o.length;f+=1)o[f].d(1);o.length=i.length}},i:ie,o:ie,d(r){r&&w(e),r&&w(l),_l(o,r),r&&w(n)}}}function qp(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class Hp extends $e{constructor(e){super(),ye(this,e,qp,Op,ke,{})}}function jp(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d;return{c(){e=m("optgroup"),l=m("option"),l.textContent="/24",n=h(),i=m("optgroup"),o=m("option"),o.textContent="/25",r=m("option"),r.textContent="/26",a=m("option"),a.textContent="/27",f=m("option"),f.textContent="/28",c=m("option"),c.textContent="/29",p=h(),_=m("optgroup"),b=m("option"),b.textContent="/23",v=m("option"),v.textContent="/22",d=m("option"),d.textContent="/16",l.__value="255.255.255.0",l.value=l.__value,u(e,"label","Most common is /24 (255.255.255.0)"),o.__value="255.255.255.128",o.value=o.__value,r.__value="255.255.255.192",r.value=r.__value,a.__value="255.255.255.224",a.value=a.__value,f.__value="255.255.255.240",f.value=f.__value,c.__value="255.255.255.248",c.value=c.__value,u(i,"label","Smaller subnets"),b.__value="255.255.254.0",b.value=b.__value,v.__value="255.255.252.0",v.value=v.__value,d.__value="255.255.0.0",d.value=d.__value,u(_,"label","Larger subnets")},m(g,k){$(g,e,k),s(e,l),$(g,n,k),$(g,i,k),s(i,o),s(i,r),s(i,a),s(i,f),s(i,c),$(g,p,k),$(g,_,k),s(_,b),s(_,v),s(_,d)},p:ie,i:ie,o:ie,d(g){g&&w(e),g&&w(n),g&&w(i),g&&w(p),g&&w(_)}}}class Uc extends $e{constructor(e){super(),ye(this,e,null,jp,ke,{})}}function Za(t,e,l){const n=t.slice();return n[91]=e[l],n[92]=e,n[93]=l,n}function Ja(t,e,l){const n=t.slice();return n[94]=e[l],n[95]=e,n[96]=l,n}function Wp(t,e,l){const n=t.slice();return n[97]=e[l],n}function Gp(t,e,l){const n=t.slice();return n[100]=e[l],n}function Bp(t){let e,l;return{c(){e=m("option"),l=y(t[100]),e.__value=t[100],e.value=e.__value},m(n,i){$(n,e,i),s(e,l)},p:ie,d(n){n&&w(e)}}}function xa(t){let e,l,n,i;return{c(){e=m("br"),l=m("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder","ENTSO-E API key, optional, read docs")},m(o,r){$(o,e,r),$(o,l,r),V(l,t[3].p.t),n||(i=K(l,"input",t[19]),n=!0)},p(o,r){r[0]&8&&l.value!==o[3].p.t&&V(l,o[3].p.t)},d(o){o&&w(e),o&&w(l),n=!1,i()}}}function ef(t){let e,l,n,i,o,r,a,f,c,p,_,b,v;return{c(){e=m("div"),l=y("Username"),n=m("br"),i=h(),o=m("input"),r=h(),a=m("div"),f=y("Password"),c=m("br"),p=h(),_=m("input"),u(o,"name","gu"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1"),u(_,"name","gp"),u(_,"type","password"),u(_,"class","in-s"),u(a,"class","my-1")},m(d,g){$(d,e,g),s(e,l),s(e,n),s(e,i),s(e,o),V(o,t[3].g.u),$(d,r,g),$(d,a,g),s(a,f),s(a,c),s(a,p),s(a,_),V(_,t[3].g.p),b||(v=[K(o,"input",t[21]),K(_,"input",t[22])],b=!0)},p(d,g){g[0]&8&&o.value!==d[3].g.u&&V(o,d[3].g.u),g[0]&8&&_.value!==d[3].g.p&&V(_,d[3].g.p)},d(d){d&&w(e),d&&w(r),d&&w(a),b=!1,st(v)}}}function zp(t){let e,l=t[97]*100+"",n;return{c(){e=m("option"),n=y(l),e.__value=t[97]*100,e.value=e.__value},m(i,o){$(i,e,o),s(e,n)},p:ie,d(i){i&&w(e)}}}function tf(t){let e,l,n,i;return{c(){e=m("br"),l=m("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s")},m(o,r){$(o,e,r),$(o,l,r),V(l,t[3].m.e.k),n||(i=K(l,"input",t[31]),n=!0)},p(o,r){r[0]&8&&l.value!==o[3].m.e.k&&V(l,o[3].m.e.k)},d(o){o&&w(e),o&&w(l),n=!1,i()}}}function lf(t){let e,l,n,i,o,r,a;return{c(){e=m("div"),l=y("Authentication key"),n=m("br"),i=h(),o=m("input"),u(o,"name","mea"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1")},m(f,c){$(f,e,c),s(e,l),s(e,n),s(e,i),s(e,o),V(o,t[3].m.e.a),r||(a=K(o,"input",t[32]),r=!0)},p(f,c){c[0]&8&&o.value!==f[3].m.e.a&&V(o,f[3].m.e.a)},d(f){f&&w(e),r=!1,a()}}}function nf(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C,T,N,I,S,D,E,F,B,Y;return{c(){e=m("div"),l=m("div"),n=y("Watt"),i=m("br"),o=h(),r=m("input"),a=h(),f=m("div"),c=y("Volt"),p=m("br"),_=h(),b=m("input"),v=h(),d=m("div"),g=y("Amp"),k=m("br"),C=h(),T=m("input"),N=h(),I=m("div"),S=y("kWh"),D=m("br"),E=h(),F=m("input"),u(r,"name","mmw"),u(r,"type","number"),u(r,"min","0.00"),u(r,"max","1000"),u(r,"step","0.001"),u(r,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(b,"name","mmv"),u(b,"type","number"),u(b,"min","0.00"),u(b,"max","1000"),u(b,"step","0.001"),u(b,"class","in-m tr w-full"),u(f,"class","w-1/4"),u(T,"name","mma"),u(T,"type","number"),u(T,"min","0.00"),u(T,"max","1000"),u(T,"step","0.001"),u(T,"class","in-m tr w-full"),u(d,"class","w-1/4"),u(F,"name","mmc"),u(F,"type","number"),u(F,"min","0.00"),u(F,"max","1000"),u(F,"step","0.001"),u(F,"class","in-l tr w-full"),u(I,"class","w-1/4"),u(e,"class","flex my-1")},m(z,U){$(z,e,U),s(e,l),s(l,n),s(l,i),s(l,o),s(l,r),V(r,t[3].m.m.w),s(e,a),s(e,f),s(f,c),s(f,p),s(f,_),s(f,b),V(b,t[3].m.m.v),s(e,v),s(e,d),s(d,g),s(d,k),s(d,C),s(d,T),V(T,t[3].m.m.a),s(e,N),s(e,I),s(I,S),s(I,D),s(I,E),s(I,F),V(F,t[3].m.m.c),B||(Y=[K(r,"input",t[34]),K(b,"input",t[35]),K(T,"input",t[36]),K(F,"input",t[37])],B=!0)},p(z,U){U[0]&8&&re(r.value)!==z[3].m.m.w&&V(r,z[3].m.m.w),U[0]&8&&re(b.value)!==z[3].m.m.v&&V(b,z[3].m.m.v),U[0]&8&&re(T.value)!==z[3].m.m.a&&V(T,z[3].m.m.a),U[0]&8&&re(F.value)!==z[3].m.m.c&&V(F,z[3].m.m.c)},d(z){z&&w(e),B=!1,st(Y)}}}function sf(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k;return{c(){e=m("div"),l=y("Gateway"),n=m("br"),i=h(),o=m("input"),r=h(),a=m("div"),f=y("DNS"),c=m("br"),p=h(),_=m("div"),b=m("input"),v=h(),d=m("input"),u(o,"name","ng"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1"),u(b,"name","nd1"),u(b,"type","text"),u(b,"class","in-f w-full"),u(d,"name","nd2"),u(d,"type","text"),u(d,"class","in-l w-full"),u(_,"class","flex"),u(a,"class","my-1")},m(C,T){$(C,e,T),s(e,l),s(e,n),s(e,i),s(e,o),V(o,t[3].n.g),$(C,r,T),$(C,a,T),s(a,f),s(a,c),s(a,p),s(a,_),s(_,b),V(b,t[3].n.d1),s(_,v),s(_,d),V(d,t[3].n.d2),g||(k=[K(o,"input",t[46]),K(b,"input",t[47]),K(d,"input",t[48])],g=!0)},p(C,T){T[0]&8&&o.value!==C[3].n.g&&V(o,C[3].n.g),T[0]&8&&b.value!==C[3].n.d1&&V(b,C[3].n.d1),T[0]&8&&d.value!==C[3].n.d2&&V(d,C[3].n.d2)},d(C){C&&w(e),C&&w(r),C&&w(a),g=!1,st(k)}}}function of(t){let e,l,n,i,o;return{c(){e=m("label"),l=m("input"),n=y(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",l.value=l.__value,u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(r,a){$(r,e,a),s(e,l),l.checked=t[3].q.s.e,s(e,n),i||(o=[K(l,"change",t[52]),K(l,"change",t[11])],i=!0)},p(r,a){a[0]&8&&(l.checked=r[3].q.s.e)},d(r){r&&w(e),i=!1,st(o)}}}function uf(t){let e,l,n,i,o,r,a,f;return n=new Rl({props:{to:"/mqtt-ca",$$slots:{default:[Kp]},$$scope:{ctx:t}}}),o=new Rl({props:{to:"/mqtt-cert",$$slots:{default:[Zp]},$$scope:{ctx:t}}}),a=new Rl({props:{to:"/mqtt-key",$$slots:{default:[e0]},$$scope:{ctx:t}}}),{c(){e=m("div"),l=m("div"),J(n.$$.fragment),i=h(),J(o.$$.fragment),r=h(),J(a.$$.fragment),u(e,"class","my-1")},m(c,p){$(c,e,p),s(e,l),Q(n,l,null),s(l,i),Q(o,l,null),s(l,r),Q(a,l,null),f=!0},p(c,p){const _={};p[0]&8|p[3]&1024&&(_.$$scope={dirty:p,ctx:c}),n.$set(_);const b={};p[0]&8|p[3]&1024&&(b.$$scope={dirty:p,ctx:c}),o.$set(b);const v={};p[0]&8|p[3]&1024&&(v.$$scope={dirty:p,ctx:c}),a.$set(v)},i(c){f||(P(n.$$.fragment,c),P(o.$$.fragment,c),P(a.$$.fragment,c),f=!0)},o(c){A(n.$$.fragment,c),A(o.$$.fragment,c),A(a.$$.fragment,c),f=!1},d(c){c&&w(e),X(n),X(o),X(a)}}}function Yp(t){let e,l;return e=new pl({props:{color:"blue",text:"Upload CA",title:"Click here to upload CA"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Vp(t){let e,l;return e=new pl({props:{color:"green",text:"CA OK",title:"Click here to replace CA"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Kp(t){let e,l,n,i;const o=[Vp,Yp],r=[];function a(f,c){return f[3].q.s.c?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=Ke()},m(f,c){r[e].m(f,c),$(f,n,c),i=!0},p(f,c){let p=e;e=a(f),e!==p&&(Me(),A(r[p],1,1,()=>{r[p]=null}),De(),l=r[e],l||(l=r[e]=o[e](f),l.c()),P(l,1),l.m(n.parentNode,n))},i(f){i||(P(l),i=!0)},o(f){A(l),i=!1},d(f){r[e].d(f),f&&w(n)}}}function Qp(t){let e,l;return e=new pl({props:{color:"blue",text:"Upload cert",title:"Click here to upload certificate"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Xp(t){let e,l;return e=new pl({props:{color:"green",text:"Cert OK",title:"Click here to replace certificate"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Zp(t){let e,l,n,i;const o=[Xp,Qp],r=[];function a(f,c){return f[3].q.s.r?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=Ke()},m(f,c){r[e].m(f,c),$(f,n,c),i=!0},p(f,c){let p=e;e=a(f),e!==p&&(Me(),A(r[p],1,1,()=>{r[p]=null}),De(),l=r[e],l||(l=r[e]=o[e](f),l.c()),P(l,1),l.m(n.parentNode,n))},i(f){i||(P(l),i=!0)},o(f){A(l),i=!1},d(f){r[e].d(f),f&&w(n)}}}function Jp(t){let e,l;return e=new pl({props:{color:"blue",text:"Upload key",title:"Click here to upload key"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function xp(t){let e,l;return e=new pl({props:{color:"green",text:"Key OK",title:"Click here to replace key"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function e0(t){let e,l,n,i;const o=[xp,Jp],r=[];function a(f,c){return f[3].q.s.k?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=Ke()},m(f,c){r[e].m(f,c),$(f,n,c),i=!0},p(f,c){let p=e;e=a(f),e!==p&&(Me(),A(r[p],1,1,()=>{r[p]=null}),De(),l=r[e],l||(l=r[e]=o[e](f),l.c()),P(l,1),l.m(n.parentNode,n))},i(f){i||(P(l),i=!0)},o(f){A(l),i=!1},d(f){r[e].d(f),f&&w(n)}}}function rf(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C,T,N,I,S,D,E,F,B,Y,z,U,G,L,O,W;return o=new jt({}),{c(){e=m("div"),l=m("strong"),l.textContent="Domoticz",n=h(),i=m("a"),J(o.$$.fragment),r=h(),a=m("input"),f=h(),c=m("div"),p=m("div"),_=y("Electricity IDX"),b=m("br"),v=h(),d=m("input"),g=h(),k=m("div"),C=y("Current IDX"),T=m("br"),N=h(),I=m("input"),S=h(),D=m("div"),E=y(`Voltage IDX: L1, L2 & L3
                `),F=m("div"),B=m("input"),Y=h(),z=m("input"),U=h(),G=m("input"),u(l,"class","text-sm"),u(i,"href",Wt("MQTT-configuration#domoticz")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","o"),a.value="true",u(d,"name","oe"),u(d,"type","text"),u(d,"class","in-f tr w-full"),u(p,"class","w-1/2"),u(I,"name","oc"),u(I,"type","text"),u(I,"class","in-l tr w-full"),u(k,"class","w-1/2"),u(c,"class","my-1 flex"),u(B,"name","ou1"),u(B,"type","text"),u(B,"class","in-f tr w-1/3"),u(z,"name","ou2"),u(z,"type","text"),u(z,"class","in-m tr w-1/3"),u(G,"name","ou3"),u(G,"type","text"),u(G,"class","in-l tr w-1/3"),u(F,"class","flex"),u(D,"class","my-1"),u(e,"class","cnt")},m(R,q){$(R,e,q),s(e,l),s(e,n),s(e,i),Q(o,i,null),s(e,r),s(e,a),s(e,f),s(e,c),s(c,p),s(p,_),s(p,b),s(p,v),s(p,d),V(d,t[3].o.e),s(c,g),s(c,k),s(k,C),s(k,T),s(k,N),s(k,I),V(I,t[3].o.c),s(e,S),s(e,D),s(D,E),s(D,F),s(F,B),V(B,t[3].o.u1),s(F,Y),s(F,z),V(z,t[3].o.u2),s(F,U),s(F,G),V(G,t[3].o.u3),L=!0,O||(W=[K(d,"input",t[60]),K(I,"input",t[61]),K(B,"input",t[62]),K(z,"input",t[63]),K(G,"input",t[64])],O=!0)},p(R,q){q[0]&8&&d.value!==R[3].o.e&&V(d,R[3].o.e),q[0]&8&&I.value!==R[3].o.c&&V(I,R[3].o.c),q[0]&8&&B.value!==R[3].o.u1&&V(B,R[3].o.u1),q[0]&8&&z.value!==R[3].o.u2&&V(z,R[3].o.u2),q[0]&8&&G.value!==R[3].o.u3&&V(G,R[3].o.u3)},i(R){L||(P(o.$$.fragment,R),L=!0)},o(R){A(o.$$.fragment,R),L=!1},d(R){R&&w(e),X(o),O=!1,st(W)}}}function af(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C,T,N,I,S,D,E,F,B,Y,z,U,G;return o=new jt({}),{c(){e=m("div"),l=m("strong"),l.textContent="Home-Assistant",n=h(),i=m("a"),J(o.$$.fragment),r=h(),a=m("input"),f=h(),c=m("div"),p=y("Discovery topic prefix"),_=m("br"),b=h(),v=m("input"),d=h(),g=m("div"),k=y("Hostname for URL"),C=m("br"),T=h(),N=m("input"),S=h(),D=m("div"),E=y("Name tag"),F=m("br"),B=h(),Y=m("input"),u(l,"class","text-sm"),u(i,"href",Wt("MQTT-configuration#home-assistant")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","h"),a.value="true",u(v,"name","ht"),u(v,"type","text"),u(v,"class","in-s"),u(v,"placeholder","homeassistant"),u(c,"class","my-1"),u(N,"name","hh"),u(N,"type","text"),u(N,"class","in-s"),u(N,"placeholder",I=t[3].g.h+".local"),u(g,"class","my-1"),u(Y,"name","hn"),u(Y,"type","text"),u(Y,"class","in-s"),u(D,"class","my-1"),u(e,"class","cnt")},m(L,O){$(L,e,O),s(e,l),s(e,n),s(e,i),Q(o,i,null),s(e,r),s(e,a),s(e,f),s(e,c),s(c,p),s(c,_),s(c,b),s(c,v),V(v,t[3].h.t),s(e,d),s(e,g),s(g,k),s(g,C),s(g,T),s(g,N),V(N,t[3].h.h),s(e,S),s(e,D),s(D,E),s(D,F),s(D,B),s(D,Y),V(Y,t[3].h.n),z=!0,U||(G=[K(v,"input",t[65]),K(N,"input",t[66]),K(Y,"input",t[67])],U=!0)},p(L,O){O[0]&8&&v.value!==L[3].h.t&&V(v,L[3].h.t),(!z||O[0]&8&&I!==(I=L[3].g.h+".local"))&&u(N,"placeholder",I),O[0]&8&&N.value!==L[3].h.h&&V(N,L[3].h.h),O[0]&8&&Y.value!==L[3].h.n&&V(Y,L[3].h.n)},i(L){z||(P(o.$$.fragment,L),z=!0)},o(L){A(o.$$.fragment,L),z=!1},d(L){L&&w(e),X(o),U=!1,st(G)}}}function ff(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C,T,N;o=new jt({});let I={length:9},S=[];for(let D=0;D<I.length;D+=1)S[D]=cf(Ja(t,I,D));return{c(){e=m("div"),l=m("strong"),l.textContent="Tariff thresholds",n=h(),i=m("a"),J(o.$$.fragment),r=h(),a=m("input"),f=h(),c=m("div");for(let D=0;D<S.length;D+=1)S[D].c();p=h(),_=m("label"),b=m("span"),b.textContent="Average of",v=h(),d=m("input"),g=h(),k=m("span"),k.textContent="hours",u(l,"class","text-sm"),u(i,"href",Wt("Threshold-configuration")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","t"),a.value="true",u(c,"class","flex flex-wrap my-1"),u(b,"class","in-pre"),u(d,"name","th"),u(d,"type","number"),u(d,"min","0"),u(d,"max","255"),u(d,"class","in-txt tr w-full"),u(k,"class","in-post"),u(_,"class","flex m-1"),u(e,"class","cnt")},m(D,E){$(D,e,E),s(e,l),s(e,n),s(e,i),Q(o,i,null),s(e,r),s(e,a),s(e,f),s(e,c);for(let F=0;F<S.length;F+=1)S[F]&&S[F].m(c,null);s(e,p),s(e,_),s(_,b),s(_,v),s(_,d),V(d,t[3].t.h),s(_,g),s(_,k),C=!0,T||(N=K(d,"input",t[69]),T=!0)},p(D,E){if(E[0]&8){I={length:9};let F;for(F=0;F<I.length;F+=1){const B=Ja(D,I,F);S[F]?S[F].p(B,E):(S[F]=cf(B),S[F].c(),S[F].m(c,null))}for(;F<S.length;F+=1)S[F].d(1);S.length=I.length}E[0]&8&&re(d.value)!==D[3].t.h&&V(d,D[3].t.h)},i(D){C||(P(o.$$.fragment,D),C=!0)},o(D){A(o.$$.fragment,D),C=!1},d(D){D&&w(e),X(o),_l(S,D),T=!1,N()}}}function cf(t){let e,l,n=t[96]+1+"",i,o,r,a,f,c,p,_;function b(){t[68].call(r,t[96])}return{c(){e=m("label"),l=m("span"),i=y(n),o=h(),r=m("input"),a=h(),f=m("span"),f.textContent="kWh",c=h(),u(l,"class","in-pre"),u(r,"name","t"+t[96]),u(r,"type","number"),u(r,"min","0"),u(r,"max","65535"),u(r,"class","in-txt w-full"),u(f,"class","in-post"),u(e,"class","flex w-40 m-1")},m(v,d){$(v,e,d),s(e,l),s(l,i),s(e,o),s(e,r),V(r,t[3].t.t[t[96]]),s(e,a),s(e,f),s(e,c),p||(_=K(r,"input",b),p=!0)},p(v,d){t=v,d[0]&8&&re(r.value)!==t[3].t.t[t[96]]&&V(r,t[3].t.t[t[96]])},d(v){v&&w(e),p=!1,_()}}}function mf(t){let e,l=t[91].name+"",n,i,o,r,a,f,c,p,_,b;function v(){t[70].call(r,t[91])}return{c(){e=m("div"),n=y(l),i=m("br"),o=h(),r=m("select"),a=m("option"),a.textContent="Hide",f=m("option"),f.textContent="Show",c=m("option"),c.textContent="Dynamic",p=h(),a.__value=0,a.value=a.__value,f.__value=1,f.value=f.__value,c.__value=2,c.value=c.__value,u(r,"name","u"+t[91].key),u(r,"class","in-s"),t[3].u[t[91].key]===void 0&&ot(v),u(e,"class","w-1/2")},m(d,g){$(d,e,g),s(e,n),s(e,i),s(e,o),s(e,r),s(r,a),s(r,f),s(r,c),Oe(r,t[3].u[t[91].key],!0),s(e,p),_||(b=K(r,"change",v),_=!0)},p(d,g){t=d,g[0]&136&&Oe(r,t[3].u[t[91].key])},d(d){d&&w(e),_=!1,b()}}}function pf(t){let e,l,n,i,o,r,a,f;o=new jt({});let c=t[0].board>20&&_f(t),p=t[0].chip=="esp8266"&&hf(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Hardware",n=h(),i=m("a"),J(o.$$.fragment),r=h(),c&&c.c(),a=h(),p&&p.c(),u(l,"class","text-sm"),u(i,"href",Wt("GPIO-configuration")),u(i,"target","_blank"),u(i,"class","float-right"),u(e,"class","cnt")},m(_,b){$(_,e,b),s(e,l),s(e,n),s(e,i),Q(o,i,null),s(e,r),c&&c.m(e,null),s(e,a),p&&p.m(e,null),f=!0},p(_,b){_[0].board>20?c?(c.p(_,b),b[0]&1&&P(c,1)):(c=_f(_),c.c(),P(c,1),c.m(e,a)):c&&(Me(),A(c,1,1,()=>{c=null}),De()),_[0].chip=="esp8266"?p?p.p(_,b):(p=hf(_),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i(_){f||(P(o.$$.fragment,_),P(c),f=!0)},o(_){A(o.$$.fragment,_),A(c),f=!1},d(_){_&&w(e),X(o),c&&c.d(),p&&p.d()}}}function _f(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C,T,N,I,S,D,E,F,B,Y,z,U,G,L,O,W,R,q,H,te,le,pe,ne,Ce,We,Ae,Be,be,me,Ee,Ie,ce,we,x,ve,lt,nt,Fe,Je,Qe,qe,ze,Xe;b=new Lc({props:{chip:t[0].chip}});let Le=t[0].chip!="esp8266"&&df(t),Te=t[3].i.v.p>0&&vf(t);return{c(){e=m("input"),l=h(),n=m("div"),i=m("div"),o=y("HAN"),r=m("label"),a=m("input"),f=y(" pullup"),c=m("br"),p=h(),_=m("select"),J(b.$$.fragment),v=h(),d=m("div"),g=y("AP button"),k=m("br"),C=h(),T=m("input"),N=h(),I=m("div"),S=y("LED"),D=m("label"),E=m("input"),F=y(" inv"),B=m("br"),Y=h(),z=m("div"),U=m("input"),G=h(),L=m("div"),O=y("RGB"),W=m("label"),R=m("input"),q=y(" inverted"),H=m("br"),te=h(),le=m("div"),pe=m("input"),ne=h(),Ce=m("input"),We=h(),Ae=m("input"),Be=h(),be=m("div"),me=y("Temperature"),Ee=m("br"),Ie=h(),ce=m("input"),we=h(),x=m("div"),ve=y("Analog temp"),lt=m("br"),nt=h(),Fe=m("input"),Je=h(),Le&&Le.c(),Qe=h(),Te&&Te.c(),u(e,"type","hidden"),u(e,"name","i"),e.value="true",u(a,"name","ihu"),a.__value="true",a.value=a.__value,u(a,"type","checkbox"),u(a,"class","rounded mb-1"),u(r,"class","ml-2"),u(_,"name","ihp"),u(_,"class","in-f w-full"),t[3].i.h.p===void 0&&ot(()=>t[72].call(_)),u(i,"class","w-1/3"),u(T,"name","ia"),u(T,"type","number"),u(T,"min","0"),u(T,"max",t[6]),u(T,"class","in-m tr w-full"),u(d,"class","w-1/3"),u(E,"name","ili"),E.__value="true",E.value=E.__value,u(E,"type","checkbox"),u(E,"class","rounded mb-1"),u(D,"class","ml-4"),u(U,"name","ilp"),u(U,"type","number"),u(U,"min","0"),u(U,"max",t[6]),u(U,"class","in-l tr w-full"),u(z,"class","flex"),u(I,"class","w-1/3"),u(R,"name","iri"),R.__value="true",R.value=R.__value,u(R,"type","checkbox"),u(R,"class","rounded mb-1"),u(W,"class","ml-4"),u(pe,"name","irr"),u(pe,"type","number"),u(pe,"min","0"),u(pe,"max",t[6]),u(pe,"class","in-f tr w-1/3"),u(Ce,"name","irg"),u(Ce,"type","number"),u(Ce,"min","0"),u(Ce,"max",t[6]),u(Ce,"class","in-m tr w-1/3"),u(Ae,"name","irb"),u(Ae,"type","number"),u(Ae,"min","0"),u(Ae,"max",t[6]),u(Ae,"class","in-l tr w-1/3"),u(le,"class","flex"),u(L,"class","w-full"),u(ce,"name","itd"),u(ce,"type","number"),u(ce,"min","0"),u(ce,"max",t[6]),u(ce,"class","in-f tr w-full"),u(be,"class","my-1 w-1/3"),u(Fe,"name","ita"),u(Fe,"type","number"),u(Fe,"min","0"),u(Fe,"max",t[6]),u(Fe,"class","in-l tr w-full"),u(x,"class","my-1 pr-1 w-1/3"),u(n,"class","flex flex-wrap")},m(se,he){$(se,e,he),$(se,l,he),$(se,n,he),s(n,i),s(i,o),s(i,r),s(r,a),a.checked=t[3].i.h.u,s(r,f),s(i,c),s(i,p),s(i,_),Q(b,_,null),Oe(_,t[3].i.h.p,!0),s(n,v),s(n,d),s(d,g),s(d,k),s(d,C),s(d,T),V(T,t[3].i.a),s(n,N),s(n,I),s(I,S),s(I,D),s(D,E),E.checked=t[3].i.l.i,s(D,F),s(I,B),s(I,Y),s(I,z),s(z,U),V(U,t[3].i.l.p),s(n,G),s(n,L),s(L,O),s(L,W),s(W,R),R.checked=t[3].i.r.i,s(W,q),s(L,H),s(L,te),s(L,le),s(le,pe),V(pe,t[3].i.r.r),s(le,ne),s(le,Ce),V(Ce,t[3].i.r.g),s(le,We),s(le,Ae),V(Ae,t[3].i.r.b),s(n,Be),s(n,be),s(be,me),s(be,Ee),s(be,Ie),s(be,ce),V(ce,t[3].i.t.d),s(n,we),s(n,x),s(x,ve),s(x,lt),s(x,nt),s(x,Fe),V(Fe,t[3].i.t.a),s(n,Je),Le&&Le.m(n,null),s(n,Qe),Te&&Te.m(n,null),qe=!0,ze||(Xe=[K(a,"change",t[71]),K(_,"change",t[72]),K(T,"input",t[73]),K(E,"change",t[74]),K(U,"input",t[75]),K(R,"change",t[76]),K(pe,"input",t[77]),K(Ce,"input",t[78]),K(Ae,"input",t[79]),K(ce,"input",t[80]),K(Fe,"input",t[81])],ze=!0)},p(se,he){he[0]&8&&(a.checked=se[3].i.h.u);const gt={};he[0]&1&&(gt.chip=se[0].chip),b.$set(gt),he[0]&8&&Oe(_,se[3].i.h.p),(!qe||he[0]&64)&&u(T,"max",se[6]),he[0]&8&&re(T.value)!==se[3].i.a&&V(T,se[3].i.a),he[0]&8&&(E.checked=se[3].i.l.i),(!qe||he[0]&64)&&u(U,"max",se[6]),he[0]&8&&re(U.value)!==se[3].i.l.p&&V(U,se[3].i.l.p),he[0]&8&&(R.checked=se[3].i.r.i),(!qe||he[0]&64)&&u(pe,"max",se[6]),he[0]&8&&re(pe.value)!==se[3].i.r.r&&V(pe,se[3].i.r.r),(!qe||he[0]&64)&&u(Ce,"max",se[6]),he[0]&8&&re(Ce.value)!==se[3].i.r.g&&V(Ce,se[3].i.r.g),(!qe||he[0]&64)&&u(Ae,"max",se[6]),he[0]&8&&re(Ae.value)!==se[3].i.r.b&&V(Ae,se[3].i.r.b),(!qe||he[0]&64)&&u(ce,"max",se[6]),he[0]&8&&re(ce.value)!==se[3].i.t.d&&V(ce,se[3].i.t.d),(!qe||he[0]&64)&&u(Fe,"max",se[6]),he[0]&8&&re(Fe.value)!==se[3].i.t.a&&V(Fe,se[3].i.t.a),se[0].chip!="esp8266"?Le?Le.p(se,he):(Le=df(se),Le.c(),Le.m(n,Qe)):Le&&(Le.d(1),Le=null),se[3].i.v.p>0?Te?Te.p(se,he):(Te=vf(se),Te.c(),Te.m(n,null)):Te&&(Te.d(1),Te=null)},i(se){qe||(P(b.$$.fragment,se),qe=!0)},o(se){A(b.$$.fragment,se),qe=!1},d(se){se&&w(e),se&&w(l),se&&w(n),X(b),Le&&Le.d(),Te&&Te.d(),ze=!1,st(Xe)}}}function df(t){let e,l,n,i,o,r,a;return{c(){e=m("div"),l=y("Vcc"),n=m("br"),i=h(),o=m("input"),u(o,"name","ivp"),u(o,"type","number"),u(o,"min","0"),u(o,"max",t[6]),u(o,"class","in-s tr w-full"),u(e,"class","my-1 pl-1 w-1/3")},m(f,c){$(f,e,c),s(e,l),s(e,n),s(e,i),s(e,o),V(o,t[3].i.v.p),r||(a=K(o,"input",t[82]),r=!0)},p(f,c){c[0]&64&&u(o,"max",f[6]),c[0]&8&&re(o.value)!==f[3].i.v.p&&V(o,f[3].i.v.p)},d(f){f&&w(e),r=!1,a()}}}function vf(t){let e,l,n,i,o,r,a,f,c,p;return{c(){e=m("div"),l=y("Voltage divider"),n=m("br"),i=h(),o=m("div"),r=m("input"),a=h(),f=m("input"),u(r,"name","ivdv"),u(r,"type","number"),u(r,"min","0"),u(r,"max","65535"),u(r,"class","in-f tr w-full"),u(r,"placeholder","VCC"),u(f,"name","ivdg"),u(f,"type","number"),u(f,"min","0"),u(f,"max","65535"),u(f,"class","in-l tr w-full"),u(f,"placeholder","GND"),u(o,"class","flex"),u(e,"class","my-1")},m(_,b){$(_,e,b),s(e,l),s(e,n),s(e,i),s(e,o),s(o,r),V(r,t[3].i.v.d.v),s(o,a),s(o,f),V(f,t[3].i.v.d.g),c||(p=[K(r,"input",t[83]),K(f,"input",t[84])],c=!0)},p(_,b){b[0]&8&&re(r.value)!==_[3].i.v.d.v&&V(r,_[3].i.v.d.v),b[0]&8&&re(f.value)!==_[3].i.v.d.g&&V(f,_[3].i.v.d.g)},d(_){_&&w(e),c=!1,st(p)}}}function hf(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C,T=(t[0].board==2||t[0].board==100)&&bf(t);return{c(){e=m("input"),l=h(),n=m("div"),i=m("div"),o=y("Vcc offset"),r=m("br"),a=h(),f=m("input"),c=h(),p=m("div"),_=y("Multiplier"),b=m("br"),v=h(),d=m("input"),g=h(),T&&T.c(),u(e,"type","hidden"),u(e,"name","iv"),e.value="true",u(f,"name","ivo"),u(f,"type","number"),u(f,"min","0.0"),u(f,"max","3.5"),u(f,"step","0.01"),u(f,"class","in-f tr w-full"),u(i,"class","w-1/3"),u(d,"name","ivm"),u(d,"type","number"),u(d,"min","0.1"),u(d,"max","10"),u(d,"step","0.01"),u(d,"class","in-l tr w-full"),u(p,"class","w-1/3 pr-1"),u(n,"class","my-1 flex flex-wrap")},m(N,I){$(N,e,I),$(N,l,I),$(N,n,I),s(n,i),s(i,o),s(i,r),s(i,a),s(i,f),V(f,t[3].i.v.o),s(n,c),s(n,p),s(p,_),s(p,b),s(p,v),s(p,d),V(d,t[3].i.v.m),s(n,g),T&&T.m(n,null),k||(C=[K(f,"input",t[85]),K(d,"input",t[86])],k=!0)},p(N,I){I[0]&8&&re(f.value)!==N[3].i.v.o&&V(f,N[3].i.v.o),I[0]&8&&re(d.value)!==N[3].i.v.m&&V(d,N[3].i.v.m),N[0].board==2||N[0].board==100?T?T.p(N,I):(T=bf(N),T.c(),T.m(n,null)):T&&(T.d(1),T=null)},d(N){N&&w(e),N&&w(l),N&&w(n),T&&T.d(),k=!1,st(C)}}}function bf(t){let e,l,n,i,o,r,a;return{c(){e=m("div"),l=y("Boot limit"),n=m("br"),i=h(),o=m("input"),u(o,"name","ivb"),u(o,"type","number"),u(o,"min","2.5"),u(o,"max","3.5"),u(o,"step","0.1"),u(o,"class","in-s tr w-full"),u(e,"class","w-1/3 pl-1")},m(f,c){$(f,e,c),s(e,l),s(e,n),s(e,i),s(e,o),V(o,t[3].i.v.b),r||(a=K(o,"input",t[87]),r=!0)},p(f,c){c[0]&8&&re(o.value)!==f[3].i.v.b&&V(o,f[3].i.v.b)},d(f){f&&w(e),r=!1,a()}}}function gf(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C=t[3].d.t&&kf();return{c(){e=m("div"),e.textContent="Debug can cause sudden reboots. Do not leave on!",l=h(),n=m("div"),i=m("label"),o=m("input"),r=y(" Enable telnet"),a=h(),C&&C.c(),f=h(),c=m("div"),p=m("select"),_=m("option"),_.textContent="Verbose",b=m("option"),b.textContent="Debug",v=m("option"),v.textContent="Info",d=m("option"),d.textContent="Warning",u(e,"class","bd-red"),u(o,"type","checkbox"),u(o,"name","dt"),o.__value="true",o.value=o.__value,u(o,"class","rounded mb-1"),u(n,"class","my-1"),_.__value=1,_.value=_.__value,b.__value=2,b.value=b.__value,v.__value=3,v.value=v.__value,d.__value=4,d.value=d.__value,u(p,"name","dl"),u(p,"class","in-s"),t[3].d.l===void 0&&ot(()=>t[90].call(p)),u(c,"class","my-1")},m(T,N){$(T,e,N),$(T,l,N),$(T,n,N),s(n,i),s(i,o),o.checked=t[3].d.t,s(i,r),$(T,a,N),C&&C.m(T,N),$(T,f,N),$(T,c,N),s(c,p),s(p,_),s(p,b),s(p,v),s(p,d),Oe(p,t[3].d.l,!0),g||(k=[K(o,"change",t[89]),K(p,"change",t[90])],g=!0)},p(T,N){N[0]&8&&(o.checked=T[3].d.t),T[3].d.t?C||(C=kf(),C.c(),C.m(f.parentNode,f)):C&&(C.d(1),C=null),N[0]&8&&Oe(p,T[3].d.l)},d(T){T&&w(e),T&&w(l),T&&w(n),T&&w(a),C&&C.d(T),T&&w(f),T&&w(c),g=!1,st(k)}}}function kf(t){let e;return{c(){e=m("div"),e.textContent="Telnet is unsafe and should be off when not in use",u(e,"class","bd-red")},m(l,n){$(l,e,n)},d(l){l&&w(e)}}}function t0(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C,T,N,I,S,D,E,F,B,Y,z,U,G,L,O,W,R,q,H,te,le,pe,ne,Ce,We,Ae,Be,be,me,Ee,Ie,ce,we,x,ve,lt,nt,Fe,Je,Qe,qe,ze,Xe,Le,Te,se,he,gt,xe,Mt,Ve,Bt,Ge,Ye,He,Se,ge,Pe,_e,Ne,Z,ue,et,oe,de,ql,Lt,an,Dt,Ni,Mi,Di,vl,Ai,Ei,Ii,At,Ze,hl,zt,ys,Fi,Re,fn,Ri,cn,mn,wo,ai,yo,il,Li,$o,$s,Co,fi,Yt,To,So,Nl,sl,Ml,Po,Ui,No,vt,Dl,Mo,Oi,pn,_n,dn,vn,qi,Do,Ut,Ao,Hl,Eo,Io,Fo,ol,hn,bn,Ro,gn,jl,Lo,Uo,Oo,kn,Vt,qo,Hi,Ho,Wl,jo,Wo,Go,wn,Kt,Bo,ji,zo,Cs,Yo,Gl,Wi,Qt,Vo,Ko,Qo,Ts,Gi,Xt,Xo,Zo,Jo,dt,Bi,xo,yn,$n,eu,ci,tu,Bl,lu,nu,iu,bl,su,zl,ou,uu,ru,gl,au,Cn,Yl,fu,cu,mu,Ot,Tn,Sn,Pn,Nn,pu,Vl,_u,du,vu,Mn,qt,hu,zi,bu,Yi,Vi,Zt,gu,ku,pt,Ki,wu,Dn,An,yu,Kl,$u,Cu,Tu,Al,ul,En,In,Su,Et,Qi,Xi,Pu,It,Fn,Zi,Ji,Nu,Ss,xi,es,Jt,Mu,Du,mi,Au,El,Eu,pi,xt,Iu,Fu,Ru,ts,kl,Lu,it,ls,Uu,Rn,Ln,Ou,_i,qu,rl,Hu,Ps,ju,Wu,Un,wl,Gu,el,Bu,Ns,Ql,zu,Yu,Vu,yl,Ku,Xl,Qu,Xu,Zu,$l,Ju,On,qn,xu,er,tr,Cl,lr,Hn,nr,ir,sr,kt,jn,Wn,Gn,Bn,zn,Yn,or,Zl,ur,rr,ar,Tl,fr,Ms,Ds,As=t[3].p.r.startsWith("10YNO")||t[3].p.r=="10Y1001A1001A48H",Es,al,ns,cr,Vn,Kn,mr,di,pr,vi,_r,Is,Ft,is,dr,Qn,Xn,vr,hi,hr,ss,os,tl,br,gr,kr,Il,Fs,Zn,wr,us,Jn,yr,rs,Rs,Jl,Ls,xl,Us,en,Os,tn,ll,qs,$r;a=new jt({}),F=new Hp({});let Oc=["NOK","SEK","DKK","EUR"],bi=[];for(let M=0;M<4;M+=1)bi[M]=Bp(Gp(t,Oc,M));let wt=t[3].p.e&&t[0].chip!="esp8266"&&xa(t),yt=t[3].g.s>0&&ef(t);mn=new jt({});let qc=[24,48,96,192,384,576,1152],gi=[];for(let M=0;M<7;M+=1)gi[M]=zp(Wp(t,qc,M));let $t=t[3].m.e.e&&tf(t),Ct=t[3].m.e.e&&lf(t),Tt=t[3].m.m.e&&nf(t);$n=new jt({}),An=new jt({}),Fn=new Uc({});let St=t[3].n.m=="static"&&sf(t);Ln=new jt({});let Pt=t[0].chip!="esp8266"&&of(t),ut=t[3].q.s.e&&uf(t),rt=t[3].q.m==3&&rf(t),at=t[3].q.m==4&&af(t),ft=As&&ff(t);Kn=new jt({});let xn=t[7],ht=[];for(let M=0;M<xn.length;M+=1)ht[M]=mf(Za(t,xn,M));let ct=(t[0].board>20||t[0].chip=="esp8266")&&pf(t);Xn=new jt({});let Nt=t[3].d.s&&gf(t);return Jl=new Rt({props:{active:t[1],message:"Loading configuration"}}),xl=new Rt({props:{active:t[2],message:"Saving configuration"}}),en=new Rt({props:{active:t[4],message:"Performing factory reset"}}),tn=new Rt({props:{active:t[5],message:"Device have been factory reset and switched to AP mode"}}),{c(){e=m("form"),l=m("div"),n=m("div"),i=m("strong"),i.textContent="General",o=h(),r=m("a"),J(a.$$.fragment),f=h(),c=m("input"),p=h(),_=m("div"),b=m("div"),v=m("div"),d=y("Hostname"),g=m("br"),k=h(),C=m("input"),T=h(),N=m("div"),I=y("Time zone"),S=m("br"),D=h(),E=m("select"),J(F.$$.fragment),B=h(),Y=m("input"),z=h(),U=m("div"),G=m("div"),L=m("div"),O=y("Price region"),W=m("br"),R=h(),q=m("select"),H=m("optgroup"),te=m("option"),te.textContent="NO1",le=m("option"),le.textContent="NO2",pe=m("option"),pe.textContent="NO3",ne=m("option"),ne.textContent="NO4",Ce=m("option"),Ce.textContent="NO5",We=m("optgroup"),Ae=m("option"),Ae.textContent="SE1",Be=m("option"),Be.textContent="SE2",be=m("option"),be.textContent="SE3",me=m("option"),me.textContent="SE4",Ee=m("optgroup"),Ie=m("option"),Ie.textContent="DK1",ce=m("option"),ce.textContent="DK2",we=m("option"),we.textContent="Austria",x=m("option"),x.textContent="Belgium",ve=m("option"),ve.textContent="Czech Republic",lt=m("option"),lt.textContent="Estonia",nt=m("option"),nt.textContent="Finland",Fe=m("option"),Fe.textContent="France",Je=m("option"),Je.textContent="Germany",Qe=m("option"),Qe.textContent="Great Britain",qe=m("option"),qe.textContent="Latvia",ze=m("option"),ze.textContent="Lithuania",Xe=m("option"),Xe.textContent="Netherland",Le=m("option"),Le.textContent="Poland",Te=m("option"),Te.textContent="Switzerland",se=h(),he=m("div"),gt=y("Currency"),xe=m("br"),Mt=h(),Ve=m("select");for(let M=0;M<4;M+=1)bi[M].c();Bt=h(),Ge=m("div"),Ye=m("div"),He=m("div"),Se=y("Fixed price"),ge=m("br"),Pe=h(),_e=m("input"),Ne=h(),Z=m("div"),ue=y("Multiplier"),et=m("br"),oe=h(),de=m("input"),ql=h(),Lt=m("div"),an=m("label"),Dt=m("input"),Ni=y(" Enable price fetch from remote server"),Mi=h(),wt&&wt.c(),Di=h(),vl=m("div"),Ai=y("Security"),Ei=m("br"),Ii=h(),At=m("select"),Ze=m("option"),Ze.textContent="None",hl=m("option"),hl.textContent="Only configuration",zt=m("option"),zt.textContent="Everything",ys=h(),yt&&yt.c(),Fi=h(),Re=m("div"),fn=m("strong"),fn.textContent="Meter",Ri=h(),cn=m("a"),J(mn.$$.fragment),wo=h(),ai=m("input"),yo=h(),il=m("div"),Li=m("span"),Li.textContent="Buffer size",$o=h(),$s=m("span"),$s.textContent="Serial conf.",Co=h(),fi=m("label"),Yt=m("input"),To=y(" inverted"),So=h(),Nl=m("div"),sl=m("select"),Ml=m("option"),Po=y("Autodetect");for(let M=0;M<7;M+=1)gi[M].c();No=h(),vt=m("select"),Dl=m("option"),Mo=y("-"),pn=m("option"),pn.textContent="7N1",_n=m("option"),_n.textContent="8N1",dn=m("option"),dn.textContent="7E1",vn=m("option"),vn.textContent="8E1",Do=h(),Ut=m("input"),Ao=h(),Hl=m("div"),Eo=y("Voltage"),Io=m("br"),Fo=h(),ol=m("select"),hn=m("option"),hn.textContent="400V (TN)",bn=m("option"),bn.textContent="230V (IT/TT)",Ro=h(),gn=m("div"),jl=m("div"),Lo=y("Main fuse"),Uo=m("br"),Oo=h(),kn=m("label"),Vt=m("input"),qo=h(),Hi=m("span"),Hi.textContent="A",Ho=h(),Wl=m("div"),jo=y("Production"),Wo=m("br"),Go=h(),wn=m("label"),Kt=m("input"),Bo=h(),ji=m("span"),ji.textContent="kWp",zo=h(),Cs=m("div"),Yo=h(),Gl=m("div"),Wi=m("label"),Qt=m("input"),Vo=y(" Meter is encrypted"),Ko=h(),$t&&$t.c(),Qo=h(),Ct&&Ct.c(),Ts=h(),Gi=m("label"),Xt=m("input"),Xo=y(" Multipliers"),Zo=h(),Tt&&Tt.c(),Jo=h(),dt=m("div"),Bi=m("strong"),Bi.textContent="WiFi",xo=h(),yn=m("a"),J($n.$$.fragment),eu=h(),ci=m("input"),tu=h(),Bl=m("div"),lu=y("SSID"),nu=m("br"),iu=h(),bl=m("input"),su=h(),zl=m("div"),ou=y("Password"),uu=m("br"),ru=h(),gl=m("input"),au=h(),Cn=m("div"),Yl=m("div"),fu=y("Power saving"),cu=m("br"),mu=h(),Ot=m("select"),Tn=m("option"),Tn.textContent="Default",Sn=m("option"),Sn.textContent="Off",Pn=m("option"),Pn.textContent="Minimum",Nn=m("option"),Nn.textContent="Maximum",pu=h(),Vl=m("div"),_u=y("Power"),du=m("br"),vu=h(),Mn=m("div"),qt=m("input"),hu=h(),zi=m("span"),zi.textContent="dBm",bu=h(),Yi=m("div"),Vi=m("label"),Zt=m("input"),gu=y(" Auto reboot on connection problem"),ku=h(),pt=m("div"),Ki=m("strong"),Ki.textContent="Network",wu=h(),Dn=m("a"),J(An.$$.fragment),yu=h(),Kl=m("div"),$u=y("IP"),Cu=m("br"),Tu=h(),Al=m("div"),ul=m("select"),En=m("option"),En.textContent="DHCP",In=m("option"),In.textContent="Static",Su=h(),Et=m("input"),Pu=h(),It=m("select"),J(Fn.$$.fragment),Nu=h(),St&&St.c(),Ss=h(),xi=m("div"),es=m("label"),Jt=m("input"),Mu=y(" enable mDNS"),Du=h(),mi=m("input"),Au=h(),El=m("div"),Eu=y("NTP "),pi=m("label"),xt=m("input"),Iu=y(" obtain from DHCP"),Fu=m("br"),Ru=h(),ts=m("div"),kl=m("input"),Lu=h(),it=m("div"),ls=m("strong"),ls.textContent="MQTT",Uu=h(),Rn=m("a"),J(Ln.$$.fragment),Ou=h(),_i=m("input"),qu=h(),rl=m("div"),Hu=y(`Server
                `),Pt&&Pt.c(),Ps=h(),ju=m("br"),Wu=h(),Un=m("div"),wl=m("input"),Gu=h(),el=m("input"),Bu=h(),ut&&ut.c(),Ns=h(),Ql=m("div"),zu=y("Username"),Yu=m("br"),Vu=h(),yl=m("input"),Ku=h(),Xl=m("div"),Qu=y("Password"),Xu=m("br"),Zu=h(),$l=m("input"),Ju=h(),On=m("div"),qn=m("div"),xu=y("Client ID"),er=m("br"),tr=h(),Cl=m("input"),lr=h(),Hn=m("div"),nr=y("Payload"),ir=m("br"),sr=h(),kt=m("select"),jn=m("option"),jn.textContent="JSON",Wn=m("option"),Wn.textContent="Raw (minimal)",Gn=m("option"),Gn.textContent="Raw (full)",Bn=m("option"),Bn.textContent="Domoticz",zn=m("option"),zn.textContent="HomeAssistant",Yn=m("option"),Yn.textContent="HEX dump",or=h(),Zl=m("div"),ur=y("Publish topic"),rr=m("br"),ar=h(),Tl=m("input"),fr=h(),rt&&rt.c(),Ms=h(),at&&at.c(),Ds=h(),ft&&ft.c(),Es=h(),al=m("div"),ns=m("strong"),ns.textContent="User interface",cr=h(),Vn=m("a"),J(Kn.$$.fragment),mr=h(),di=m("input"),pr=h(),vi=m("div");for(let M=0;M<ht.length;M+=1)ht[M].c();_r=h(),ct&&ct.c(),Is=h(),Ft=m("div"),is=m("strong"),is.textContent="Debugging",dr=h(),Qn=m("a"),J(Xn.$$.fragment),vr=h(),hi=m("input"),hr=h(),ss=m("div"),os=m("label"),tl=m("input"),br=y(" Enable debugging"),gr=h(),Nt&&Nt.c(),kr=h(),Il=m("div"),Fs=m("div"),Zn=m("button"),Zn.textContent="Factory reset",wr=h(),us=m("div"),Jn=m("button"),Jn.textContent="Reboot",yr=h(),rs=m("div"),rs.innerHTML='<button type="submit" class="btn-pri">Save</button>',Rs=h(),J(Jl.$$.fragment),Ls=h(),J(xl.$$.fragment),Us=h(),J(en.$$.fragment),Os=h(),J(tn.$$.fragment),u(i,"class","text-sm"),u(r,"href",Wt("General-configuration")),u(r,"target","_blank"),u(r,"class","float-right"),u(c,"type","hidden"),u(c,"name","g"),c.value="true",u(C,"name","gh"),u(C,"type","text"),u(C,"class","in-f w-full"),u(C,"pattern","[A-Za-z0-9-]+"),u(E,"name","gt"),u(E,"class","in-l w-full"),t[3].g.t===void 0&&ot(()=>t[13].call(E)),u(b,"class","flex"),u(_,"class","my-1"),u(Y,"type","hidden"),u(Y,"name","p"),Y.value="true",te.__value="10YNO-1--------2",te.value=te.__value,le.__value="10YNO-2--------T",le.value=le.__value,pe.__value="10YNO-3--------J",pe.value=pe.__value,ne.__value="10YNO-4--------9",ne.value=ne.__value,Ce.__value="10Y1001A1001A48H",Ce.value=Ce.__value,u(H,"label","Norway"),Ae.__value="10Y1001A1001A44P",Ae.value=Ae.__value,Be.__value="10Y1001A1001A45N",Be.value=Be.__value,be.__value="10Y1001A1001A46L",be.value=be.__value,me.__value="10Y1001A1001A47J",me.value=me.__value,u(We,"label","Sweden"),Ie.__value="10YDK-1--------W",Ie.value=Ie.__value,ce.__value="10YDK-2--------M",ce.value=ce.__value,u(Ee,"label","Denmark"),we.__value="10YAT-APG------L",we.value=we.__value,x.__value="10YBE----------2",x.value=x.__value,ve.__value="10YCZ-CEPS-----N",ve.value=ve.__value,lt.__value="10Y1001A1001A39I",lt.value=lt.__value,nt.__value="10YFI-1--------U",nt.value=nt.__value,Fe.__value="10YFR-RTE------C",Fe.value=Fe.__value,Je.__value="10Y1001A1001A83F",Je.value=Je.__value,Qe.__value="10YGB----------A",Qe.value=Qe.__value,qe.__value="10YLV-1001A00074",qe.value=qe.__value,ze.__value="10YLT-1001A0008Q",ze.value=ze.__value,Xe.__value="10YNL----------L",Xe.value=Xe.__value,Le.__value="10YPL-AREA-----S",Le.value=Le.__value,Te.__value="10YCH-SWISSGRIDZ",Te.value=Te.__value,u(q,"name","pr"),u(q,"class","in-f w-full"),t[3].p.r===void 0&&ot(()=>t[14].call(q)),u(L,"class","w-full"),u(Ve,"name","pc"),u(Ve,"class","in-l"),t[3].p.c===void 0&&ot(()=>t[15].call(Ve)),u(G,"class","flex"),u(U,"class","my-1"),u(_e,"name","pf"),u(_e,"type","number"),u(_e,"min","0.001"),u(_e,"max","65"),u(_e,"step","0.001"),u(_e,"class","in-f tr w-full"),u(He,"class","w-1/2"),u(de,"name","pm"),u(de,"type","number"),u(de,"min","0.001"),u(de,"max","1000"),u(de,"step","0.001"),u(de,"class","in-l tr w-full"),u(Z,"class","w-1/2"),u(Ye,"class","flex"),u(Ge,"class","my-1"),u(Dt,"type","checkbox"),u(Dt,"name","pe"),Dt.__value="true",Dt.value=Dt.__value,u(Dt,"class","rounded mb-1"),u(Lt,"class","my-1"),Ze.__value=0,Ze.value=Ze.__value,hl.__value=1,hl.value=hl.__value,zt.__value=2,zt.value=zt.__value,u(At,"name","gs"),u(At,"class","in-s"),t[3].g.s===void 0&&ot(()=>t[20].call(At)),u(vl,"class","my-1"),u(n,"class","cnt"),u(fn,"class","text-sm"),u(cn,"href",Wt("Meter-configuration")),u(cn,"target","_blank"),u(cn,"class","float-right"),u(ai,"type","hidden"),u(ai,"name","m"),ai.value="true",u(Li,"class","float-right"),u(Yt,"name","mi"),Yt.__value="true",Yt.value=Yt.__value,u(Yt,"type","checkbox"),u(Yt,"class","rounded mb-1"),u(fi,"class","mt-2 ml-3 whitespace-nowrap"),Ml.__value=0,Ml.value=Ml.__value,Ml.disabled=Ui=t[3].m.b!=0,u(sl,"name","mb"),u(sl,"class","in-f tr w-1/2"),t[3].m.b===void 0&&ot(()=>t[24].call(sl)),Dl.__value=0,Dl.value=Dl.__value,Dl.disabled=Oi=t[3].m.b!=0,pn.__value=2,pn.value=pn.__value,_n.__value=3,_n.value=_n.__value,dn.__value=10,dn.value=dn.__value,vn.__value=11,vn.value=vn.__value,u(vt,"name","mp"),u(vt,"class","in-m"),vt.disabled=qi=t[3].m.b==0,t[3].m.p===void 0&&ot(()=>t[25].call(vt)),u(Ut,"name","ms"),u(Ut,"type","number"),u(Ut,"min",64),u(Ut,"max",4096),u(Ut,"step",64),u(Ut,"class","in-l tr w-1/2"),u(Nl,"class","flex w-full"),u(il,"class","my-1"),hn.__value=2,hn.value=hn.__value,bn.__value=1,bn.value=bn.__value,u(ol,"name","md"),u(ol,"class","in-s"),t[3].m.d===void 0&&ot(()=>t[27].call(ol)),u(Hl,"class","my-1"),u(Vt,"name","mf"),u(Vt,"type","number"),u(Vt,"min","5"),u(Vt,"max","65535"),u(Vt,"class","in-f tr w-full"),u(Hi,"class","in-post"),u(kn,"class","flex"),u(jl,"class","mx-1"),u(Kt,"name","mr"),u(Kt,"type","number"),u(Kt,"min","0"),u(Kt,"max","65535"),u(Kt,"class","in-f tr w-full"),u(ji,"class","in-post"),u(wn,"class","flex"),u(Wl,"class","mx-1"),u(gn,"class","my-1 flex"),u(Cs,"class","my-1"),u(Qt,"type","checkbox"),u(Qt,"name","me"),Qt.__value="true",Qt.value=Qt.__value,u(Qt,"class","rounded mb-1"),u(Gl,"class","my-1"),u(Xt,"type","checkbox"),u(Xt,"name","mm"),Xt.__value="true",Xt.value=Xt.__value,u(Xt,"class","rounded mb-1"),u(Re,"class","cnt"),u(Bi,"class","text-sm"),u(yn,"href",Wt("WiFi-configuration")),u(yn,"target","_blank"),u(yn,"class","float-right"),u(ci,"type","hidden"),u(ci,"name","w"),ci.value="true",u(bl,"name","ws"),u(bl,"type","text"),u(bl,"class","in-s"),u(Bl,"class","my-1"),u(gl,"name","wp"),u(gl,"type","password"),u(gl,"class","in-s"),u(zl,"class","my-1"),Tn.__value=255,Tn.value=Tn.__value,Sn.__value=0,Sn.value=Sn.__value,Pn.__value=1,Pn.value=Pn.__value,Nn.__value=2,Nn.value=Nn.__value,u(Ot,"name","wz"),u(Ot,"class","in-s"),t[3].w.z===void 0&&ot(()=>t[40].call(Ot)),u(Yl,"class","w-1/2"),u(qt,"name","ww"),u(qt,"type","number"),u(qt,"min","0"),u(qt,"max","20.5"),u(qt,"step","0.5"),u(qt,"class","in-f tr w-full"),u(zi,"class","in-post"),u(Mn,"class","flex"),u(Vl,"class","ml-2 w-1/2"),u(Cn,"class","my-1 flex"),u(Zt,"type","checkbox"),u(Zt,"name","wa"),Zt.__value="true",Zt.value=Zt.__value,u(Zt,"class","rounded mb-1"),u(Yi,"class","my-3"),u(dt,"class","cnt"),u(Ki,"class","text-sm"),u(Dn,"href",Wt("Network-configuration")),u(Dn,"target","_blank"),u(Dn,"class","float-right"),En.__value="dhcp",En.value=En.__value,In.__value="static",In.value=In.__value,u(ul,"name","nm"),u(ul,"class","in-f"),t[3].n.m===void 0&&ot(()=>t[43].call(ul)),u(Et,"name","ni"),u(Et,"type","text"),u(Et,"class","in-m w-full"),Et.disabled=Qi=t[3].n.m=="dhcp",Et.required=Xi=t[3].n.m=="static",u(It,"name","ns"),u(It,"class","in-l"),It.disabled=Zi=t[3].n.m=="dhcp",It.required=Ji=t[3].n.m=="static",t[3].n.s===void 0&&ot(()=>t[45].call(It)),u(Al,"class","flex"),u(Kl,"class","my-1"),u(Jt,"name","nd"),Jt.__value="true",Jt.value=Jt.__value,u(Jt,"type","checkbox"),u(Jt,"class","rounded mb-1"),u(xi,"class","my-1"),u(mi,"type","hidden"),u(mi,"name","ntp"),mi.value="true",u(xt,"name","ntpd"),xt.__value="true",xt.value=xt.__value,u(xt,"type","checkbox"),u(xt,"class","rounded mb-1"),u(pi,"class","ml-4"),u(kl,"name","ntph"),u(kl,"type","text"),u(kl,"class","in-s"),u(ts,"class","flex"),u(El,"class","my-1"),u(pt,"class","cnt"),u(ls,"class","text-sm"),u(Rn,"href",Wt("MQTT-configuration")),u(Rn,"target","_blank"),u(Rn,"class","float-right"),u(_i,"type","hidden"),u(_i,"name","q"),_i.value="true",u(wl,"name","qh"),u(wl,"type","text"),u(wl,"class","in-f w-3/4"),u(el,"name","qp"),u(el,"type","number"),u(el,"min","1024"),u(el,"max","65535"),u(el,"class","in-l tr w-1/4"),u(Un,"class","flex"),u(rl,"class","my-1"),u(yl,"name","qu"),u(yl,"type","text"),u(yl,"class","in-s"),u(Ql,"class","my-1"),u($l,"name","qa"),u($l,"type","password"),u($l,"class","in-s"),u(Xl,"class","my-1"),u(Cl,"name","qc"),u(Cl,"type","text"),u(Cl,"class","in-f w-full"),jn.__value=0,jn.value=jn.__value,Wn.__value=1,Wn.value=Wn.__value,Gn.__value=2,Gn.value=Gn.__value,Bn.__value=3,Bn.value=Bn.__value,zn.__value=4,zn.value=zn.__value,Yn.__value=255,Yn.value=Yn.__value,u(kt,"name","qm"),u(kt,"class","in-l"),t[3].q.m===void 0&&ot(()=>t[58].call(kt)),u(On,"class","my-1 flex"),u(Tl,"name","qb"),u(Tl,"type","text"),u(Tl,"class","in-s"),u(Zl,"class","my-1"),u(it,"class","cnt"),u(ns,"class","text-sm"),u(Vn,"href",Wt("User-interface")),u(Vn,"target","_blank"),u(Vn,"class","float-right"),u(di,"type","hidden"),u(di,"name","u"),di.value="true",u(vi,"class","flex flex-wrap"),u(al,"class","cnt"),u(is,"class","text-sm"),u(Qn,"href","https://amsleser.no/blog/post/24-telnet-debug"),u(Qn,"target","_blank"),u(Qn,"class","float-right"),u(hi,"type","hidden"),u(hi,"name","d"),hi.value="true",u(tl,"type","checkbox"),u(tl,"name","ds"),tl.__value="true",tl.value=tl.__value,u(tl,"class","rounded mb-1"),u(ss,"class","mt-3"),u(Ft,"class","cnt"),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(Zn,"type","button"),u(Zn,"class","py-2 px-4 rounded bg-red-500 text-white ml-2"),u(Jn,"type","button"),u(Jn,"class","py-2 px-4 rounded bg-yellow-500 text-white"),u(us,"class","text-center"),u(rs,"class","text-right"),u(Il,"class","grid grid-cols-3"),u(e,"autocomplete","off")},m(M,ee){$(M,e,ee),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),Q(a,r,null),s(n,f),s(n,c),s(n,p),s(n,_),s(_,b),s(b,v),s(v,d),s(v,g),s(v,k),s(v,C),V(C,t[3].g.h),s(b,T),s(b,N),s(N,I),s(N,S),s(N,D),s(N,E),Q(F,E,null),Oe(E,t[3].g.t,!0),s(n,B),s(n,Y),s(n,z),s(n,U),s(U,G),s(G,L),s(L,O),s(L,W),s(L,R),s(L,q),s(q,H),s(H,te),s(H,le),s(H,pe),s(H,ne),s(H,Ce),s(q,We),s(We,Ae),s(We,Be),s(We,be),s(We,me),s(q,Ee),s(Ee,Ie),s(Ee,ce),s(q,we),s(q,x),s(q,ve),s(q,lt),s(q,nt),s(q,Fe),s(q,Je),s(q,Qe),s(q,qe),s(q,ze),s(q,Xe),s(q,Le),s(q,Te),Oe(q,t[3].p.r,!0),s(G,se),s(G,he),s(he,gt),s(he,xe),s(he,Mt),s(he,Ve);for(let _t=0;_t<4;_t+=1)bi[_t]&&bi[_t].m(Ve,null);Oe(Ve,t[3].p.c,!0),s(n,Bt),s(n,Ge),s(Ge,Ye),s(Ye,He),s(He,Se),s(He,ge),s(He,Pe),s(He,_e),V(_e,t[3].p.f),s(Ye,Ne),s(Ye,Z),s(Z,ue),s(Z,et),s(Z,oe),s(Z,de),V(de,t[3].p.m),s(n,ql),s(n,Lt),s(Lt,an),s(an,Dt),Dt.checked=t[3].p.e,s(an,Ni),s(Lt,Mi),wt&&wt.m(Lt,null),s(n,Di),s(n,vl),s(vl,Ai),s(vl,Ei),s(vl,Ii),s(vl,At),s(At,Ze),s(At,hl),s(At,zt),Oe(At,t[3].g.s,!0),s(n,ys),yt&&yt.m(n,null),s(l,Fi),s(l,Re),s(Re,fn),s(Re,Ri),s(Re,cn),Q(mn,cn,null),s(Re,wo),s(Re,ai),s(Re,yo),s(Re,il),s(il,Li),s(il,$o),s(il,$s),s(il,Co),s(il,fi),s(fi,Yt),Yt.checked=t[3].m.i,s(fi,To),s(il,So),s(il,Nl),s(Nl,sl),s(sl,Ml),s(Ml,Po);for(let _t=0;_t<7;_t+=1)gi[_t]&&gi[_t].m(sl,null);Oe(sl,t[3].m.b,!0),s(Nl,No),s(Nl,vt),s(vt,Dl),s(Dl,Mo),s(vt,pn),s(vt,_n),s(vt,dn),s(vt,vn),Oe(vt,t[3].m.p,!0),s(Nl,Do),s(Nl,Ut),V(Ut,t[3].m.s),s(Re,Ao),s(Re,Hl),s(Hl,Eo),s(Hl,Io),s(Hl,Fo),s(Hl,ol),s(ol,hn),s(ol,bn),Oe(ol,t[3].m.d,!0),s(Re,Ro),s(Re,gn),s(gn,jl),s(jl,Lo),s(jl,Uo),s(jl,Oo),s(jl,kn),s(kn,Vt),V(Vt,t[3].m.f),s(kn,qo),s(kn,Hi),s(gn,Ho),s(gn,Wl),s(Wl,jo),s(Wl,Wo),s(Wl,Go),s(Wl,wn),s(wn,Kt),V(Kt,t[3].m.r),s(wn,Bo),s(wn,ji),s(Re,zo),s(Re,Cs),s(Re,Yo),s(Re,Gl),s(Gl,Wi),s(Wi,Qt),Qt.checked=t[3].m.e.e,s(Wi,Vo),s(Gl,Ko),$t&&$t.m(Gl,null),s(Re,Qo),Ct&&Ct.m(Re,null),s(Re,Ts),s(Re,Gi),s(Gi,Xt),Xt.checked=t[3].m.m.e,s(Gi,Xo),s(Re,Zo),Tt&&Tt.m(Re,null),s(l,Jo),s(l,dt),s(dt,Bi),s(dt,xo),s(dt,yn),Q($n,yn,null),s(dt,eu),s(dt,ci),s(dt,tu),s(dt,Bl),s(Bl,lu),s(Bl,nu),s(Bl,iu),s(Bl,bl),V(bl,t[3].w.s),s(dt,su),s(dt,zl),s(zl,ou),s(zl,uu),s(zl,ru),s(zl,gl),V(gl,t[3].w.p),s(dt,au),s(dt,Cn),s(Cn,Yl),s(Yl,fu),s(Yl,cu),s(Yl,mu),s(Yl,Ot),s(Ot,Tn),s(Ot,Sn),s(Ot,Pn),s(Ot,Nn),Oe(Ot,t[3].w.z,!0),s(Cn,pu),s(Cn,Vl),s(Vl,_u),s(Vl,du),s(Vl,vu),s(Vl,Mn),s(Mn,qt),V(qt,t[3].w.w),s(Mn,hu),s(Mn,zi),s(dt,bu),s(dt,Yi),s(Yi,Vi),s(Vi,Zt),Zt.checked=t[3].w.a,s(Vi,gu),s(l,ku),s(l,pt),s(pt,Ki),s(pt,wu),s(pt,Dn),Q(An,Dn,null),s(pt,yu),s(pt,Kl),s(Kl,$u),s(Kl,Cu),s(Kl,Tu),s(Kl,Al),s(Al,ul),s(ul,En),s(ul,In),Oe(ul,t[3].n.m,!0),s(Al,Su),s(Al,Et),V(Et,t[3].n.i),s(Al,Pu),s(Al,It),Q(Fn,It,null),Oe(It,t[3].n.s,!0),s(pt,Nu),St&&St.m(pt,null),s(pt,Ss),s(pt,xi),s(xi,es),s(es,Jt),Jt.checked=t[3].n.d,s(es,Mu),s(pt,Du),s(pt,mi),s(pt,Au),s(pt,El),s(El,Eu),s(El,pi),s(pi,xt),xt.checked=t[3].n.h,s(pi,Iu),s(El,Fu),s(El,Ru),s(El,ts),s(ts,kl),V(kl,t[3].n.n1),s(l,Lu),s(l,it),s(it,ls),s(it,Uu),s(it,Rn),Q(Ln,Rn,null),s(it,Ou),s(it,_i),s(it,qu),s(it,rl),s(rl,Hu),Pt&&Pt.m(rl,null),s(rl,Ps),s(rl,ju),s(rl,Wu),s(rl,Un),s(Un,wl),V(wl,t[3].q.h),s(Un,Gu),s(Un,el),V(el,t[3].q.p),s(it,Bu),ut&&ut.m(it,null),s(it,Ns),s(it,Ql),s(Ql,zu),s(Ql,Yu),s(Ql,Vu),s(Ql,yl),V(yl,t[3].q.u),s(it,Ku),s(it,Xl),s(Xl,Qu),s(Xl,Xu),s(Xl,Zu),s(Xl,$l),V($l,t[3].q.a),s(it,Ju),s(it,On),s(On,qn),s(qn,xu),s(qn,er),s(qn,tr),s(qn,Cl),V(Cl,t[3].q.c),s(On,lr),s(On,Hn),s(Hn,nr),s(Hn,ir),s(Hn,sr),s(Hn,kt),s(kt,jn),s(kt,Wn),s(kt,Gn),s(kt,Bn),s(kt,zn),s(kt,Yn),Oe(kt,t[3].q.m,!0),s(it,or),s(it,Zl),s(Zl,ur),s(Zl,rr),s(Zl,ar),s(Zl,Tl),V(Tl,t[3].q.b),s(l,fr),rt&&rt.m(l,null),s(l,Ms),at&&at.m(l,null),s(l,Ds),ft&&ft.m(l,null),s(l,Es),s(l,al),s(al,ns),s(al,cr),s(al,Vn),Q(Kn,Vn,null),s(al,mr),s(al,di),s(al,pr),s(al,vi);for(let _t=0;_t<ht.length;_t+=1)ht[_t]&&ht[_t].m(vi,null);s(l,_r),ct&&ct.m(l,null),s(l,Is),s(l,Ft),s(Ft,is),s(Ft,dr),s(Ft,Qn),Q(Xn,Qn,null),s(Ft,vr),s(Ft,hi),s(Ft,hr),s(Ft,ss),s(ss,os),s(os,tl),tl.checked=t[3].d.s,s(os,br),s(Ft,gr),Nt&&Nt.m(Ft,null),s(e,kr),s(e,Il),s(Il,Fs),s(Fs,Zn),s(Il,wr),s(Il,us),s(us,Jn),s(Il,yr),s(Il,rs),$(M,Rs,ee),Q(Jl,M,ee),$(M,Ls,ee),Q(xl,M,ee),$(M,Us,ee),Q(en,M,ee),$(M,Os,ee),Q(tn,M,ee),ll=!0,qs||($r=[K(C,"input",t[12]),K(E,"change",t[13]),K(q,"change",t[14]),K(Ve,"change",t[15]),K(_e,"input",t[16]),K(de,"input",t[17]),K(Dt,"change",t[18]),K(At,"change",t[20]),K(Yt,"change",t[23]),K(sl,"change",t[24]),K(vt,"change",t[25]),K(Ut,"input",t[26]),K(ol,"change",t[27]),K(Vt,"input",t[28]),K(Kt,"input",t[29]),K(Qt,"change",t[30]),K(Xt,"change",t[33]),K(bl,"input",t[38]),K(gl,"input",t[39]),K(Ot,"change",t[40]),K(qt,"input",t[41]),K(Zt,"change",t[42]),K(ul,"change",t[43]),K(Et,"input",t[44]),K(It,"change",t[45]),K(Jt,"change",t[49]),K(xt,"change",t[50]),K(kl,"input",t[51]),K(wl,"input",t[53]),K(el,"input",t[54]),K(yl,"input",t[55]),K($l,"input",t[56]),K(Cl,"input",t[57]),K(kt,"change",t[58]),K(Tl,"input",t[59]),K(tl,"change",t[88]),K(Zn,"click",t[8]),K(Jn,"click",t[10]),K(e,"submit",ks(t[9]))],qs=!0)},p(M,ee){if(ee[0]&8&&C.value!==M[3].g.h&&V(C,M[3].g.h),ee[0]&8&&Oe(E,M[3].g.t),ee[0]&8&&Oe(q,M[3].p.r),ee[0]&8&&Oe(Ve,M[3].p.c),ee[0]&8&&re(_e.value)!==M[3].p.f&&V(_e,M[3].p.f),ee[0]&8&&re(de.value)!==M[3].p.m&&V(de,M[3].p.m),ee[0]&8&&(Dt.checked=M[3].p.e),M[3].p.e&&M[0].chip!="esp8266"?wt?wt.p(M,ee):(wt=xa(M),wt.c(),wt.m(Lt,null)):wt&&(wt.d(1),wt=null),ee[0]&8&&Oe(At,M[3].g.s),M[3].g.s>0?yt?yt.p(M,ee):(yt=ef(M),yt.c(),yt.m(n,null)):yt&&(yt.d(1),yt=null),ee[0]&8&&(Yt.checked=M[3].m.i),(!ll||ee[0]&8&&Ui!==(Ui=M[3].m.b!=0))&&(Ml.disabled=Ui),ee[0]&8&&Oe(sl,M[3].m.b),(!ll||ee[0]&8&&Oi!==(Oi=M[3].m.b!=0))&&(Dl.disabled=Oi),(!ll||ee[0]&8&&qi!==(qi=M[3].m.b==0))&&(vt.disabled=qi),ee[0]&8&&Oe(vt,M[3].m.p),ee[0]&8&&re(Ut.value)!==M[3].m.s&&V(Ut,M[3].m.s),ee[0]&8&&Oe(ol,M[3].m.d),ee[0]&8&&re(Vt.value)!==M[3].m.f&&V(Vt,M[3].m.f),ee[0]&8&&re(Kt.value)!==M[3].m.r&&V(Kt,M[3].m.r),ee[0]&8&&(Qt.checked=M[3].m.e.e),M[3].m.e.e?$t?$t.p(M,ee):($t=tf(M),$t.c(),$t.m(Gl,null)):$t&&($t.d(1),$t=null),M[3].m.e.e?Ct?Ct.p(M,ee):(Ct=lf(M),Ct.c(),Ct.m(Re,Ts)):Ct&&(Ct.d(1),Ct=null),ee[0]&8&&(Xt.checked=M[3].m.m.e),M[3].m.m.e?Tt?Tt.p(M,ee):(Tt=nf(M),Tt.c(),Tt.m(Re,null)):Tt&&(Tt.d(1),Tt=null),ee[0]&8&&bl.value!==M[3].w.s&&V(bl,M[3].w.s),ee[0]&8&&gl.value!==M[3].w.p&&V(gl,M[3].w.p),ee[0]&8&&Oe(Ot,M[3].w.z),ee[0]&8&&re(qt.value)!==M[3].w.w&&V(qt,M[3].w.w),ee[0]&8&&(Zt.checked=M[3].w.a),ee[0]&8&&Oe(ul,M[3].n.m),(!ll||ee[0]&8&&Qi!==(Qi=M[3].n.m=="dhcp"))&&(Et.disabled=Qi),(!ll||ee[0]&8&&Xi!==(Xi=M[3].n.m=="static"))&&(Et.required=Xi),ee[0]&8&&Et.value!==M[3].n.i&&V(Et,M[3].n.i),(!ll||ee[0]&8&&Zi!==(Zi=M[3].n.m=="dhcp"))&&(It.disabled=Zi),(!ll||ee[0]&8&&Ji!==(Ji=M[3].n.m=="static"))&&(It.required=Ji),ee[0]&8&&Oe(It,M[3].n.s),M[3].n.m=="static"?St?St.p(M,ee):(St=sf(M),St.c(),St.m(pt,Ss)):St&&(St.d(1),St=null),ee[0]&8&&(Jt.checked=M[3].n.d),ee[0]&8&&(xt.checked=M[3].n.h),ee[0]&8&&kl.value!==M[3].n.n1&&V(kl,M[3].n.n1),M[0].chip!="esp8266"?Pt?Pt.p(M,ee):(Pt=of(M),Pt.c(),Pt.m(rl,Ps)):Pt&&(Pt.d(1),Pt=null),ee[0]&8&&wl.value!==M[3].q.h&&V(wl,M[3].q.h),ee[0]&8&&re(el.value)!==M[3].q.p&&V(el,M[3].q.p),M[3].q.s.e?ut?(ut.p(M,ee),ee[0]&8&&P(ut,1)):(ut=uf(M),ut.c(),P(ut,1),ut.m(it,Ns)):ut&&(Me(),A(ut,1,1,()=>{ut=null}),De()),ee[0]&8&&yl.value!==M[3].q.u&&V(yl,M[3].q.u),ee[0]&8&&$l.value!==M[3].q.a&&V($l,M[3].q.a),ee[0]&8&&Cl.value!==M[3].q.c&&V(Cl,M[3].q.c),ee[0]&8&&Oe(kt,M[3].q.m),ee[0]&8&&Tl.value!==M[3].q.b&&V(Tl,M[3].q.b),M[3].q.m==3?rt?(rt.p(M,ee),ee[0]&8&&P(rt,1)):(rt=rf(M),rt.c(),P(rt,1),rt.m(l,Ms)):rt&&(Me(),A(rt,1,1,()=>{rt=null}),De()),M[3].q.m==4?at?(at.p(M,ee),ee[0]&8&&P(at,1)):(at=af(M),at.c(),P(at,1),at.m(l,Ds)):at&&(Me(),A(at,1,1,()=>{at=null}),De()),ee[0]&8&&(As=M[3].p.r.startsWith("10YNO")||M[3].p.r=="10Y1001A1001A48H"),As?ft?(ft.p(M,ee),ee[0]&8&&P(ft,1)):(ft=ff(M),ft.c(),P(ft,1),ft.m(l,Es)):ft&&(Me(),A(ft,1,1,()=>{ft=null}),De()),ee[0]&136){xn=M[7];let Ht;for(Ht=0;Ht<xn.length;Ht+=1){const Pr=Za(M,xn,Ht);ht[Ht]?ht[Ht].p(Pr,ee):(ht[Ht]=mf(Pr),ht[Ht].c(),ht[Ht].m(vi,null))}for(;Ht<ht.length;Ht+=1)ht[Ht].d(1);ht.length=xn.length}M[0].board>20||M[0].chip=="esp8266"?ct?(ct.p(M,ee),ee[0]&1&&P(ct,1)):(ct=pf(M),ct.c(),P(ct,1),ct.m(l,Is)):ct&&(Me(),A(ct,1,1,()=>{ct=null}),De()),ee[0]&8&&(tl.checked=M[3].d.s),M[3].d.s?Nt?Nt.p(M,ee):(Nt=gf(M),Nt.c(),Nt.m(Ft,null)):Nt&&(Nt.d(1),Nt=null);const _t={};ee[0]&2&&(_t.active=M[1]),Jl.$set(_t);const Cr={};ee[0]&4&&(Cr.active=M[2]),xl.$set(Cr);const Tr={};ee[0]&16&&(Tr.active=M[4]),en.$set(Tr);const Sr={};ee[0]&32&&(Sr.active=M[5]),tn.$set(Sr)},i(M){ll||(P(a.$$.fragment,M),P(F.$$.fragment,M),P(mn.$$.fragment,M),P($n.$$.fragment,M),P(An.$$.fragment,M),P(Fn.$$.fragment,M),P(Ln.$$.fragment,M),P(ut),P(rt),P(at),P(ft),P(Kn.$$.fragment,M),P(ct),P(Xn.$$.fragment,M),P(Jl.$$.fragment,M),P(xl.$$.fragment,M),P(en.$$.fragment,M),P(tn.$$.fragment,M),ll=!0)},o(M){A(a.$$.fragment,M),A(F.$$.fragment,M),A(mn.$$.fragment,M),A($n.$$.fragment,M),A(An.$$.fragment,M),A(Fn.$$.fragment,M),A(Ln.$$.fragment,M),A(ut),A(rt),A(at),A(ft),A(Kn.$$.fragment,M),A(ct),A(Xn.$$.fragment,M),A(Jl.$$.fragment,M),A(xl.$$.fragment,M),A(en.$$.fragment,M),A(tn.$$.fragment,M),ll=!1},d(M){M&&w(e),X(a),X(F),_l(bi,M),wt&&wt.d(),yt&&yt.d(),X(mn),_l(gi,M),$t&&$t.d(),Ct&&Ct.d(),Tt&&Tt.d(),X($n),X(An),X(Fn),St&&St.d(),X(Ln),Pt&&Pt.d(),ut&&ut.d(),rt&&rt.d(),at&&at.d(),ft&&ft.d(),X(Kn),_l(ht,M),ct&&ct.d(),X(Xn),Nt&&Nt.d(),M&&w(Rs),X(Jl,M),M&&w(Ls),X(xl,M),M&&w(Us),X(en,M),M&&w(Os),X(tn,M),qs=!1,st($r)}}}async function l0(){await(await fetch("/reboot",{method:"POST"})).json()}function n0(t,e,l){let{sysinfo:n={}}=e,i=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"}],o=!0,r=!1,a={g:{t:"",h:"",s:0,u:"",p:""},m:{b:2400,p:11,i:!1,d:0,f:0,r:0,e:{e:!1,k:"",a:""},m:{e:!1,w:!1,v:!1,a:!1,c:!1}},w:{s:"",p:"",w:0,z:255,a:!0},n:{m:"",i:"",s:"",g:"",d1:"",d2:"",d:!1,n1:"",n2:"",h:!1},q:{h:"",p:1883,u:"",a:"",b:"",s:{e:!1,c:!1,r:!0,k:!1}},o:{e:"",c:"",u1:"",u2:"",u3:""},t:{t:[0,0,0,0,0,0,0,0,0,0],h:1},p:{e:!1,t:"",r:"",c:"",m:1,f:null},d:{s:!1,t:!1,l:5},u:{i:0,e:0,v:0,a:0,r:0,c:0,t:0,p:0,d:0,m:0,s:0},i:{h:{p:null,u:!0},a:null,l:{p:null,i:!1},r:{r:null,g:null,b:null,i:!1},t:{d:null,a:null},v:{p:null,d:{v:null,g:null},o:null,m:null,b:null}},h:{t:"",h:"",n:""}};Rc.subscribe(Ze=>{Ze.version&&(l(3,a=Ze),l(1,o=!1))}),Ap();let f=!1,c=!1;async function p(){if(confirm("Are you sure you want to factory reset the device?")){l(4,f=!0);const Ze=new URLSearchParams;Ze.append("perform","true");let zt=await(await fetch("/reset",{method:"POST",body:Ze})).json();l(4,f=!1),l(5,c=zt.success)}}async function _(Ze){l(2,r=!0);const hl=new FormData(Ze.target),zt=new URLSearchParams;for(let Re of hl){const[fn,Ri]=Re;zt.append(fn,Ri)}let Fi=await(await fetch("/save",{method:"POST",body:zt})).json();Gt.update(Re=>(Re.booting=Fi.reboot,Re.ui=a.u,Re)),l(2,r=!1),ii("/")}const b=function(){confirm("Are you sure you want to reboot the device?")&&(Gt.update(Ze=>(Ze.booting=!0,Ze)),l0())},v=function(){a.q.s.e?a.q.p==1883&&l(3,a.q.p=8883,a):a.q.p==8883&&l(3,a.q.p=1883,a)};let d=44;function g(){a.g.h=this.value,l(3,a)}function k(){a.g.t=bt(this),l(3,a)}function C(){a.p.r=bt(this),l(3,a)}function T(){a.p.c=bt(this),l(3,a)}function N(){a.p.f=re(this.value),l(3,a)}function I(){a.p.m=re(this.value),l(3,a)}function S(){a.p.e=this.checked,l(3,a)}function D(){a.p.t=this.value,l(3,a)}function E(){a.g.s=bt(this),l(3,a)}function F(){a.g.u=this.value,l(3,a)}function B(){a.g.p=this.value,l(3,a)}function Y(){a.m.i=this.checked,l(3,a)}function z(){a.m.b=bt(this),l(3,a)}function U(){a.m.p=bt(this),l(3,a)}function G(){a.m.s=re(this.value),l(3,a)}function L(){a.m.d=bt(this),l(3,a)}function O(){a.m.f=re(this.value),l(3,a)}function W(){a.m.r=re(this.value),l(3,a)}function R(){a.m.e.e=this.checked,l(3,a)}function q(){a.m.e.k=this.value,l(3,a)}function H(){a.m.e.a=this.value,l(3,a)}function te(){a.m.m.e=this.checked,l(3,a)}function le(){a.m.m.w=re(this.value),l(3,a)}function pe(){a.m.m.v=re(this.value),l(3,a)}function ne(){a.m.m.a=re(this.value),l(3,a)}function Ce(){a.m.m.c=re(this.value),l(3,a)}function We(){a.w.s=this.value,l(3,a)}function Ae(){a.w.p=this.value,l(3,a)}function Be(){a.w.z=bt(this),l(3,a)}function be(){a.w.w=re(this.value),l(3,a)}function me(){a.w.a=this.checked,l(3,a)}function Ee(){a.n.m=bt(this),l(3,a)}function Ie(){a.n.i=this.value,l(3,a)}function ce(){a.n.s=bt(this),l(3,a)}function we(){a.n.g=this.value,l(3,a)}function x(){a.n.d1=this.value,l(3,a)}function ve(){a.n.d2=this.value,l(3,a)}function lt(){a.n.d=this.checked,l(3,a)}function nt(){a.n.h=this.checked,l(3,a)}function Fe(){a.n.n1=this.value,l(3,a)}function Je(){a.q.s.e=this.checked,l(3,a)}function Qe(){a.q.h=this.value,l(3,a)}function qe(){a.q.p=re(this.value),l(3,a)}function ze(){a.q.u=this.value,l(3,a)}function Xe(){a.q.a=this.value,l(3,a)}function Le(){a.q.c=this.value,l(3,a)}function Te(){a.q.m=bt(this),l(3,a)}function se(){a.q.b=this.value,l(3,a)}function he(){a.o.e=this.value,l(3,a)}function gt(){a.o.c=this.value,l(3,a)}function xe(){a.o.u1=this.value,l(3,a)}function Mt(){a.o.u2=this.value,l(3,a)}function Ve(){a.o.u3=this.value,l(3,a)}function Bt(){a.h.t=this.value,l(3,a)}function Ge(){a.h.h=this.value,l(3,a)}function Ye(){a.h.n=this.value,l(3,a)}function He(Ze){a.t.t[Ze]=re(this.value),l(3,a)}function Se(){a.t.h=re(this.value),l(3,a)}function ge(Ze){a.u[Ze.key]=bt(this),l(3,a)}function Pe(){a.i.h.u=this.checked,l(3,a)}function _e(){a.i.h.p=bt(this),l(3,a)}function Ne(){a.i.a=re(this.value),l(3,a)}function Z(){a.i.l.i=this.checked,l(3,a)}function ue(){a.i.l.p=re(this.value),l(3,a)}function et(){a.i.r.i=this.checked,l(3,a)}function oe(){a.i.r.r=re(this.value),l(3,a)}function de(){a.i.r.g=re(this.value),l(3,a)}function ql(){a.i.r.b=re(this.value),l(3,a)}function Lt(){a.i.t.d=re(this.value),l(3,a)}function an(){a.i.t.a=re(this.value),l(3,a)}function Dt(){a.i.v.p=re(this.value),l(3,a)}function Ni(){a.i.v.d.v=re(this.value),l(3,a)}function Mi(){a.i.v.d.g=re(this.value),l(3,a)}function Di(){a.i.v.o=re(this.value),l(3,a)}function vl(){a.i.v.m=re(this.value),l(3,a)}function Ai(){a.i.v.b=re(this.value),l(3,a)}function Ei(){a.d.s=this.checked,l(3,a)}function Ii(){a.d.t=this.checked,l(3,a)}function At(){a.d.l=bt(this),l(3,a)}return t.$$set=Ze=>{"sysinfo"in Ze&&l(0,n=Ze.sysinfo)},t.$$.update=()=>{t.$$.dirty[0]&1&&l(6,d=n.chip=="esp8266"?16:n.chip=="esp32s2"?44:39)},[n,o,r,a,f,c,d,i,p,_,b,v,g,k,C,T,N,I,S,D,E,F,B,Y,z,U,G,L,O,W,R,q,H,te,le,pe,ne,Ce,We,Ae,Be,be,me,Ee,Ie,ce,we,x,ve,lt,nt,Fe,Je,Qe,qe,ze,Xe,Le,Te,se,he,gt,xe,Mt,Ve,Bt,Ge,Ye,He,Se,ge,Pe,_e,Ne,Z,ue,et,oe,de,ql,Lt,an,Dt,Ni,Mi,Di,vl,Ai,Ei,Ii,At]}class i0 extends $e{constructor(e){super(),ye(this,e,n0,t0,ke,{sysinfo:0},null,[-1,-1,-1,-1])}}function wf(t,e,l){const n=t.slice();return n[20]=e[l],n}function s0(t){let e=ae(t[1].chip,t[1].board)+"",l;return{c(){l=y(e)},m(n,i){$(n,l,i)},p(n,i){i&2&&e!==(e=ae(n[1].chip,n[1].board)+"")&&j(l,e)},d(n){n&&w(l)}}}function yf(t){let e,l,n=t[1].apmac+"",i;return{c(){e=m("div"),l=y("AP MAC: "),i=y(n),u(e,"class","my-2")},m(o,r){$(o,e,r),s(e,l),s(e,i)},p(o,r){r&2&&n!==(n=o[1].apmac+"")&&j(i,n)},d(o){o&&w(e)}}}function o0(t){let e;return{c(){e=y("-")},m(l,n){$(l,e,n)},p:ie,i:ie,o:ie,d(l){l&&w(e)}}}function u0(t){let e,l;return e=new go({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),offset:t[1].clock_offset,fullTimeColor:""}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),i&2&&(o.offset=n[1].clock_offset),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function $f(t){let e,l,n=t[0].lv.toFixed(2)+"V",i,o,r,a,f,c,p,_,b,v;return r=new go({props:{timestamp:t[0].lvt?new Date(t[0].lvt*1e3):new Date(0),offset:t[1].clock_offset,fullTimeColor:""}}),{c(){e=m("div"),l=y("Low vcc: "),i=y(n),o=y(" ("),J(r.$$.fragment),a=y(")"),f=m("br"),c=h(),p=m("button"),p.textContent="Clear low vcc",u(p,"class","text-xs py-1 px-2 rounded bg-blue-500 text-white mr-3"),u(e,"class","my-2")},m(d,g){$(d,e,g),s(e,l),s(e,i),s(e,o),Q(r,e,null),s(e,a),s(e,f),s(e,c),s(e,p),_=!0,b||(v=K(p,"click",d0),b=!0)},p(d,g){(!_||g&1)&&n!==(n=d[0].lv.toFixed(2)+"V")&&j(i,n);const k={};g&1&&(k.timestamp=d[0].lvt?new Date(d[0].lvt*1e3):new Date(0)),g&2&&(k.offset=d[1].clock_offset),r.$set(k)},i(d){_||(P(r.$$.fragment,d),_=!0)},o(d){A(r.$$.fragment,d),_=!1},d(d){d&&w(e),X(r),b=!1,v()}}}function r0(t){let e;return{c(){e=m("span"),e.textContent="Update consents",u(e,"class","btn-pri-sm")},m(l,n){$(l,e,n)},p:ie,d(l){l&&w(e)}}}function Cf(t){let e,l,n,i,o,r=bs(t[1].meter.mfg)+"",a,f,c,p,_=t[1].meter.model+"",b,v,d,g,k=t[1].meter.id+"",C;return{c(){e=m("div"),l=m("strong"),l.textContent="Meter",n=h(),i=m("div"),o=y("Manufacturer: "),a=y(r),f=h(),c=m("div"),p=y("Model: "),b=y(_),v=h(),d=m("div"),g=y("ID: "),C=y(k),u(l,"class","text-sm"),u(i,"class","my-2"),u(c,"class","my-2"),u(d,"class","my-2"),u(e,"class","cnt")},m(T,N){$(T,e,N),s(e,l),s(e,n),s(e,i),s(i,o),s(i,a),s(e,f),s(e,c),s(c,p),s(c,b),s(e,v),s(e,d),s(d,g),s(d,C)},p(T,N){N&2&&r!==(r=bs(T[1].meter.mfg)+"")&&j(a,r),N&2&&_!==(_=T[1].meter.model+"")&&j(b,_),N&2&&k!==(k=T[1].meter.id+"")&&j(C,k)},d(T){T&&w(e)}}}function Tf(t){let e,l,n,i,o,r=t[1].net.ip+"",a,f,c,p,_=t[1].net.mask+"",b,v,d,g,k=t[1].net.gw+"",C,T,N,I,S=t[1].net.dns1+"",D,E,F=t[1].net.dns2&&Sf(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Network",n=h(),i=m("div"),o=y("IP: "),a=y(r),f=h(),c=m("div"),p=y("Mask: "),b=y(_),v=h(),d=m("div"),g=y("Gateway: "),C=y(k),T=h(),N=m("div"),I=y("DNS: "),D=y(S),E=h(),F&&F.c(),u(l,"class","text-sm"),u(i,"class","my-2"),u(c,"class","my-2"),u(d,"class","my-2"),u(N,"class","my-2"),u(e,"class","cnt")},m(B,Y){$(B,e,Y),s(e,l),s(e,n),s(e,i),s(i,o),s(i,a),s(e,f),s(e,c),s(c,p),s(c,b),s(e,v),s(e,d),s(d,g),s(d,C),s(e,T),s(e,N),s(N,I),s(N,D),s(N,E),F&&F.m(N,null)},p(B,Y){Y&2&&r!==(r=B[1].net.ip+"")&&j(a,r),Y&2&&_!==(_=B[1].net.mask+"")&&j(b,_),Y&2&&k!==(k=B[1].net.gw+"")&&j(C,k),Y&2&&S!==(S=B[1].net.dns1+"")&&j(D,S),B[1].net.dns2?F?F.p(B,Y):(F=Sf(B),F.c(),F.m(N,null)):F&&(F.d(1),F=null)},d(B){B&&w(e),F&&F.d()}}}function Sf(t){let e,l=t[1].net.dns2+"",n;return{c(){e=y("/ "),n=y(l)},m(i,o){$(i,e,o),$(i,n,o)},p(i,o){o&2&&l!==(l=i[1].net.dns2+"")&&j(n,l)},d(i){i&&w(e),i&&w(n)}}}function Pf(t){let e,l,n,i=t[1].upgrade.t+"",o,r,a=t[1].version+"",f,c,p=t[1].upgrade.x+"",_,b,v=t[1].upgrade.e+"",d,g;return{c(){e=m("div"),l=m("div"),n=y("Previous upgrade attempt ("),o=y(i),r=y(") does not match current version ("),f=y(a),c=y(") ["),_=y(p),b=y("/"),d=y(v),g=y("]"),u(l,"class","bd-yellow"),u(e,"class","my-2")},m(k,C){$(k,e,C),s(e,l),s(l,n),s(l,o),s(l,r),s(l,f),s(l,c),s(l,_),s(l,b),s(l,d),s(l,g)},p(k,C){C&2&&i!==(i=k[1].upgrade.t+"")&&j(o,i),C&2&&a!==(a=k[1].version+"")&&j(f,a),C&2&&p!==(p=k[1].upgrade.x+"")&&j(_,p),C&2&&v!==(v=k[1].upgrade.e+"")&&j(d,v)},d(k){k&&w(e)}}}function Nf(t){let e,l,n,i=t[2].tag_name+"",o,r,a,f,c,p,_=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[2]&&t[2].tag_name!=t[1].version&&Mf(t),b=t[1].fwconsent===2&&Df();return{c(){e=m("div"),l=y(`Latest version: 
                `),n=m("a"),o=y(i),a=h(),_&&_.c(),f=h(),b&&b.c(),c=Ke(),u(n,"href",r=t[2].html_url),u(n,"class","ml-2 text-blue-600 hover:text-blue-800"),u(n,"target","_blank"),u(n,"rel","noreferrer"),u(e,"class","my-2 flex")},m(v,d){$(v,e,d),s(e,l),s(e,n),s(n,o),s(e,a),_&&_.m(e,null),$(v,f,d),b&&b.m(v,d),$(v,c,d),p=!0},p(v,d){(!p||d&4)&&i!==(i=v[2].tag_name+"")&&j(o,i),(!p||d&4&&r!==(r=v[2].html_url))&&u(n,"href",r),(v[1].security==0||v[0].a)&&v[1].fwconsent===1&&v[2]&&v[2].tag_name!=v[1].version?_?(_.p(v,d),d&7&&P(_,1)):(_=Mf(v),_.c(),P(_,1),_.m(e,null)):_&&(Me(),A(_,1,1,()=>{_=null}),De()),v[1].fwconsent===2?b||(b=Df(),b.c(),b.m(c.parentNode,c)):b&&(b.d(1),b=null)},i(v){p||(P(_),p=!0)},o(v){A(_),p=!1},d(v){v&&w(e),_&&_.d(),v&&w(f),b&&b.d(v),v&&w(c)}}}function Mf(t){let e,l,n,i,o,r;return n=new Ic({}),{c(){e=m("div"),l=m("button"),J(n.$$.fragment),u(e,"class","flex-none ml-2 text-green-500"),u(e,"title","Install this version")},m(a,f){$(a,e,f),s(e,l),Q(n,l,null),i=!0,o||(r=K(l,"click",t[10]),o=!0)},p:ie,i(a){i||(P(n.$$.fragment,a),i=!0)},o(a){A(n.$$.fragment,a),i=!1},d(a){a&&w(e),X(n),o=!1,r()}}}function Df(t){let e;return{c(){e=m("div"),e.innerHTML='<div class="bd-yellow">You have disabled one-click firmware upgrade, link to self-upgrade is disabled</div>',u(e,"class","my-2")},m(l,n){$(l,e,n)},d(l){l&&w(e)}}}function Af(t){let e,l=gs(ae(t[1].chip,t[1].board))+"",n;return{c(){e=m("div"),n=y(l),u(e,"class","bd-red")},m(i,o){$(i,e,o),s(e,n)},p(i,o){o&2&&l!==(l=gs(ae(i[1].chip,i[1].board))+"")&&j(n,l)},d(i){i&&w(e)}}}function Ef(t){let e,l,n,i,o,r;function a(p,_){return p[4].length==0?f0:a0}let f=a(t),c=f(t);return{c(){e=m("div"),l=m("form"),n=m("input"),i=h(),c.c(),Vf(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","/firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(p,_){$(p,e,_),s(e,l),s(l,n),t[12](n),s(l,i),c.m(l,null),o||(r=[K(n,"change",t[13]),K(l,"submit",t[15])],o=!0)},p(p,_){f===(f=a(p))&&c?c.p(p,_):(c.d(1),c=f(p),c&&(c.c(),c.m(l,null)))},d(p){p&&w(e),t[12](null),c.d(),o=!1,st(r)}}}function a0(t){let e=t[4][0].name+"",l,n,i;return{c(){l=y(e),n=h(),i=m("button"),i.textContent="Upload",u(i,"type","submit"),u(i,"class","btn-pri-sm float-right")},m(o,r){$(o,l,r),$(o,n,r),$(o,i,r)},p(o,r){r&16&&e!==(e=o[4][0].name+"")&&j(l,e)},d(o){o&&w(l),o&&w(n),o&&w(i)}}}function f0(t){let e,l,n;return{c(){e=m("button"),e.textContent="Select firmware file for upgrade",u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(i,o){$(i,e,o),l||(n=K(e,"click",t[14]),l=!0)},p:ie,d(i){i&&w(e),l=!1,n()}}}function If(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g=t[9],k=[];for(let S=0;S<g.length;S+=1)k[S]=Ff(wf(t,g,S));let C=t[7].length==0&&Rf();function T(S,D){return S[7].length==0?m0:c0}let N=T(t),I=N(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Backup & restore",n=h(),i=m("form"),o=m("div");for(let S=0;S<k.length;S+=1)k[S].c();r=h(),a=m("label"),a.innerHTML='<input type="checkbox" class="rounded" name="ic" value="true"/> Include Secrets<br/><small>(SSID, PSK, passwords and tokens)</small>',f=h(),C&&C.c(),c=h(),p=m("form"),_=m("input"),b=h(),I.c(),u(l,"class","text-sm"),u(a,"class","my-1 mx-3 col-span-2"),u(o,"class","grid grid-cols-2"),u(i,"method","get"),u(i,"action","/configfile.cfg"),u(i,"autocomplete","off"),Vf(_,"display","none"),u(_,"name","file"),u(_,"type","file"),u(_,"accept",".cfg"),u(p,"action","/configfile"),u(p,"enctype","multipart/form-data"),u(p,"method","post"),u(p,"autocomplete","off"),u(e,"class","cnt")},m(S,D){$(S,e,D),s(e,l),s(e,n),s(e,i),s(i,o);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(o,null);s(o,r),s(o,a),s(i,f),C&&C.m(i,null),s(e,c),s(e,p),s(p,_),t[16](_),s(p,b),I.m(p,null),v||(d=[K(_,"change",t[17]),K(p,"submit",t[19])],v=!0)},p(S,D){if(D&512){g=S[9];let E;for(E=0;E<g.length;E+=1){const F=wf(S,g,E);k[E]?k[E].p(F,D):(k[E]=Ff(F),k[E].c(),k[E].m(o,r))}for(;E<k.length;E+=1)k[E].d(1);k.length=g.length}S[7].length==0?C||(C=Rf(),C.c(),C.m(i,null)):C&&(C.d(1),C=null),N===(N=T(S))&&I?I.p(S,D):(I.d(1),I=N(S),I&&(I.c(),I.m(p,null)))},d(S){S&&w(e),_l(k,S),C&&C.d(),t[16](null),I.d(),v=!1,st(d)}}}function Ff(t){let e,l,n,i=t[20].name+"",o;return{c(){e=m("label"),l=m("input"),n=h(),o=y(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[20].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,a){$(r,e,a),s(e,l),s(e,n),s(e,o)},p:ie,d(r){r&&w(e)}}}function Rf(t){let e;return{c(){e=m("button"),e.textContent="Download",u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(l,n){$(l,e,n)},d(l){l&&w(e)}}}function c0(t){let e=t[7][0].name+"",l,n,i;return{c(){l=y(e),n=h(),i=m("button"),i.textContent="Upload",u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(o,r){$(o,l,r),$(o,n,r),$(o,i,r)},p(o,r){r&128&&e!==(e=o[7][0].name+"")&&j(l,e)},d(o){o&&w(l),o&&w(n),o&&w(i)}}}function m0(t){let e,l,n;return{c(){e=m("button"),e.textContent="Select file...",u(e,"type","button"),u(e,"class","btn-pri-sm")},m(i,o){$(i,e,o),l||(n=K(e,"click",t[18]),l=!0)},p:ie,d(i){i&&w(e),l=!1,n()}}}function p0(t){let e,l,n,i,o,r,a=t[1].chip+"",f,c,p,_,b,v,d,g,k=t[1].mac+"",C,T,N,I,S,D,E,F,B,Y,z=Br(t[1])+"",U,G,L=t[1].boot_reason+"",O,W,R=t[1].ex_cause+"",q,H,te,le,pe,ne,Ce,We,Ae,Be,be,me,Ee,Ie,ce,we,x=t[1].version+"",ve,lt,nt,Fe,Je=(t[1].security==0||t[0].a)&&si(t[1].board),Qe,qe,ze,Xe,Le,Te,se,he,gt;b=new Rl({props:{to:"/vendor",$$slots:{default:[s0]},$$scope:{ctx:t}}});let xe=t[1].apmac&&t[1].apmac!=t[1].mac&&yf(t);const Mt=[u0,o0],Ve=[];function Bt(Z,ue){return Z[0].u>0?0:1}D=Bt(t),E=Ve[D]=Mt[D](t);let Ge=t[0].lv>2&&t[0].lv<3.3&&$f(t);ne=new Rl({props:{to:"/consent",$$slots:{default:[r0]},$$scope:{ctx:t}}});let Ye=t[1].meter&&Cf(t),He=t[1].net&&Tf(t),Se=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&Pf(t),ge=t[2]&&Nf(t),Pe=Je&&Af(t),_e=(t[1].security==0||t[0].a)&&Ef(t),Ne=(t[1].security==0||t[0].a)&&If(t);return Xe=new Rt({props:{active:t[5],message:"Uploading firmware, please wait"}}),Te=new Rt({props:{active:t[8],message:"Uploading configuration, please wait"}}),{c(){e=m("div"),l=m("div"),n=m("strong"),n.textContent="Device information",i=h(),o=m("div"),r=y("Chip: "),f=y(a),c=h(),p=m("div"),_=y("Device: "),J(b.$$.fragment),v=h(),d=m("div"),g=y("MAC: "),C=y(k),T=h(),xe&&xe.c(),N=h(),I=m("div"),S=y(`Last boot:
            `),E.c(),F=h(),B=m("div"),Y=y("Reason: "),U=y(z),G=y(" ("),O=y(L),W=y("/"),q=y(R),H=y(")"),te=h(),Ge&&Ge.c(),le=h(),pe=m("div"),J(ne.$$.fragment),Ce=h(),We=m("button"),We.textContent="Reboot",Ae=h(),Ye&&Ye.c(),Be=h(),He&&He.c(),be=h(),me=m("div"),Ee=m("strong"),Ee.textContent="Firmware",Ie=h(),ce=m("div"),we=y("Installed version: "),ve=y(x),lt=h(),Se&&Se.c(),nt=h(),ge&&ge.c(),Fe=h(),Pe&&Pe.c(),Qe=h(),_e&&_e.c(),qe=h(),Ne&&Ne.c(),ze=h(),J(Xe.$$.fragment),Le=h(),J(Te.$$.fragment),u(n,"class","text-sm"),u(o,"class","my-2"),u(p,"class","my-2"),u(d,"class","my-2"),u(I,"class","my-2"),u(B,"class","my-2"),u(We,"class","text-xs py-1 px-2 rounded bg-yellow-500 text-white mr-3 float-right"),u(pe,"class","my-2"),u(l,"class","cnt"),u(Ee,"class","text-sm"),u(ce,"class","my-2"),u(me,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(Z,ue){$(Z,e,ue),s(e,l),s(l,n),s(l,i),s(l,o),s(o,r),s(o,f),s(l,c),s(l,p),s(p,_),Q(b,p,null),s(l,v),s(l,d),s(d,g),s(d,C),s(l,T),xe&&xe.m(l,null),s(l,N),s(l,I),s(I,S),Ve[D].m(I,null),s(l,F),s(l,B),s(B,Y),s(B,U),s(B,G),s(B,O),s(B,W),s(B,q),s(B,H),s(l,te),Ge&&Ge.m(l,null),s(l,le),s(l,pe),Q(ne,pe,null),s(pe,Ce),s(pe,We),s(e,Ae),Ye&&Ye.m(e,null),s(e,Be),He&&He.m(e,null),s(e,be),s(e,me),s(me,Ee),s(me,Ie),s(me,ce),s(ce,we),s(ce,ve),s(me,lt),Se&&Se.m(me,null),s(me,nt),ge&&ge.m(me,null),s(me,Fe),Pe&&Pe.m(me,null),s(me,Qe),_e&&_e.m(me,null),s(e,qe),Ne&&Ne.m(e,null),$(Z,ze,ue),Q(Xe,Z,ue),$(Z,Le,ue),Q(Te,Z,ue),se=!0,he||(gt=K(We,"click",t[11]),he=!0)},p(Z,[ue]){(!se||ue&2)&&a!==(a=Z[1].chip+"")&&j(f,a);const et={};ue&8388610&&(et.$$scope={dirty:ue,ctx:Z}),b.$set(et),(!se||ue&2)&&k!==(k=Z[1].mac+"")&&j(C,k),Z[1].apmac&&Z[1].apmac!=Z[1].mac?xe?xe.p(Z,ue):(xe=yf(Z),xe.c(),xe.m(l,N)):xe&&(xe.d(1),xe=null);let oe=D;D=Bt(Z),D===oe?Ve[D].p(Z,ue):(Me(),A(Ve[oe],1,1,()=>{Ve[oe]=null}),De(),E=Ve[D],E?E.p(Z,ue):(E=Ve[D]=Mt[D](Z),E.c()),P(E,1),E.m(I,null)),(!se||ue&2)&&z!==(z=Br(Z[1])+"")&&j(U,z),(!se||ue&2)&&L!==(L=Z[1].boot_reason+"")&&j(O,L),(!se||ue&2)&&R!==(R=Z[1].ex_cause+"")&&j(q,R),Z[0].lv>2&&Z[0].lv<3.3?Ge?(Ge.p(Z,ue),ue&1&&P(Ge,1)):(Ge=$f(Z),Ge.c(),P(Ge,1),Ge.m(l,le)):Ge&&(Me(),A(Ge,1,1,()=>{Ge=null}),De());const de={};ue&8388608&&(de.$$scope={dirty:ue,ctx:Z}),ne.$set(de),Z[1].meter?Ye?Ye.p(Z,ue):(Ye=Cf(Z),Ye.c(),Ye.m(e,Be)):Ye&&(Ye.d(1),Ye=null),Z[1].net?He?He.p(Z,ue):(He=Tf(Z),He.c(),He.m(e,be)):He&&(He.d(1),He=null),(!se||ue&2)&&x!==(x=Z[1].version+"")&&j(ve,x),Z[1].upgrade.t&&Z[1].upgrade.t!=Z[1].version?Se?Se.p(Z,ue):(Se=Pf(Z),Se.c(),Se.m(me,nt)):Se&&(Se.d(1),Se=null),Z[2]?ge?(ge.p(Z,ue),ue&4&&P(ge,1)):(ge=Nf(Z),ge.c(),P(ge,1),ge.m(me,Fe)):ge&&(Me(),A(ge,1,1,()=>{ge=null}),De()),ue&3&&(Je=(Z[1].security==0||Z[0].a)&&si(Z[1].board)),Je?Pe?Pe.p(Z,ue):(Pe=Af(Z),Pe.c(),Pe.m(me,Qe)):Pe&&(Pe.d(1),Pe=null),Z[1].security==0||Z[0].a?_e?_e.p(Z,ue):(_e=Ef(Z),_e.c(),_e.m(me,null)):_e&&(_e.d(1),_e=null),Z[1].security==0||Z[0].a?Ne?Ne.p(Z,ue):(Ne=If(Z),Ne.c(),Ne.m(e,null)):Ne&&(Ne.d(1),Ne=null);const ql={};ue&32&&(ql.active=Z[5]),Xe.$set(ql);const Lt={};ue&256&&(Lt.active=Z[8]),Te.$set(Lt)},i(Z){se||(P(b.$$.fragment,Z),P(E),P(Ge),P(ne.$$.fragment,Z),P(ge),P(Xe.$$.fragment,Z),P(Te.$$.fragment,Z),se=!0)},o(Z){A(b.$$.fragment,Z),A(E),A(Ge),A(ne.$$.fragment,Z),A(ge),A(Xe.$$.fragment,Z),A(Te.$$.fragment,Z),se=!1},d(Z){Z&&w(e),X(b),xe&&xe.d(),Ve[D].d(),Ge&&Ge.d(),X(ne),Ye&&Ye.d(),He&&He.d(),Se&&Se.d(),ge&&ge.d(),Pe&&Pe.d(),_e&&_e.d(),Ne&&Ne.d(),Z&&w(ze),X(Xe,Z),Z&&w(Le),X(Te,Z),he=!1,gt()}}}async function _0(){await(await fetch("/reboot",{method:"POST"})).json()}async function d0(){await(await fetch("/reset-low-vcc",{method:"POST"})).json()}function v0(t,e,l){let{data:n}=e,{sysinfo:i}=e,o=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price API",key:"is"}],r={};bo.subscribe(E=>{l(2,r=Ec(i.version,E)),r||l(2,r=E[0])});function a(){confirm("Do you want to upgrade this device to "+r.tag_name+"?")&&(i.board!=2&&i.board!=4&&i.board!=7||confirm(gs(ae(i.chip,i.board))))&&(Gt.update(E=>(E.upgrading=!0,E)),Ac(r.tag_name))}const f=function(){confirm("Are you sure you want to reboot the device?")&&(Gt.update(E=>(E.booting=!0,E)),_0())};let c,p=[],_=!1,b,v=[],d=!1;_o();function g(E){vs[E?"unshift":"push"](()=>{c=E,l(3,c)})}function k(){p=this.files,l(4,p)}const C=()=>{c.click()},T=()=>l(5,_=!0);function N(E){vs[E?"unshift":"push"](()=>{b=E,l(6,b)})}function I(){v=this.files,l(7,v)}const S=()=>{b.click()},D=()=>l(8,d=!0);return t.$$set=E=>{"data"in E&&l(0,n=E.data),"sysinfo"in E&&l(1,i=E.sysinfo)},[n,i,r,c,p,_,b,v,d,o,a,f,g,k,C,T,N,I,S,D]}class h0 extends $e{constructor(e){super(),ye(this,e,v0,p0,ke,{data:0,sysinfo:1})}}function Lf(t){let e,l,n=ae(t[0],7)+"",i,o,r=ae(t[0],5)+"",a,f,c=ae(t[0],4)+"",p,_,b=ae(t[0],3)+"",v,d,g,k,C=ae(t[0],2)+"",T,N,I=ae(t[0],1)+"",S,D,E=ae(t[0],0)+"",F,B,Y,z,U=ae(t[0],101)+"",G,L,O=ae(t[0],100)+"",W;return{c(){e=m("optgroup"),l=m("option"),i=y(n),o=m("option"),a=y(r),f=m("option"),p=y(c),_=m("option"),v=y(b),d=h(),g=m("optgroup"),k=m("option"),T=y(C),N=m("option"),S=y(I),D=m("option"),F=y(E),B=h(),Y=m("optgroup"),z=m("option"),G=y(U),L=m("option"),W=y(O),l.__value=7,l.value=l.__value,o.__value=5,o.value=o.__value,f.__value=4,f.value=f.__value,_.__value=3,_.value=_.__value,u(e,"label","amsleser.no"),k.__value=2,k.value=k.__value,N.__value=1,N.value=N.__value,D.__value=0,D.value=D.__value,u(g,"label","Custom hardware"),z.__value=101,z.value=z.__value,L.__value=100,L.value=L.__value,u(Y,"label","Generic hardware")},m(R,q){$(R,e,q),s(e,l),s(l,i),s(e,o),s(o,a),s(e,f),s(f,p),s(e,_),s(_,v),$(R,d,q),$(R,g,q),s(g,k),s(k,T),s(g,N),s(N,S),s(g,D),s(D,F),$(R,B,q),$(R,Y,q),s(Y,z),s(z,G),s(Y,L),s(L,W)},p(R,q){q&1&&n!==(n=ae(R[0],7)+"")&&j(i,n),q&1&&r!==(r=ae(R[0],5)+"")&&j(a,r),q&1&&c!==(c=ae(R[0],4)+"")&&j(p,c),q&1&&b!==(b=ae(R[0],3)+"")&&j(v,b),q&1&&C!==(C=ae(R[0],2)+"")&&j(T,C),q&1&&I!==(I=ae(R[0],1)+"")&&j(S,I),q&1&&E!==(E=ae(R[0],0)+"")&&j(F,E),q&1&&U!==(U=ae(R[0],101)+"")&&j(G,U),q&1&&O!==(O=ae(R[0],100)+"")&&j(W,O)},d(R){R&&w(e),R&&w(d),R&&w(g),R&&w(B),R&&w(Y)}}}function Uf(t){let e,l,n=ae(t[0],201)+"",i,o,r=ae(t[0],202)+"",a,f,c=ae(t[0],203)+"",p,_,b=ae(t[0],200)+"",v;return{c(){e=m("optgroup"),l=m("option"),i=y(n),o=m("option"),a=y(r),f=m("option"),p=y(c),_=m("option"),v=y(b),l.__value=201,l.value=l.__value,o.__value=202,o.value=o.__value,f.__value=203,f.value=f.__value,_.__value=200,_.value=_.__value,u(e,"label","Generic hardware")},m(d,g){$(d,e,g),s(e,l),s(l,i),s(e,o),s(o,a),s(e,f),s(f,p),s(e,_),s(_,v)},p(d,g){g&1&&n!==(n=ae(d[0],201)+"")&&j(i,n),g&1&&r!==(r=ae(d[0],202)+"")&&j(a,r),g&1&&c!==(c=ae(d[0],203)+"")&&j(p,c),g&1&&b!==(b=ae(d[0],200)+"")&&j(v,b)},d(d){d&&w(e)}}}function Of(t){let e,l,n=ae(t[0],7)+"",i,o,r=ae(t[0],6)+"",a,f,c=ae(t[0],5)+"",p,_,b,v,d=ae(t[0],51)+"",g,k,C=ae(t[0],50)+"",T;return{c(){e=m("optgroup"),l=m("option"),i=y(n),o=m("option"),a=y(r),f=m("option"),p=y(c),_=h(),b=m("optgroup"),v=m("option"),g=y(d),k=m("option"),T=y(C),l.__value=7,l.value=l.__value,o.__value=6,o.value=o.__value,f.__value=5,f.value=f.__value,u(e,"label","amsleser.no"),v.__value=51,v.value=v.__value,k.__value=50,k.value=k.__value,u(b,"label","Generic hardware")},m(N,I){$(N,e,I),s(e,l),s(l,i),s(e,o),s(o,a),s(e,f),s(f,p),$(N,_,I),$(N,b,I),s(b,v),s(v,g),s(b,k),s(k,T)},p(N,I){I&1&&n!==(n=ae(N[0],7)+"")&&j(i,n),I&1&&r!==(r=ae(N[0],6)+"")&&j(a,r),I&1&&c!==(c=ae(N[0],5)+"")&&j(p,c),I&1&&d!==(d=ae(N[0],51)+"")&&j(g,d),I&1&&C!==(C=ae(N[0],50)+"")&&j(T,C)},d(N){N&&w(e),N&&w(_),N&&w(b)}}}function qf(t){let e,l,n=ae(t[0],8)+"",i,o,r,a,f=ae(t[0],71)+"",c,p,_=ae(t[0],70)+"",b;return{c(){e=m("optgroup"),l=m("option"),i=y(n),o=h(),r=m("optgroup"),a=m("option"),c=y(f),p=m("option"),b=y(_),l.__value=8,l.value=l.__value,u(e,"label","Custom hardware"),a.__value=71,a.value=a.__value,p.__value=70,p.value=p.__value,u(r,"label","Generic hardware")},m(v,d){$(v,e,d),s(e,l),s(l,i),$(v,o,d),$(v,r,d),s(r,a),s(a,c),s(r,p),s(p,b)},p(v,d){d&1&&n!==(n=ae(v[0],8)+"")&&j(i,n),d&1&&f!==(f=ae(v[0],71)+"")&&j(c,f),d&1&&_!==(_=ae(v[0],70)+"")&&j(b,_)},d(v){v&&w(e),v&&w(o),v&&w(r)}}}function Hf(t){let e,l,n=ae(t[0],200)+"",i;return{c(){e=m("optgroup"),l=m("option"),i=y(n),l.__value=200,l.value=l.__value,u(e,"label","Generic hardware")},m(o,r){$(o,e,r),s(e,l),s(l,i)},p(o,r){r&1&&n!==(n=ae(o[0],200)+"")&&j(i,n)},d(o){o&&w(e)}}}function b0(t){let e,l,n,i,o,r,a,f=t[0]=="esp8266"&&Lf(t),c=t[0]=="esp32"&&Uf(t),p=t[0]=="esp32s2"&&Of(t),_=t[0]=="esp32c3"&&qf(t),b=t[0]=="esp32solo"&&Hf(t);return{c(){e=m("option"),l=h(),f&&f.c(),n=h(),c&&c.c(),i=h(),p&&p.c(),o=h(),_&&_.c(),r=h(),b&&b.c(),a=Ke(),e.__value=-1,e.value=e.__value},m(v,d){$(v,e,d),$(v,l,d),f&&f.m(v,d),$(v,n,d),c&&c.m(v,d),$(v,i,d),p&&p.m(v,d),$(v,o,d),_&&_.m(v,d),$(v,r,d),b&&b.m(v,d),$(v,a,d)},p(v,[d]){v[0]=="esp8266"?f?f.p(v,d):(f=Lf(v),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),v[0]=="esp32"?c?c.p(v,d):(c=Uf(v),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),v[0]=="esp32s2"?p?p.p(v,d):(p=Of(v),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null),v[0]=="esp32c3"?_?_.p(v,d):(_=qf(v),_.c(),_.m(r.parentNode,r)):_&&(_.d(1),_=null),v[0]=="esp32solo"?b?b.p(v,d):(b=Hf(v),b.c(),b.m(a.parentNode,a)):b&&(b.d(1),b=null)},i:ie,o:ie,d(v){v&&w(e),v&&w(l),f&&f.d(v),v&&w(n),c&&c.d(v),v&&w(i),p&&p.d(v),v&&w(o),_&&_.d(v),v&&w(r),b&&b.d(v),v&&w(a)}}}function g0(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class k0 extends $e{constructor(e){super(),ye(this,e,g0,b0,ke,{chip:0})}}function jf(t){let e;return{c(){e=m("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",u(e,"class","bd-red")},m(l,n){$(l,e,n)},d(l){l&&w(e)}}}function Wf(t){let e,l,n,i,o,r,a;return r=new Lc({props:{chip:t[0].chip}}),{c(){e=m("div"),l=y("HAN GPIO"),n=m("br"),i=h(),o=m("select"),J(r.$$.fragment),u(o,"name","vh"),u(o,"class","in-s"),u(e,"class","my-3")},m(f,c){$(f,e,c),s(e,l),s(e,n),s(e,i),s(e,o),Q(r,o,null),a=!0},p(f,c){const p={};c&1&&(p.chip=f[0].chip),r.$set(p)},i(f){a||(P(r.$$.fragment,f),a=!0)},o(f){A(r.$$.fragment,f),a=!1},d(f){f&&w(e),X(r)}}}function w0(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C,T,N,I,S,D,E,F,B,Y,z,U,G,L=t[0].usrcfg&&jf();d=new k0({props:{chip:t[0].chip}});let O=t[0].board&&t[0].board>20&&Wf(t);return Y=new Rt({props:{active:t[1],message:"Saving device configuration"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("input"),o=h(),r=m("strong"),r.textContent="Initial configuration",a=h(),L&&L.c(),f=h(),c=m("div"),p=y("Board type"),_=m("br"),b=h(),v=m("select"),J(d.$$.fragment),g=h(),O&&O.c(),k=h(),C=m("div"),T=m("label"),N=m("input"),I=y(" Clear all other configuration"),S=h(),D=m("div"),D.innerHTML='<button type="submit" class="btn-pri">Save</button>',E=h(),F=m("span"),F.textContent="\xA0",B=h(),J(Y.$$.fragment),u(i,"type","hidden"),u(i,"name","v"),i.value="true",u(r,"class","text-sm"),u(v,"name","vb"),u(v,"class","in-s"),t[0].board===void 0&&ot(()=>t[4].call(v)),u(c,"class","my-3"),u(N,"type","checkbox"),u(N,"name","vr"),N.__value="true",N.value=N.__value,u(N,"class","rounded mb-1"),u(C,"class","my-3"),u(D,"class","my-3"),u(F,"class","clear-both"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(W,R){$(W,e,R),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),s(n,a),L&&L.m(n,null),s(n,f),s(n,c),s(c,p),s(c,_),s(c,b),s(c,v),Q(d,v,null),Oe(v,t[0].board,!0),s(n,g),O&&O.m(n,null),s(n,k),s(n,C),s(C,T),s(T,N),N.checked=t[2],s(T,I),s(n,S),s(n,D),s(n,E),s(n,F),$(W,B,R),Q(Y,W,R),z=!0,U||(G=[K(v,"change",t[4]),K(N,"change",t[5]),K(n,"submit",ks(t[3]))],U=!0)},p(W,[R]){W[0].usrcfg?L||(L=jf(),L.c(),L.m(n,f)):L&&(L.d(1),L=null);const q={};R&1&&(q.chip=W[0].chip),d.$set(q),R&1&&Oe(v,W[0].board),W[0].board&&W[0].board>20?O?(O.p(W,R),R&1&&P(O,1)):(O=Wf(W),O.c(),P(O,1),O.m(n,k)):O&&(Me(),A(O,1,1,()=>{O=null}),De()),R&4&&(N.checked=W[2]);const H={};R&2&&(H.active=W[1]),Y.$set(H)},i(W){z||(P(d.$$.fragment,W),P(O),P(Y.$$.fragment,W),z=!0)},o(W){A(d.$$.fragment,W),A(O),A(Y.$$.fragment,W),z=!1},d(W){W&&w(e),L&&L.d(),X(d),O&&O.d(),W&&w(B),X(Y,W),U=!1,st(G)}}}function y0(t,e,l){let{sysinfo:n={}}=e,i=!1;async function o(c){l(1,i=!0);const p=new FormData(c.target),_=new URLSearchParams;for(let d of p){const[g,k]=d;_.append(g,k)}let v=await(await fetch("/save",{method:"POST",body:_})).json();l(1,i=!1),Gt.update(d=>(d.vndcfg=v.success,d.booting=v.reboot,d)),ii(n.usrcfg?"/":"/setup")}let r=!1;function a(){n.board=bt(this),l(0,n)}function f(){r=this.checked,l(2,r),l(0,n)}return t.$$set=c=>{"sysinfo"in c&&l(0,n=c.sysinfo)},t.$$.update=()=>{t.$$.dirty&1&&l(2,r=!n.usrcfg)},[n,i,r,o,a,f]}class $0 extends $e{constructor(e){super(),ye(this,e,y0,w0,ke,{sysinfo:0})}}function Gf(t){let e,l,n,i,o,r,a,f;return a=new Uc({}),{c(){e=m("br"),l=h(),n=m("div"),i=m("input"),o=h(),r=m("select"),J(a.$$.fragment),u(i,"name","si"),u(i,"type","text"),u(i,"class","in-f w-full"),i.required=t[1],u(r,"name","su"),u(r,"class","in-l"),r.required=t[1],u(n,"class","flex")},m(c,p){$(c,e,p),$(c,l,p),$(c,n,p),s(n,i),s(n,o),s(n,r),Q(a,r,null),f=!0},p(c,p){(!f||p&2)&&(i.required=c[1]),(!f||p&2)&&(r.required=c[1])},i(c){f||(P(a.$$.fragment,c),f=!0)},o(c){A(a.$$.fragment,c),f=!1},d(c){c&&w(e),c&&w(l),c&&w(n),X(a)}}}function Bf(t){let e;return{c(){e=m("div"),e.innerHTML=`<div>Gateway<br/> 
                    <input name="sg" type="text" class="in-f w-full"/></div> 
                <div>DNS<br/> 
                    <input name="sd" type="text" class="in-l w-full"/></div>`,u(e,"class","my-3 flex")},m(l,n){$(l,e,n)},d(l){l&&w(e)}}}function C0(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C,T,N,I,S,D,E,F,B,Y,z,U,G=t[1]&&Gf(t),L=t[1]&&Bf();return B=new Rt({props:{active:t[2],message:"Saving your configuration to the device"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("input"),o=h(),r=m("strong"),r.textContent="Setup",a=h(),f=m("div"),f.innerHTML=`SSID<br/> 
                <input name="ss" type="text" class="in-s" required=""/>`,c=h(),p=m("div"),p.innerHTML=`PSK<br/> 
                <input name="sp" type="password" class="in-s" autocomplete="off"/>`,_=h(),b=m("div"),v=y(`Hostname
                `),d=m("input"),g=h(),k=m("div"),C=m("label"),T=m("input"),N=y(" Static IP"),I=h(),G&&G.c(),S=h(),L&&L.c(),D=h(),E=m("div"),E.innerHTML='<button type="submit" class="btn-pri">Save</button>',F=h(),J(B.$$.fragment),u(i,"type","hidden"),u(i,"name","s"),i.value="true",u(r,"class","text-sm"),u(f,"class","my-3"),u(p,"class","my-3"),u(d,"name","sh"),u(d,"type","text"),u(d,"class","in-s"),u(d,"maxlength","32"),u(d,"pattern","[a-z0-9_-]+"),u(d,"placeholder","Optional, ex.: ams-reader"),u(d,"autocomplete","off"),u(T,"type","checkbox"),u(T,"name","sm"),T.__value="static",T.value=T.__value,u(T,"class","rounded mb-1"),u(k,"class","my-3"),u(E,"class","my-3"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(O,W){$(O,e,W),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),s(n,a),s(n,f),s(n,c),s(n,p),s(n,_),s(n,b),s(b,v),s(b,d),V(d,t[0].hostname),s(n,g),s(n,k),s(k,C),s(C,T),T.checked=t[1],s(C,N),s(k,I),G&&G.m(k,null),s(n,S),L&&L.m(n,null),s(n,D),s(n,E),$(O,F,W),Q(B,O,W),Y=!0,z||(U=[K(d,"input",t[4]),K(T,"change",t[5]),K(n,"submit",ks(t[3]))],z=!0)},p(O,[W]){W&1&&d.value!==O[0].hostname&&V(d,O[0].hostname),W&2&&(T.checked=O[1]),O[1]?G?(G.p(O,W),W&2&&P(G,1)):(G=Gf(O),G.c(),P(G,1),G.m(k,null)):G&&(Me(),A(G,1,1,()=>{G=null}),De()),O[1]?L||(L=Bf(),L.c(),L.m(n,D)):L&&(L.d(1),L=null);const R={};W&4&&(R.active=O[2]),B.$set(R)},i(O){Y||(P(G),P(B.$$.fragment,O),Y=!0)},o(O){A(G),A(B.$$.fragment,O),Y=!1},d(O){O&&w(e),G&&G.d(),L&&L.d(),O&&w(F),X(B,O),z=!1,st(U)}}}function T0(t,e,l){let{sysinfo:n={}}=e,i=!1,o=!1,r=0;function a(){var _="";r++;var b=function(){setTimeout(a,1e3)};if(n.net.ip&&r%3==0){if(!n.net.ip){b();return}_="http://"+n.net.ip}else n.hostname&&r%3==1?_="http://"+n.hostname:n.hostname&&r%3==2?_="http://"+n.hostname+".local":_="";console&&console.log("Trying url "+_),Gt.update(d=>(d.trying=_,d));var v=new XMLHttpRequest;v.timeout=5e3,v.addEventListener("abort",b),v.addEventListener("error",b),v.addEventListener("timeout",b),v.addEventListener("load",function(d){window.location.href=_||"/"}),v.open("GET",_+"/is-alive",!0),v.send()}async function f(_){l(2,o=!0);const b=new FormData(_.target),v=new URLSearchParams;for(let k of b){const[C,T]=k;v.append(C,T)}let g=await(await fetch("/save",{method:"POST",body:v})).json();l(2,o=!1),Gt.update(k=>(k.hostname=b.get("sh"),k.usrcfg=g.success,k.booting=g.reboot,i&&(k.net.ip=b.get("si"),k.net.mask=b.get("su"),k.net.gw=b.get("sg"),k.net.dns1=b.get("sd")),setTimeout(a,5e3),k))}function c(){n.hostname=this.value,l(0,n)}function p(){i=this.checked,l(1,i)}return t.$$set=_=>{"sysinfo"in _&&l(0,n=_.sysinfo)},[n,i,o,f,c,p]}class S0 extends $e{constructor(e){super(),ye(this,e,T0,C0,ke,{sysinfo:0})}}function P0(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C;return d=new Rt({props:{active:t[2],message:"Uploading file, please wait"}}),{c(){e=m("div"),l=m("div"),n=m("strong"),i=y("Upload "),o=y(t[1]),r=h(),a=m("p"),a.textContent="Select a suitable file and click upload",f=h(),c=m("form"),p=m("input"),_=h(),b=m("div"),b.innerHTML='<button type="submit" class="btn-pri">Upload</button>',v=h(),J(d.$$.fragment),u(a,"class","mb-4"),u(p,"name","file"),u(p,"type","file"),u(b,"class","w-full text-right mt-4"),u(c,"action",t[0]),u(c,"enctype","multipart/form-data"),u(c,"method","post"),u(c,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(T,N){$(T,e,N),s(e,l),s(l,n),s(n,i),s(n,o),s(l,r),s(l,a),s(l,f),s(l,c),s(c,p),s(c,_),s(c,b),$(T,v,N),Q(d,T,N),g=!0,k||(C=K(c,"submit",t[3]),k=!0)},p(T,[N]){(!g||N&2)&&j(o,T[1]),(!g||N&1)&&u(c,"action",T[0]);const I={};N&4&&(I.active=T[2]),d.$set(I)},i(T){g||(P(d.$$.fragment,T),g=!0)},o(T){A(d.$$.fragment,T),g=!1},d(T){T&&w(e),T&&w(v),X(d,T),k=!1,C()}}}function N0(t,e,l){let{action:n}=e,{title:i}=e,o=!1;const r=()=>l(2,o=!0);return t.$$set=a=>{"action"in a&&l(0,n=a.action),"title"in a&&l(1,i=a.title)},[n,i,o,r]}class ko extends $e{constructor(e){super(),ye(this,e,N0,P0,ke,{action:0,title:1})}}function M0(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C,T,N,I,S,D,E,F,B,Y,z,U,G,L,O;return U=new Rt({props:{active:t[1],message:"Saving preferences"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("div"),i.textContent="Various permissions we need to do stuff:",o=h(),r=m("hr"),a=h(),f=m("div"),c=y("Enable one-click upgrade? (implies data collection)"),p=m("br"),_=h(),b=m("a"),v=y("Read more"),d=m("br"),g=h(),k=m("label"),C=m("input"),N=y(" Yes"),I=m("label"),S=m("input"),E=y(" No"),F=m("br"),B=h(),Y=m("div"),Y.innerHTML='<button type="submit" class="btn-pri">Save</button>',z=h(),J(U.$$.fragment),u(b,"href",Wt("Data-collection-on-one-click-firmware-upgrade")),u(b,"target","_blank"),u(b,"class","text-blue-600 hover:text-blue-800"),u(C,"type","radio"),u(C,"name","sf"),C.value=1,C.checked=T=t[0].fwconsent===1,u(C,"class","rounded m-2"),C.required=!0,u(S,"type","radio"),u(S,"name","sf"),S.value=2,S.checked=D=t[0].fwconsent===2,u(S,"class","rounded m-2"),S.required=!0,u(f,"class","my-3"),u(Y,"class","my-3"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-3 lg:grid-cols-2")},m(W,R){$(W,e,R),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),s(n,a),s(n,f),s(f,c),s(f,p),s(f,_),s(f,b),s(b,v),s(f,d),s(f,g),s(f,k),s(k,C),s(k,N),s(f,I),s(I,S),s(I,E),s(f,F),s(n,B),s(n,Y),$(W,z,R),Q(U,W,R),G=!0,L||(O=K(n,"submit",ks(t[2])),L=!0)},p(W,[R]){(!G||R&1&&T!==(T=W[0].fwconsent===1))&&(C.checked=T),(!G||R&1&&D!==(D=W[0].fwconsent===2))&&(S.checked=D);const q={};R&2&&(q.active=W[1]),U.$set(q)},i(W){G||(P(U.$$.fragment,W),G=!0)},o(W){A(U.$$.fragment,W),G=!1},d(W){W&&w(e),W&&w(z),X(U,W),L=!1,O()}}}function D0(t,e,l){let{sysinfo:n={}}=e,i=!1;async function o(r){l(1,i=!0);const a=new FormData(r.target),f=new URLSearchParams;for(let _ of a){const[b,v]=_;f.append(b,v)}let p=await(await fetch("/save",{method:"POST",body:f})).json();l(1,i=!1),Gt.update(_=>(_.fwconsent=a.sf===!0?1:a.sf===!1?2:0,_.booting=p.reboot,_)),ii("/")}return t.$$set=r=>{"sysinfo"in r&&l(0,n=r.sysinfo)},[n,i,o]}class A0 extends $e{constructor(e){super(),ye(this,e,D0,M0,ke,{sysinfo:0})}}function E0(t){let e,l;return e=new Dp({props:{data:t[1],sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&2&&(o.data=n[1]),i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function I0(t){let e,l;return e=new i0({props:{sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function F0(t){let e,l;return e=new h0({props:{sysinfo:t[0],data:t[1]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),i&2&&(o.data=n[1]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function R0(t){let e,l;return e=new ko({props:{title:"CA",action:"/mqtt-ca"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ie,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function L0(t){let e,l;return e=new ko({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ie,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function U0(t){let e,l;return e=new ko({props:{title:"private key",action:"/mqtt-key"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ie,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function O0(t){let e,l;return e=new A0({props:{sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function q0(t){let e,l;return e=new S0({props:{sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function H0(t){let e,l;return e=new $0({props:{sysinfo:t[0]}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function j0(t){let e,l,n,i,o,r,a,f,c,p,_,b,v,d,g,k,C,T,N,I;return e=new Bm({props:{data:t[1]}}),n=new Sl({props:{path:"/",$$slots:{default:[E0]},$$scope:{ctx:t}}}),o=new Sl({props:{path:"/configuration",$$slots:{default:[I0]},$$scope:{ctx:t}}}),a=new Sl({props:{path:"/status",$$slots:{default:[F0]},$$scope:{ctx:t}}}),c=new Sl({props:{path:"/mqtt-ca",$$slots:{default:[R0]},$$scope:{ctx:t}}}),_=new Sl({props:{path:"/mqtt-cert",$$slots:{default:[L0]},$$scope:{ctx:t}}}),v=new Sl({props:{path:"/mqtt-key",$$slots:{default:[U0]},$$scope:{ctx:t}}}),g=new Sl({props:{path:"/consent",$$slots:{default:[O0]},$$scope:{ctx:t}}}),C=new Sl({props:{path:"/setup",$$slots:{default:[q0]},$$scope:{ctx:t}}}),N=new Sl({props:{path:"/vendor",$$slots:{default:[H0]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),l=h(),J(n.$$.fragment),i=h(),J(o.$$.fragment),r=h(),J(a.$$.fragment),f=h(),J(c.$$.fragment),p=h(),J(_.$$.fragment),b=h(),J(v.$$.fragment),d=h(),J(g.$$.fragment),k=h(),J(C.$$.fragment),T=h(),J(N.$$.fragment)},m(S,D){Q(e,S,D),$(S,l,D),Q(n,S,D),$(S,i,D),Q(o,S,D),$(S,r,D),Q(a,S,D),$(S,f,D),Q(c,S,D),$(S,p,D),Q(_,S,D),$(S,b,D),Q(v,S,D),$(S,d,D),Q(g,S,D),$(S,k,D),Q(C,S,D),$(S,T,D),Q(N,S,D),I=!0},p(S,D){const E={};D&2&&(E.data=S[1]),e.$set(E);const F={};D&7&&(F.$$scope={dirty:D,ctx:S}),n.$set(F);const B={};D&5&&(B.$$scope={dirty:D,ctx:S}),o.$set(B);const Y={};D&7&&(Y.$$scope={dirty:D,ctx:S}),a.$set(Y);const z={};D&4&&(z.$$scope={dirty:D,ctx:S}),c.$set(z);const U={};D&4&&(U.$$scope={dirty:D,ctx:S}),_.$set(U);const G={};D&4&&(G.$$scope={dirty:D,ctx:S}),v.$set(G);const L={};D&5&&(L.$$scope={dirty:D,ctx:S}),g.$set(L);const O={};D&5&&(O.$$scope={dirty:D,ctx:S}),C.$set(O);const W={};D&5&&(W.$$scope={dirty:D,ctx:S}),N.$set(W)},i(S){I||(P(e.$$.fragment,S),P(n.$$.fragment,S),P(o.$$.fragment,S),P(a.$$.fragment,S),P(c.$$.fragment,S),P(_.$$.fragment,S),P(v.$$.fragment,S),P(g.$$.fragment,S),P(C.$$.fragment,S),P(N.$$.fragment,S),I=!0)},o(S){A(e.$$.fragment,S),A(n.$$.fragment,S),A(o.$$.fragment,S),A(a.$$.fragment,S),A(c.$$.fragment,S),A(_.$$.fragment,S),A(v.$$.fragment,S),A(g.$$.fragment,S),A(C.$$.fragment,S),A(N.$$.fragment,S),I=!1},d(S){X(e,S),S&&w(l),X(n,S),S&&w(i),X(o,S),S&&w(r),X(a,S),S&&w(f),X(c,S),S&&w(p),X(_,S),S&&w(b),X(v,S),S&&w(d),X(g,S),S&&w(k),X(C,S),S&&w(T),X(N,S)}}}function W0(t){let e,l,n,i;const o=[z0,B0],r=[];function a(f,c){return f[0].trying?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=Ke()},m(f,c){r[e].m(f,c),$(f,n,c),i=!0},p(f,c){let p=e;e=a(f),e===p?r[e].p(f,c):(Me(),A(r[p],1,1,()=>{r[p]=null}),De(),l=r[e],l?l.p(f,c):(l=r[e]=o[e](f),l.c()),P(l,1),l.m(n.parentNode,n))},i(f){i||(P(l),i=!0)},o(f){A(l),i=!1},d(f){r[e].d(f),f&&w(n)}}}function G0(t){let e,l;return e=new Rt({props:{active:"true",message:"Device is upgrading, please wait"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ie,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function B0(t){let e,l;return e=new Rt({props:{active:"true",message:"Device is booting, please wait"}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p:ie,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function z0(t){let e,l;return e=new Rt({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[0].trying}}),{c(){J(e.$$.fragment)},m(n,i){Q(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.message="Device is booting, please wait. Trying to reach it on "+n[0].trying),e.$set(o)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){X(e,n)}}}function Y0(t){let e,l,n,i,o,r;l=new bc({props:{$$slots:{default:[j0]},$$scope:{ctx:t}}});const a=[G0,W0],f=[];function c(p,_){return p[0].upgrading?0:p[0].booting?1:-1}return~(i=c(t))&&(o=f[i]=a[i](t)),{c(){e=m("div"),J(l.$$.fragment),n=h(),o&&o.c(),u(e,"class","container mx-auto m-3")},m(p,_){$(p,e,_),Q(l,e,null),s(e,n),~i&&f[i].m(e,null),r=!0},p(p,[_]){const b={};_&7&&(b.$$scope={dirty:_,ctx:p}),l.$set(b);let v=i;i=c(p),i===v?~i&&f[i].p(p,_):(o&&(Me(),A(f[v],1,1,()=>{f[v]=null}),De()),~i?(o=f[i],o?o.p(p,_):(o=f[i]=a[i](p),o.c()),P(o,1),o.m(e,null)):o=null)},i(p){r||(P(l.$$.fragment,p),P(o),r=!0)},o(p){A(l.$$.fragment,p),A(o),r=!1},d(p){p&&w(e),X(l),~i&&f[i].d()}}}function V0(t,e,l){let n={};Gt.subscribe(o=>{l(0,n=o),n.vndcfg===!1?ii("/vendor"):n.usrcfg===!1?ii("/setup"):n.fwconsent===0&&ii("/consent")}),_o();let i={};return cm.subscribe(o=>{l(1,i=o)}),[n,i]}class K0 extends $e{constructor(e){super(),ye(this,e,V0,Y0,ke,{})}}new K0({target:document.getElementById("app")});
