(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function be(){}function fl(t,e){for(const n in e)t[n]=e[n];return t}function E1(t){return t()}function yr(){return Object.create(null)}function nt(t){t.forEach(E1)}function co(t){return typeof t=="function"}function Be(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ms;function vs(t,e){return ms||(ms=document.createElement("a")),ms.href=e,t===ms.href}function T0(t){return Object.keys(t).length===0}function mo(t,...e){if(t==null)return be;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ni(t){let e;return mo(t,n=>e=n)(),e}function gl(t,e,n){t.$$.on_destroy.push(mo(e,n))}function _o(t,e,n,l){if(t){const i=P1(t,e,n,l);return t[0](i)}}function P1(t,e,n,l){return t[1]&&l?fl(n.ctx.slice(),t[1](l(e))):n.ctx}function po(t,e,n,l){if(t[2]&&l){const i=t[2](l(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],u=Math.max(e.dirty.length,i.length);for(let m=0;m<u;m+=1)o[m]=e.dirty[m]|i[m];return o}return e.dirty|i}return e.dirty}function ho(t,e,n,l,i,o){if(i){const u=P1(e,n,l,o);t.p(u,i)}}function vo(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function bs(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function gs(t,e){const n={};e=new Set(e);for(const l in t)!e.has(l)&&l[0]!=="$"&&(n[l]=t[l]);return n}const N0=["",!0,1,"true","contenteditable"];function s(t,e){t.appendChild(e)}function M(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function ft(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function c(t){return document.createElement(t)}function je(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function E(t){return document.createTextNode(t)}function b(){return E(" ")}function it(){return E("")}function Q(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function Ti(t){return function(e){return e.preventDefault(),t.call(this,e)}}function a(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const E0=["width","height"];function ii(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const l in e)e[l]==null?t.removeAttribute(l):l==="style"?t.style.cssText=e[l]:l==="__value"?t.value=t[l]=e[l]:n[l]&&n[l].set&&E0.indexOf(l)===-1?t[l]=e[l]:a(t,l,e[l])}function Se(t){return t===""?null:+t}function P0(t){return Array.from(t.childNodes)}function X(t,e){e=""+e,t.data!==e&&(t.data=e)}function A0(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $0(t,e,n){~N0.indexOf(n)?A0(t,e):X(t,e)}function ue(t,e){t.value=e==null?"":e}function ki(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function Te(t,e,n){for(let l=0;l<t.options.length;l+=1){const i=t.options[l];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function ot(t){const e=t.querySelector(":checked");return e&&e.__value}let _s;function D0(){if(_s===void 0){_s=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{_s=!0}}return _s}function bo(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const l=c("iframe");l.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const i=D0();let o;return i?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=Q(window,"message",u=>{u.source===l.contentWindow&&e()})):(l.src="about:blank",l.onload=()=>{o=Q(l.contentWindow,"resize",e),e()}),s(t,l),()=>{(i||o&&l.contentWindow)&&o(),y(l)}}function L0(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,l,e),i}function Mr(t,e){return new t(e)}let yi;function wi(t){yi=t}function Ni(){if(!yi)throw new Error("Function called outside component initialization");return yi}function A1(t){Ni().$$.on_mount.push(t)}function I0(t){Ni().$$.on_destroy.push(t)}function R0(){const t=Ni();return(e,n,{cancelable:l=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=L0(e,n,{cancelable:l});return i.slice().forEach(u=>{u.call(t,o)}),!o.defaultPrevented}return!0}}function Ci(t,e){return Ni().$$.context.set(t,e),e}function jl(t){return Ni().$$.context.get(t)}const ei=[],ks=[];let ti=[];const Sr=[],$1=Promise.resolve();let Zs=!1;function D1(){Zs||(Zs=!0,$1.then(L1))}function F0(){return D1(),$1}function Ze(t){ti.push(t)}const Gs=new Set;let Jn=0;function L1(){if(Jn!==0)return;const t=yi;do{try{for(;Jn<ei.length;){const e=ei[Jn];Jn++,wi(e),O0(e.$$)}}catch(e){throw ei.length=0,Jn=0,e}for(wi(null),ei.length=0,Jn=0;ks.length;)ks.pop()();for(let e=0;e<ti.length;e+=1){const n=ti[e];Gs.has(n)||(Gs.add(n),n())}ti.length=0}while(ei.length);for(;Sr.length;)Sr.pop()();Zs=!1,Gs.clear(),wi(t)}function O0(t){if(t.fragment!==null){t.update(),nt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}function q0(t){const e=[],n=[];ti.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),ti=e}const hs=new Set;let on;function $e(){on={r:0,c:[],p:on}}function De(){on.r||nt(on.c),on=on.p}function L(t,e){t&&t.i&&(hs.delete(t),t.i(e))}function q(t,e,n,l){if(t&&t.o){if(hs.has(t))return;hs.add(t),on.c.push(()=>{hs.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function I1(t,e){const n={},l={},i={$$scope:1};let o=t.length;for(;o--;){const u=t[o],m=e[o];if(m){for(const r in u)r in m||(l[r]=1);for(const r in m)i[r]||(n[r]=m[r],i[r]=1);t[o]=m}else for(const r in u)i[r]=1}for(const u in l)u in n||(n[u]=void 0);return n}function Tr(t){return typeof t=="object"&&t!==null?t:{}}function ae(t){t&&t.c()}function se(t,e,n,l){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),l||Ze(()=>{const u=t.$$.on_mount.map(E1).filter(co);t.$$.on_destroy?t.$$.on_destroy.push(...u):nt(u),t.$$.on_mount=[]}),o.forEach(Ze)}function oe(t,e){const n=t.$$;n.fragment!==null&&(q0(n.after_update),nt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function B0(t,e){t.$$.dirty[0]===-1&&(ei.push(t),D1(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function He(t,e,n,l,i,o,u,m=[-1]){const r=yi;wi(t);const f=t.$$={fragment:null,ctx:[],props:o,update:be,not_equal:i,bound:yr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:yr(),dirty:m,skip_bound:!1,root:e.target||r.$$.root};u&&u(f.root);let p=!1;if(f.ctx=n?n(t,e.props||{},(_,v,...h)=>{const d=h.length?h[0]:v;return f.ctx&&i(f.ctx[_],f.ctx[_]=d)&&(!f.skip_bound&&f.bound[_]&&f.bound[_](d),p&&B0(t,_)),v}):[],f.update(),p=!0,nt(f.before_update),f.fragment=l?l(f.ctx):!1,e.target){if(e.hydrate){const _=P0(e.target);f.fragment&&f.fragment.l(_),_.forEach(y)}else f.fragment&&f.fragment.c();e.intro&&L(t.$$.fragment),se(t,e.target,e.anchor,e.customElement),L1()}wi(r)}class We{$destroy(){oe(this,1),this.$destroy=be}$on(e,n){if(!co(n))return be;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!T0(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Nr=t=>typeof t>"u",R1=t=>typeof t=="function",F1=t=>typeof t=="number";function U0(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O1(){let t=0;return()=>t++}function j0(){return Math.random().toString(36).substring(2)}const Hl=typeof window>"u";function q1(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}const B1=(t,e)=>t?{}:{style:e},Js=t=>({"aria-hidden":"true",...B1(t,"display:none;")}),xn=[];function U1(t,e){return{subscribe:pt(t,e).subscribe}}function pt(t,e=be){let n;const l=new Set;function i(m){if(Be(t,m)&&(t=m,n)){const r=!xn.length;for(const f of l)f[1](),xn.push(f,t);if(r){for(let f=0;f<xn.length;f+=2)xn[f][0](xn[f+1]);xn.length=0}}}function o(m){i(m(t))}function u(m,r=be){const f=[m,r];return l.add(f),l.size===1&&(n=e(i)||be),m(t),()=>{l.delete(f),l.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:u}}function H0(t,e,n){const l=!Array.isArray(t),i=l?[t]:t,o=e.length<2;return U1(n,u=>{let m=!1;const r=[];let f=0,p=be;const _=()=>{if(f)return;p();const h=e(l?r[0]:r,u);o?u(h):p=co(h)?h:be},v=i.map((h,d)=>mo(h,g=>{r[d]=g,f&=~(1<<d),m&&_()},()=>{f|=1<<d}));return m=!0,_(),function(){nt(v),p(),m=!1}})}const Ei=t=>`@@svnav-ctx__${t}`,xs=Ei("LOCATION"),si=Ei("ROUTER"),j1=Ei("ROUTE"),W0=Ei("ROUTE_PARAMS"),z0=Ei("FOCUS_ELEM"),H1=/^:(.+)/,vi=(t,e,n)=>t.substr(e,n),eo=(t,e)=>vi(t,0,e.length)===e,G0=t=>t==="",V0=t=>H1.test(t),W1=t=>t[0]==="*",K0=t=>t.replace(/\*.*$/,""),z1=t=>t.replace(/(^\/+|\/+$)/g,"");function wl(t,e=!1){const n=z1(t).split("/");return e?n.filter(Boolean):n}const Vs=(t,e)=>t+(e?`?${e}`:""),go=t=>`/${z1(t)}`;function Pi(...t){const e=l=>wl(l,!0).join("/"),n=t.map(e).join("/");return go(n)}const ko=1,Ms=2,mn=3,Y0=4,G1=5,Q0=6,V1=7,X0=8,Z0=9,K1=10,Y1=11,J0={[ko]:"Link",[Ms]:"Route",[mn]:"Router",[Y0]:"useFocus",[G1]:"useLocation",[Q0]:"useMatch",[V1]:"useNavigate",[X0]:"useParams",[Z0]:"useResolvable",[K1]:"useResolve",[Y1]:"navigate"},wo=t=>J0[t];function x0(t,e){let n;return t===Ms?n=e.path?`path="${e.path}"`:"default":t===ko?n=`to="${e.to}"`:t===mn&&(n=`basepath="${e.basepath||""}"`),`<${wo(t)} ${n||""} />`}function ec(t,e,n,l){const i=n&&x0(l||t,n),o=i?`

Occurred in: ${i}`:"",u=wo(t),m=R1(e)?e(u):e;return`<${u}> ${m}${o}`}const Q1=t=>(...e)=>t(ec(...e)),X1=Q1(t=>{throw new Error(t)}),ws=Q1(console.warn),Er=4,tc=3,lc=2,nc=1,ic=1;function sc(t,e){const n=t.default?0:wl(t.fullPath).reduce((l,i)=>{let o=l;return o+=Er,G0(i)?o+=ic:V0(i)?o+=lc:W1(i)?o-=Er+nc:o+=tc,o},0);return{route:t,score:n,index:e}}function oc(t){return t.map(sc).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index)}function Z1(t,e){let n,l;const[i]=e.split("?"),o=wl(i),u=o[0]==="",m=oc(t);for(let r=0,f=m.length;r<f;r++){const{route:p}=m[r];let _=!1;const v={},h=A=>({...p,params:v,uri:A});if(p.default){l=h(e);continue}const d=wl(p.fullPath),g=Math.max(o.length,d.length);let k=0;for(;k<g;k++){const A=d[k],T=o[k];if(!Nr(A)&&W1(A)){const F=A==="*"?"*":A.slice(1);v[F]=o.slice(k).map(decodeURIComponent).join("/");break}if(Nr(T)){_=!0;break}const P=H1.exec(A);if(P&&!u){const F=decodeURIComponent(T);v[P[1]]=F}else if(A!==T){_=!0;break}}if(!_){n=h(Pi(...o.slice(0,k)));break}}return n||l||null}function J1(t,e){return Z1([t],e)}function ac(t,e){if(eo(t,"/"))return t;const[n,l]=t.split("?"),[i]=e.split("?"),o=wl(n),u=wl(i);if(o[0]==="")return Vs(i,l);if(!eo(o[0],".")){const f=u.concat(o).join("/");return Vs((i==="/"?"":"/")+f,l)}const m=u.concat(o),r=[];return m.forEach(f=>{f===".."?r.pop():f!=="."&&r.push(f)}),Vs(`/${r.join("/")}`,l)}function Pr(t,e){const{pathname:n,hash:l="",search:i="",state:o}=t,u=wl(e,!0),m=wl(n,!0);for(;u.length;)u[0]!==m[0]&&X1(mn,`Invalid state: All locations must begin with the basepath "${e}", found "${n}"`),u.shift(),m.shift();return{pathname:Pi(...m),hash:l,search:i,state:o}}const Ar=t=>t.length===1?"":t,Co=t=>{const e=t.indexOf("?"),n=t.indexOf("#"),l=e!==-1,i=n!==-1,o=i?Ar(vi(t,n)):"",u=i?vi(t,0,n):t,m=l?Ar(vi(u,e)):"";return{pathname:(l?vi(u,0,e):u)||"/",search:m,hash:o}},rc=t=>{const{pathname:e,search:n,hash:l}=t;return e+n+l};function uc(t,e,n){return Pi(n,ac(t,e))}function fc(t,e){const n=go(K0(t)),l=wl(n,!0),i=wl(e,!0).slice(0,l.length),o=J1({fullPath:n},Pi(...i));return o&&o.uri}const Ks="POP",cc="PUSH",mc="REPLACE";function Ys(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function _c(t){let e=[],n=Ys(t),l=Ks;const i=(o=e)=>o.forEach(u=>u({location:n,action:l}));return{get location(){return n},listen(o){e.push(o);const u=()=>{n=Ys(t),l=Ks,i([o])};i([o]);const m=q1(t,"popstate",u);return()=>{m(),e=e.filter(r=>r!==o)}},navigate(o,u){const{state:m={},replace:r=!1}=u||{};if(l=r?mc:cc,F1(o))u&&ws(Y1,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),l=Ks,t.history.go(o);else{const f={...m,_key:j0()};try{t.history[r?"replaceState":"pushState"](f,"",o)}catch{t.location[r?"replace":"assign"](o)}}n=Ys(t),i()}}}function Qs(t,e){return{...Co(e),state:t}}function pc(t="/"){let e=0,n=[Qs(null,t)];return{get entries(){return n},get location(){return n[e]},addEventListener(){},removeEventListener(){},history:{get state(){return n[e].state},pushState(l,i,o){e++,n=n.slice(0,e),n.push(Qs(l,o))},replaceState(l,i,o){n[e]=Qs(l,o)},go(l){const i=e+l;i<0||i>n.length-1||(e=i)}}}}const dc=!!(!Hl&&window.document&&window.document.createElement),hc=!Hl&&window.location.origin==="null",x1=_c(dc&&!hc?window:pc()),{navigate:cn}=x1;let Pl=null,e0=!0;function vc(t,e){const n=document.querySelectorAll("[data-svnav-router]");for(let l=0;l<n.length;l++){const i=n[l],o=Number(i.dataset.svnavRouter);if(o===t)return!0;if(o===e)return!1}return!1}function bc(t){(!Pl||t.level>Pl.level||t.level===Pl.level&&vc(t.routerId,Pl.routerId))&&(Pl=t)}function gc(){Pl=null}function kc(){e0=!1}function $r(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let n;n=q1(t,"blur",()=>{t.removeAttribute(e),n()})}return t.focus(),document.activeElement===t}catch{return!1}}function wc(t,e){return Number(t.dataset.svnavRouteEnd)===e}function Cc(t){return/^H[1-6]$/i.test(t.tagName)}function Dr(t,e=document){return e.querySelector(t)}function yc(t){let n=Dr(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!wc(n,t);){if(Cc(n))return n;const l=Dr("h1,h2,h3,h4,h5,h6",n);if(l)return l;n=n.nextElementSibling}return null}function Mc(t){Promise.resolve(ni(t.focusElement)).then(e=>{const n=e||yc(t.id);n||ws(mn,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,Ms),!$r(n)&&$r(document.documentElement)})}const Sc=(t,e,n)=>(l,i)=>F0().then(()=>{if(!Pl||e0){kc();return}if(l&&Mc(Pl.route),t.announcements&&i){const{path:o,fullPath:u,meta:m,params:r,uri:f}=Pl.route,p=t.createAnnouncement({path:o,fullPath:u,meta:m,params:r,uri:f},ni(n));Promise.resolve(p).then(_=>{e.set(_)})}gc()}),Tc="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function Nc(t){let e,n,l=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},B1(t[6],Tc)],i={};for(let o=0;o<l.length;o+=1)i=fl(i,l[o]);return{c(){e=c("div"),n=E(t[0]),ii(e,i)},m(o,u){M(o,e,u),s(e,n)},p(o,u){u[0]&1&&$0(n,o[0],i.contenteditable)},d(o){o&&y(e)}}}function Ec(t){let e,n,l,i,o,u=[Js(t[6]),{"data-svnav-router":t[3]}],m={};for(let _=0;_<u.length;_+=1)m=fl(m,u[_]);const r=t[22].default,f=_o(r,t,t[21],null);let p=t[2]&&t[4]&&t[1].announcements&&Nc(t);return{c(){e=c("div"),n=b(),f&&f.c(),l=b(),p&&p.c(),i=it(),ii(e,m)},m(_,v){M(_,e,v),M(_,n,v),f&&f.m(_,v),M(_,l,v),p&&p.m(_,v),M(_,i,v),o=!0},p(_,v){f&&f.p&&(!o||v[0]&2097152)&&ho(f,r,_,_[21],o?po(r,_[21],v,null):vo(_[21]),null),_[2]&&_[4]&&_[1].announcements&&p.p(_,v)},i(_){o||(L(f,_),o=!0)},o(_){q(f,_),o=!1},d(_){_&&y(e),_&&y(n),f&&f.d(_),_&&y(l),p&&p.d(_),_&&y(i)}}}const Pc=O1(),Lr="/";function Ac(t,e,n){let l,i,o,u,m,{$$slots:r={},$$scope:f}=e,{basepath:p=Lr}=e,{url:_=null}=e,{history:v=x1}=e,{primary:h=!0}=e,{a11y:d={}}=e,{disableInlineStyles:g=!1}=e;const k={createAnnouncement:ne=>`Navigated to ${ne.uri}`,announcements:!0,...d},A=p,T=go(p),P=jl(xs),F=jl(si),I=!P,R=Pc(),w=h&&!(F&&!F.manageFocus),$=pt("");gl(t,$,ne=>n(0,m=ne));const ie=F?F.disableInlineStyles:g,j=pt([]);gl(t,j,ne=>n(20,u=ne));const U=pt(null);gl(t,U,ne=>n(18,i=ne));let H=!1;const G=I?0:F.level+1,K=I?pt((()=>Pr(Hl?Co(_):v.location,T))()):P;gl(t,K,ne=>n(17,l=ne));const Z=pt(l);gl(t,Z,ne=>n(19,o=ne));const z=Sc(k,$,K),W=ne=>me=>me.filter(Y=>Y.id!==ne);function x(ne){if(Hl){if(H)return;const me=J1(ne,l.pathname);if(me)return H=!0,me}else j.update(me=>{const Y=W(ne.id)(me);return Y.push(ne),Y})}function _e(ne){j.update(W(ne))}return!I&&p!==Lr&&ws(mn,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:p}),I&&(A1(()=>v.listen(me=>{const Y=Pr(me.location,T);Z.set(l),K.set(Y)})),Ci(xs,K)),Ci(si,{activeRoute:U,registerRoute:x,unregisterRoute:_e,manageFocus:w,level:G,id:R,history:I?v:F.history,basepath:I?T:F.basepath,disableInlineStyles:ie}),t.$$set=ne=>{"basepath"in ne&&n(11,p=ne.basepath),"url"in ne&&n(12,_=ne.url),"history"in ne&&n(13,v=ne.history),"primary"in ne&&n(14,h=ne.primary),"a11y"in ne&&n(15,d=ne.a11y),"disableInlineStyles"in ne&&n(16,g=ne.disableInlineStyles),"$$scope"in ne&&n(21,f=ne.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&p!==A&&ws(mn,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const ne=Z1(u,l.pathname);U.set(ne)}if(t.$$.dirty[0]&655360&&I){const ne=!!l.hash,me=!ne&&w,Y=!ne||l.pathname!==o.pathname;z(me,Y)}t.$$.dirty[0]&262144&&w&&i&&i.primary&&bc({level:G,routerId:R,route:i})},[m,k,I,R,w,$,ie,j,U,K,Z,p,_,v,h,d,g,l,i,o,u,f,r]}class $c extends We{constructor(e){super(),He(this,e,Ac,Ec,Be,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const t0=$c;function Ai(t,e,n=si,l=mn){jl(n)||X1(t,o=>`You cannot use ${o} outside of a ${wo(l)}.`,e)}const Dc=t=>{const{subscribe:e}=jl(t);return{subscribe:e}};function l0(){return Ai(G1),Dc(xs)}function n0(){const{history:t}=jl(si);return t}function i0(){const t=jl(j1);return t?H0(t,e=>e.base):pt("/")}function s0(){Ai(K1);const t=i0(),{basepath:e}=jl(si);return l=>uc(l,ni(t),e)}function Lc(){Ai(V1);const t=s0(),{navigate:e}=n0();return(l,i)=>{const o=F1(l)?l:t(l);return e(o,i)}}const Ic=t=>({params:t&16,location:t&8}),Ir=t=>({params:Hl?ni(t[10]):t[4],location:t[3],navigate:t[11]});function Rr(t){let e,n;return e=new t0({props:{primary:t[1],$$slots:{default:[Oc]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.primary=l[1]),i&528409&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Rc(t){let e;const n=t[18].default,l=_o(n,t,t[19],Ir);return{c(){l&&l.c()},m(i,o){l&&l.m(i,o),e=!0},p(i,o){l&&l.p&&(!e||o&524312)&&ho(l,n,i,i[19],e?po(n,i[19],o,Ic):vo(i[19]),Ir)},i(i){e||(L(l,i),e=!0)},o(i){q(l,i),e=!1},d(i){l&&l.d(i)}}}function Fc(t){let e,n,l;const i=[{location:t[3]},{navigate:t[11]},Hl?ni(t[10]):t[4],t[12]];var o=t[0];function u(m){let r={};for(let f=0;f<i.length;f+=1)r=fl(r,i[f]);return{props:r}}return o&&(e=Mr(o,u())),{c(){e&&ae(e.$$.fragment),n=it()},m(m,r){e&&se(e,m,r),M(m,n,r),l=!0},p(m,r){const f=r&7192?I1(i,[r&8&&{location:m[3]},r&2048&&{navigate:m[11]},r&1040&&Tr(Hl?ni(m[10]):m[4]),r&4096&&Tr(m[12])]):{};if(r&1&&o!==(o=m[0])){if(e){$e();const p=e;q(p.$$.fragment,1,0,()=>{oe(p,1)}),De()}o?(e=Mr(o,u()),ae(e.$$.fragment),L(e.$$.fragment,1),se(e,n.parentNode,n)):e=null}else o&&e.$set(f)},i(m){l||(e&&L(e.$$.fragment,m),l=!0)},o(m){e&&q(e.$$.fragment,m),l=!1},d(m){m&&y(n),e&&oe(e,m)}}}function Oc(t){let e,n,l,i;const o=[Fc,Rc],u=[];function m(r,f){return r[0]!==null?0:1}return e=m(t),n=u[e]=o[e](t),{c(){n.c(),l=it()},m(r,f){u[e].m(r,f),M(r,l,f),i=!0},p(r,f){let p=e;e=m(r),e===p?u[e].p(r,f):($e(),q(u[p],1,1,()=>{u[p]=null}),De(),n=u[e],n?n.p(r,f):(n=u[e]=o[e](r),n.c()),L(n,1),n.m(l.parentNode,l))},i(r){i||(L(n),i=!0)},o(r){q(n),i=!1},d(r){u[e].d(r),r&&y(l)}}}function qc(t){let e,n,l,i,o,u=[Js(t[7]),{"data-svnav-route-start":t[5]}],m={};for(let _=0;_<u.length;_+=1)m=fl(m,u[_]);let r=t[2]&&Rr(t),f=[Js(t[7]),{"data-svnav-route-end":t[5]}],p={};for(let _=0;_<f.length;_+=1)p=fl(p,f[_]);return{c(){e=c("div"),n=b(),r&&r.c(),l=b(),i=c("div"),ii(e,m),ii(i,p)},m(_,v){M(_,e,v),M(_,n,v),r&&r.m(_,v),M(_,l,v),M(_,i,v),o=!0},p(_,[v]){_[2]?r?(r.p(_,v),v&4&&L(r,1)):(r=Rr(_),r.c(),L(r,1),r.m(l.parentNode,l)):r&&($e(),q(r,1,1,()=>{r=null}),De())},i(_){o||(L(r),o=!0)},o(_){q(r),o=!1},d(_){_&&y(e),_&&y(n),r&&r.d(_),_&&y(l),_&&y(i)}}}const Bc=O1();function Uc(t,e,n){let l;const i=["path","component","meta","primary"];let o=gs(e,i),u,m,r,f,{$$slots:p={},$$scope:_}=e,{path:v=""}=e,{component:h=null}=e,{meta:d={}}=e,{primary:g=!0}=e;Ai(Ms,e);const k=Bc(),{registerRoute:A,unregisterRoute:T,activeRoute:P,disableInlineStyles:F}=jl(si);gl(t,P,H=>n(16,u=H));const I=i0();gl(t,I,H=>n(17,r=H));const R=l0();gl(t,R,H=>n(3,m=H));const w=pt(null);let $;const ie=pt(),j=pt({});gl(t,j,H=>n(4,f=H)),Ci(j1,ie),Ci(W0,j),Ci(z0,w);const U=Lc();return Hl||I0(()=>T(k)),t.$$set=H=>{n(24,e=fl(fl({},e),bs(H))),n(12,o=gs(e,i)),"path"in H&&n(13,v=H.path),"component"in H&&n(0,h=H.component),"meta"in H&&n(14,d=H.meta),"primary"in H&&n(1,g=H.primary),"$$scope"in H&&n(19,_=H.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const H=v==="",G=Pi(r,v),V={id:k,path:v,meta:d,default:H,fullPath:H?"":G,base:H?r:fc(G,m.pathname),primary:g,focusElement:w};ie.set(V),n(15,$=A(V))}if(t.$$.dirty&98304&&n(2,l=!!($||u&&u.id===k)),t.$$.dirty&98308&&l){const{params:H}=$||u;j.set(H)}},e=bs(e),[h,g,l,m,f,k,P,F,I,R,j,U,o,v,d,$,u,r,p,_]}class jc extends We{constructor(e){super(),He(this,e,Uc,qc,Be,{path:13,component:0,meta:14,primary:1})}}const vl=jc;function Hc(t){let e,n,l,i;const o=t[13].default,u=_o(o,t,t[12],null);let m=[{href:t[0]},t[2],t[1]],r={};for(let f=0;f<m.length;f+=1)r=fl(r,m[f]);return{c(){e=c("a"),u&&u.c(),ii(e,r)},m(f,p){M(f,e,p),u&&u.m(e,null),n=!0,l||(i=Q(e,"click",t[4]),l=!0)},p(f,[p]){u&&u.p&&(!n||p&4096)&&ho(u,o,f,f[12],n?po(o,f[12],p,null):vo(f[12]),null),ii(e,r=I1(m,[(!n||p&1)&&{href:f[0]},p&4&&f[2],p&2&&f[1]]))},i(f){n||(L(u,f),n=!0)},o(f){q(u,f),n=!1},d(f){f&&y(e),u&&u.d(f),l=!1,i()}}}function Wc(t,e,n){let l,i,o,u,m,r;const f=["to","replace","state","getProps"];let p=gs(e,f),_,{$$slots:v={},$$scope:h}=e,{to:d}=e,{replace:g=!1}=e,{state:k={}}=e,{getProps:A=null}=e;Ai(ko,e);const T=l0();gl(t,T,w=>n(11,_=w));const P=R0(),F=s0(),{navigate:I}=n0();function R(w){P("click",w),U0(w)&&(w.preventDefault(),I(l,{state:k,replace:u||g}))}return t.$$set=w=>{n(19,e=fl(fl({},e),bs(w))),n(18,p=gs(e,f)),"to"in w&&n(5,d=w.to),"replace"in w&&n(6,g=w.replace),"state"in w&&n(7,k=w.state),"getProps"in w&&n(8,A=w.getProps),"$$scope"in w&&n(12,h=w.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&n(0,l=F(d,_)),t.$$.dirty&2049&&n(10,i=eo(_.pathname,l)),t.$$.dirty&2049&&n(9,o=l===_.pathname),t.$$.dirty&2049&&(u=Co(l)===rc(_)),t.$$.dirty&512&&n(2,m=o?{"aria-current":"page"}:{}),n(1,r=(()=>{if(R1(A)){const w=A({location:_,href:l,isPartiallyCurrent:i,isCurrent:o});return{...p,...w}}return p})())},e=bs(e),[l,r,m,T,R,d,g,k,A,o,i,_,h,v]}class zc extends We{constructor(e){super(),He(this,e,Wc,Hc,Be,{to:5,replace:6,state:7,getProps:8})}}const el=zc;let Mi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ul(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function Gc(t,e){return e?t>218&&t<242?"#32c000":t>212&&t<248?"#b1c000":t>208&&t<252?"#ffa000":"#d90000":t>218&&t<242?"#32d900":t>212&&t<248?"#b1d900":t>208&&t<252?"#ffb800":"#d90000"}function yo(t,e){let n;return e?t>90?n="#d90000":t>85?n="#e31000":t>80?n="#ffa900":t>75?n="#dcc300":n="#32c500":t>90?n="#d90000":t>85?n="#e32100":t>80?n="#ffb800":t>75?n="#dcd800":n="#32d900",n}function Si(t){return t>75?"#32d900":t>50?"#77d900":t>25?"#94d900":"#dcd800"}function Cs(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return"Unknown"}}function Ye(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function Ce(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 241:return"LilyGO T-ETH-POE";case 242:return"M5 PoESP32";case 243:return"WT32-ETH01";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"\xB5HAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1";case 80:return"Generic ESP32-S3"}}function Fr(t){switch(t){case-1:return"Parse error";case-2:return"Incomplete data received";case-3:return"Payload boundry flag missing";case-4:return"Header checksum error";case-5:return"Footer checksum error";case-9:return"Unknown data received, check meter config";case-41:return"Frame length not equal";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid";case 90:return"No HAN data received for at least 30s";case 91:return"Serial break";case 92:return"Serial buffer full";case 93:return"Serial FIFO overflow";case 94:return"Serial frame error";case 95:return"Serial parity error";case 96:return"RX error";case 98:return"Exception in code, debugging necessary";case 99:return"Autodetection failed"}return t<0?"Unspecified error "+t:""}function Or(t){switch(t){case-3:return"Connection failed";case-4:return"Network timeout";case-10:return"Connection denied";case-11:return"Failed to subscribe";case-13:return"Connection lost"}return t<0?"Unspecified error "+t:""}function qr(t){switch(t){case 400:return"Unrecognized data in request";case 401:case 403:return"Unauthorized, check API key";case 404:return"Price unavailable, not found";case 425:return"Server says its too early";case 429:return"Exceeded API rate limit";case 500:return"Internal server error";case-1:return"Connection error";case-2:return"Incomplete data received";case-3:return"Invalid data, tag missing";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid"}return t<0?"Unspecified error "+t:""}function Br(t){switch(t){case 255:return"Unable to start upgrade";case-1:return"Connection refused";case-2:return"Failed to send headers";case-3:return"Failed to send payload";case-4:return"Not connected";case-5:return"Connection lost";case-6:return"No stream";case-7:return"Not a HTTP server";case-8:return"Not enough memory";case-9:return"Encoding error";case-10:return"Stream write";case-11:return"Read timeout"}return"Unknown "+t}function li(t){switch(t){case 2:case 4:case 7:return!0}return!1}function lt(t,e){return t==1||t==2&&e}function jt(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function Ne(t,e){return isNaN(t)?"-":(isNaN(e)&&(e=t<1?2:t<10?1:0),t.toFixed(e))}function kl(t,e){return t.setTime(t.getTime()+e*36e5),t}function Ur(t){if(t.chip=="esp8266")switch(t.boot_reason){case 0:return"Normal";case 1:return"WDT reset";case 2:return"Exception reset";case 3:return"Soft WDT reset";case 4:return"Software restart";case 5:return"Deep sleep";case 6:return"External reset";default:return"Unknown (8266)"}else switch(t.boot_reason){case 1:return"Vbat power on reset";case 3:return"Software reset";case 4:return"WDT reset";case 5:return"Deep sleep";case 6:return"SLC reset";case 7:return"Timer Group0 WDT reset";case 8:return"Timer Group1 WDT reset";case 9:return"RTC WDT reset";case 10:return"Instrusion test reset CPU";case 11:return"Time Group reset CPU";case 12:return"Software reset CPU";case 13:return"RTC WTD reset CPU";case 14:return"PRO CPU";case 15:return"Brownout";case 16:return"RTC reset";default:return"Unknown"}}function jr(t){return t=="EOE"?"ENTSO-E":t=="HKS"?"hvakosterstrommen.no":t=="EDS"?"Energi Data Service":t=="MIX"?"Mixed sources":"Unknown ("+t+")"}function Hr(t){return t=="EOE"?"https://transparency.entsoe.eu/-E":t=="HKS"?"https://www.hvakosterstrommen.no/":t=="EDS"?"https://www.energidataservice.dk/":"#"}async function Al(t,e={}){const{timeout:n=8e3}=e,l=new AbortController,i=setTimeout(()=>l.abort(),n),o=await fetch(t,{...e,signal:l.signal});return clearTimeout(i),o}let bl={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null},trying:null,if:{eth:!1}};const Yt=pt(bl);async function Mo(){bl=await(await Al("sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),Yt.set(bl)}let ps=0,Wr=-127,zr=null,Vc={};const o0=U1(Vc,t=>{let e;async function n(){Al("data.json").then(l=>l.json()).then(l=>{t(l),Wr!=l.t&&(Wr=l.t,setTimeout(c0,2e3)),zr==null&&l.pe&&l.p!=null&&(zr=l.p,r0()),bl.upgrading?window.location.reload():(!bl||!bl.chip||bl.booting||ps>1&&!li(bl.board))&&(Mo(),an&&clearTimeout(an),an=setTimeout(To,2e3),rn&&clearTimeout(rn),rn=setTimeout(No,3e3));let i=5e3;if(li(bl.board)&&l.v>2.5){let o=3.3-Math.min(3.3,l.v);o>0&&(i=Math.max(o,.1)*10*5e3)}i>5e3&&console.log("Scheduling next data fetch in "+i+"ms"),e&&clearTimeout(e),e=setTimeout(n,i),ps=0}).catch(l=>{ps++,ps>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(n,15e3)):e=setTimeout(n,li(bl.board)?1e4:5e3)})}return n(),function(){clearTimeout(e)}});let to={},bi;const So=pt(to);async function a0(){let t=!1;if(So.update(e=>{for(var n=0;n<36;n++){if(e[Ye(n)]==null){t=n<12;break}e[Ye(n)]=e[Ye(n+1)]}return e}),t)r0();else{let e=new Date;bi=setTimeout(a0,(60-e.getMinutes())*6e4)}}async function r0(){bi&&(clearTimeout(bi),bi=0),to=await(await Al("energyprice.json")).json(),So.set(to);let e=new Date;bi=setTimeout(a0,(60-e.getMinutes())*6e4)}let lo={},an;async function To(){an&&(clearTimeout(an),an=0),lo=await(await Al("dayplot.json")).json(),u0.set(lo);let e=new Date;an=setTimeout(To,(60-e.getMinutes())*6e4+20)}const u0=pt(lo,t=>(To(),function(){}));let no={},rn;async function No(){rn&&(clearTimeout(rn),rn=0),no=await(await Al("monthplot.json")).json(),f0.set(no);let e=new Date;rn=setTimeout(No,(24-e.getHours())*36e5+40)}const f0=pt(no,t=>(No(),function(){}));let io={};async function c0(){io=await(await Al("temperature.json")).json(),m0.set(io)}const m0=pt(io,t=>(c0(),function(){}));let so={},ds;async function _0(){ds&&(clearTimeout(ds),ds=0),so=await(await Al("tariff.json")).json(),p0.set(so);let e=new Date;ds=setTimeout(_0,(60-e.getMinutes())*6e4+30)}const p0=pt(so,t=>function(){});let oo=[];const Eo=pt(oo);async function Kc(){oo=await(await Al("https://api.github.com/repos/UtilitechAS/amsreader-firmware/releases")).json(),Eo.set(oo)}let ao={};async function Yc(){ao=await(await Al("realtime.json")).json(),d0.set(ao)}const d0=pt(ao,t=>(Yc(),function(){}));function ys(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function h0(t){await(await fetch("upgrade?expected_version="+t,{method:"POST"})).json()}function v0(t,e){if(/^v\d{1,2}\.\d{1,2}\.\d{1,2}$/.test(t)){let n=t.substring(1).split("."),l=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]),u=[...e];u.reverse();let m,r,f;for(let p=0;p<u.length;p++){let _=u[p],h=_.tag_name.substring(1).split("."),d=parseInt(h[0]),g=parseInt(h[1]),k=parseInt(h[2]);if(d==l)g==i?k>o&&(m=_):g==i+1&&(r=_);else if(d==l+1)if(f){let A=f.tag_name.substring(1).split(".");parseInt(A[0]);let T=parseInt(A[1]);parseInt(A[2]),g==T&&(f=_)}else f=_}return r||f||m||!1}else return e[0]}const Gr="/github.svg";function Vr(t){let e,n;function l(u,m){return u[1]>1?tm:u[1]>0?em:u[2]>1?xc:u[2]>0?Jc:u[3]>1?Zc:u[3]>0?Xc:Qc}let i=l(t),o=i(t);return{c(){e=E(`Up
    `),o.c(),n=it()},m(u,m){M(u,e,m),o.m(u,m),M(u,n,m)},p(u,m){i===(i=l(u))&&o?o.p(u,m):(o.d(1),o=i(u),o&&(o.c(),o.m(n.parentNode,n)))},d(u){u&&y(e),o.d(u),u&&y(n)}}}function Qc(t){let e,n;return{c(){e=E(t[0]),n=E(" seconds")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&1&&X(e,l[0])},d(l){l&&y(e),l&&y(n)}}}function Xc(t){let e,n;return{c(){e=E(t[3]),n=E(" minute")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&8&&X(e,l[3])},d(l){l&&y(e),l&&y(n)}}}function Zc(t){let e,n;return{c(){e=E(t[3]),n=E(" minutes")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&8&&X(e,l[3])},d(l){l&&y(e),l&&y(n)}}}function Jc(t){let e,n;return{c(){e=E(t[2]),n=E(" hour")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&4&&X(e,l[2])},d(l){l&&y(e),l&&y(n)}}}function xc(t){let e,n;return{c(){e=E(t[2]),n=E(" hours")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&4&&X(e,l[2])},d(l){l&&y(e),l&&y(n)}}}function em(t){let e,n;return{c(){e=E(t[1]),n=E(" day")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&2&&X(e,l[1])},d(l){l&&y(e),l&&y(n)}}}function tm(t){let e,n;return{c(){e=E(t[1]),n=E(" days")},m(l,i){M(l,e,i),M(l,n,i)},p(l,i){i&2&&X(e,l[1])},d(l){l&&y(e),l&&y(n)}}}function lm(t){let e,n=t[0]&&Vr(t);return{c(){n&&n.c(),e=it()},m(l,i){n&&n.m(l,i),M(l,e,i)},p(l,[i]){l[0]?n?n.p(l,i):(n=Vr(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:be,o:be,d(l){n&&n.d(l),l&&y(e)}}}function nm(t,e,n){let{epoch:l}=e,i=0,o=0,u=0;return t.$$set=m=>{"epoch"in m&&n(0,l=m.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(n(1,i=Math.floor(l/86400)),n(2,o=Math.floor(l/3600)),n(3,u=Math.floor(l/60)))},[l,i,o,u]}class im extends We{constructor(e){super(),He(this,e,nm,lm,Be,{epoch:0})}}function sm(t){let e,n,l;return{c(){e=c("span"),n=E(t[2]),a(e,"title",t[1]),a(e,"class",l="bd-"+t[0])},m(i,o){M(i,e,o),s(e,n)},p(i,[o]){o&4&&X(n,i[2]),o&2&&a(e,"title",i[1]),o&1&&l!==(l="bd-"+i[0])&&a(e,"class",l)},i:be,o:be,d(i){i&&y(e)}}}function om(t,e,n){let{color:l}=e,{title:i}=e,{text:o}=e;return t.$$set=u=>{"color"in u&&n(0,l=u.color),"title"in u&&n(1,i=u.title),"text"in u&&n(2,o=u.text)},[l,i,o]}class un extends We{constructor(e){super(),He(this,e,om,sm,Be,{color:0,title:1,text:2})}}function am(t){let e,n=`${Ye(t[0].getDate())}.${Ye(t[0].getMonth()+1)}.${t[0].getFullYear()} ${Ye(t[0].getHours())}:${Ye(t[0].getMinutes())}`,l;return{c(){e=c("span"),l=E(n),a(e,"class",t[1])},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&1&&n!==(n=`${Ye(i[0].getDate())}.${Ye(i[0].getMonth()+1)}.${i[0].getFullYear()} ${Ye(i[0].getHours())}:${Ye(i[0].getMinutes())}`)&&X(l,n),o&2&&a(e,"class",i[1])},d(i){i&&y(e)}}}function rm(t){let e=`${Ye(t[0].getDate())}. ${Mi[t[0].getMonth()]} ${Ye(t[0].getHours())}:${Ye(t[0].getMinutes())}`,n;return{c(){n=E(e)},m(l,i){M(l,n,i)},p(l,i){i&1&&e!==(e=`${Ye(l[0].getDate())}. ${Mi[l[0].getMonth()]} ${Ye(l[0].getHours())}:${Ye(l[0].getMinutes())}`)&&X(n,e)},d(l){l&&y(n)}}}function um(t){let e;function n(o,u){return o[2]?rm:am}let l=n(t),i=l(t);return{c(){i.c(),e=it()},m(o,u){i.m(o,u),M(o,e,u)},p(o,[u]){l===(l=n(o))&&i?i.p(o,u):(i.d(1),i=l(o),i&&(i.c(),i.m(e.parentNode,e)))},i:be,o:be,d(o){i.d(o),o&&y(e)}}}function fm(t,e,n){let{timestamp:l}=e,{fullTimeColor:i}=e,{offset:o}=e,u;return t.$$set=m=>{"timestamp"in m&&n(0,l=m.timestamp),"fullTimeColor"in m&&n(1,i=m.fullTimeColor),"offset"in m&&n(3,o=m.offset)},t.$$.update=()=>{t.$$.dirty&9&&(n(2,u=Math.abs(new Date().getTime()-l.getTime())<3e5),isNaN(o)||kl(l,o-(24+l.getHours()-l.getUTCHours())%24))},[l,i,u,o]}class b0 extends We{constructor(e){super(),He(this,e,fm,um,Be,{timestamp:0,fullTimeColor:1,offset:3})}}function cm(t){let e,n,l;return{c(){e=je("svg"),n=je("path"),l=je("path"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),a(l,"stroke-linecap","round"),a(l,"stroke-linejoin","round"),a(l,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class","w-6 h-6")},m(i,o){M(i,e,o),s(e,n),s(e,l)},p:be,i:be,o:be,d(i){i&&y(e)}}}class mm extends We{constructor(e){super(),He(this,e,null,cm,Be,{})}}function _m(t){let e,n;return{c(){e=je("svg"),n=je("path"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class","w-6 h-6")},m(l,i){M(l,e,i),s(e,n)},p:be,i:be,o:be,d(l){l&&y(e)}}}class pm extends We{constructor(e){super(),He(this,e,null,_m,Be,{})}}function dm(t){let e,n;return{c(){e=je("svg"),n=je("path"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class","w-6 h-6")},m(l,i){M(l,e,i),s(e,n)},p:be,i:be,o:be,d(l){l&&y(e)}}}class Ut extends We{constructor(e){super(),He(this,e,null,dm,Be,{})}}function hm(t){let e,n;return{c(){e=je("svg"),n=je("path"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class","w-6 h-6")},m(l,i){M(l,e,i),s(e,n)},p:be,i:be,o:be,d(l){l&&y(e)}}}class g0 extends We{constructor(e){super(),He(this,e,null,hm,Be,{})}}function vm(t){let e,n,l=t[2].version+"",i;return{c(){e=E("AMS reader "),n=c("span"),i=E(l)},m(o,u){M(o,e,u),M(o,n,u),s(n,i)},p(o,u){u&4&&l!==(l=o[2].version+"")&&X(i,l)},d(o){o&&y(e),o&&y(n)}}}function Kr(t){let e,n=(t[1].t>-50?t[1].t.toFixed(1):"-")+"",l,i;return{c(){e=c("div"),l=E(n),i=E("\xB0C"),a(e,"class","flex-none my-auto")},m(o,u){M(o,e,u),s(e,l),s(e,i)},p(o,u){u&2&&n!==(n=(o[1].t>-50?o[1].t.toFixed(1):"-")+"")&&X(l,n)},d(o){o&&y(e)}}}function Yr(t){let e,n="HAN: "+Fr(t[1].he),l;return{c(){e=c("div"),l=E(n),a(e,"class","bd-red")},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&2&&n!==(n="HAN: "+Fr(i[1].he))&&X(l,n)},d(i){i&&y(e)}}}function Qr(t){let e,n="MQTT: "+Or(t[1].me),l;return{c(){e=c("div"),l=E(n),a(e,"class","bd-red")},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&2&&n!==(n="MQTT: "+Or(i[1].me))&&X(l,n)},d(i){i&&y(e)}}}function Xr(t){let e,n="Price service: "+qr(t[1].ee),l;return{c(){e=c("div"),l=E(n),a(e,"class","bd-red")},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&2&&n!==(n="Price service: "+qr(i[1].ee))&&X(l,n)},d(i){i&&y(e)}}}function Zr(t){let e,n,l,i,o,u;return n=new el({props:{to:"/configuration",$$slots:{default:[bm]},$$scope:{ctx:t}}}),o=new el({props:{to:"/status",$$slots:{default:[gm]},$$scope:{ctx:t}}}),{c(){e=c("div"),ae(n.$$.fragment),l=b(),i=c("div"),ae(o.$$.fragment),a(e,"class","flex-none px-1 mt-1"),a(e,"title","Configuration"),a(i,"class","flex-none px-1 mt-1"),a(i,"title","Device information")},m(m,r){M(m,e,r),se(n,e,null),M(m,l,r),M(m,i,r),se(o,i,null),u=!0},i(m){u||(L(n.$$.fragment,m),L(o.$$.fragment,m),u=!0)},o(m){q(n.$$.fragment,m),q(o.$$.fragment,m),u=!1},d(m){m&&y(e),oe(n),m&&y(l),m&&y(i),oe(o)}}}function bm(t){let e,n;return e=new mm({}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function gm(t){let e,n;return e=new pm({}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Jr(t){let e,n,l,i,o;const u=[wm,km],m=[];function r(f,p){return f[2].security==0||f[1].a?0:1}return n=r(t),l=m[n]=u[n](t),{c(){e=c("div"),l.c(),a(e,"class","flex-none mr-3 text-yellow-500"),a(e,"title",i="New version: "+t[3].tag_name)},m(f,p){M(f,e,p),m[n].m(e,null),o=!0},p(f,p){let _=n;n=r(f),n===_?m[n].p(f,p):($e(),q(m[_],1,1,()=>{m[_]=null}),De(),l=m[n],l?l.p(f,p):(l=m[n]=u[n](f),l.c()),L(l,1),l.m(e,null)),(!o||p&8&&i!==(i="New version: "+f[3].tag_name))&&a(e,"title",i)},i(f){o||(L(l),o=!0)},o(f){q(l),o=!1},d(f){f&&y(e),m[n].d()}}}function km(t){let e,n,l=t[3].tag_name+"",i;return{c(){e=c("span"),n=E("New version: "),i=E(l)},m(o,u){M(o,e,u),s(e,n),s(e,i)},p(o,u){u&8&&l!==(l=o[3].tag_name+"")&&X(i,l)},i:be,o:be,d(o){o&&y(e)}}}function wm(t){let e,n,l,i=t[3].tag_name+"",o,u,m,r,f,p;return m=new g0({}),{c(){e=c("button"),n=c("span"),l=E("New version: "),o=E(i),u=b(),ae(m.$$.fragment),a(n,"class","mt-1"),a(e,"class","flex")},m(_,v){M(_,e,v),s(e,n),s(n,l),s(n,o),s(e,u),se(m,e,null),r=!0,f||(p=Q(e,"click",t[4]),f=!0)},p(_,v){(!r||v&8)&&i!==(i=_[3].tag_name+"")&&X(o,i)},i(_){r||(L(m.$$.fragment,_),r=!0)},o(_){q(m.$$.fragment,_),r=!1},d(_){_&&y(e),oe(m),f=!1,p()}}}function Cm(t){let e,n,l,i,o,u,m,r,f,p,_,v,h=(t[1].m?(t[1].m/1e3).toFixed(1):"-")+"",d,g,k,A,T,P,F,I,R,w,$,ie,j,U,H,G,V,K,Z,z,W,x,_e,ne,me,Y,ke,Ee,we,Me;i=new el({props:{to:"/",$$slots:{default:[vm]},$$scope:{ctx:t}}}),r=new im({props:{epoch:t[1].u}});let te=t[1].t>-50&&Kr(t);T=new un({props:{title:"ESP",text:t[2].booting?"Booting":t[1].v>2?t[1].v.toFixed(2)+"V":"ESP",color:Ul(t[2].booting?2:t[1].em)}}),F=new un({props:{title:"HAN",text:"HAN",color:Ul(t[2].booting?9:t[1].hm)}}),R=new un({props:{title:"WiFi",text:t[1].r?t[1].r.toFixed(0)+"dBm":"WiFi",color:Ul(t[2].booting?9:t[1].wm)}}),$=new un({props:{title:"MQTT",text:"MQTT",color:Ul(t[2].booting?9:t[1].mm)}});let fe=(t[1].he<0||t[1].he>0)&&Yr(t),Oe=t[1].me<0&&Qr(t),Ie=(t[1].ee>0||t[1].ee<0)&&Xr(t);_e=new b0({props:{timestamp:t[1].c?new Date(t[1].c*1e3):new Date(0),offset:t[2].clock_offset,fullTimeColor:"text-red-500"}});let N=t[2].vndcfg&&t[2].usrcfg&&Zr(t);Ee=new Ut({});let C=t[2].fwconsent===1&&t[3]&&Jr(t);return{c(){e=c("nav"),n=c("div"),l=c("div"),ae(i.$$.fragment),o=b(),u=c("div"),m=c("div"),ae(r.$$.fragment),f=b(),te&&te.c(),p=b(),_=c("div"),v=E("Free mem: "),d=E(h),g=E("kb"),k=b(),A=c("div"),ae(T.$$.fragment),P=b(),ae(F.$$.fragment),I=b(),ae(R.$$.fragment),w=b(),ae($.$$.fragment),ie=b(),fe&&fe.c(),j=b(),Oe&&Oe.c(),U=b(),Ie&&Ie.c(),H=b(),G=c("div"),V=c("div"),K=c("a"),Z=c("img"),W=b(),x=c("div"),ae(_e.$$.fragment),ne=b(),N&&N.c(),me=b(),Y=c("div"),ke=c("a"),ae(Ee.$$.fragment),we=b(),C&&C.c(),a(l,"class","flex text-lg text-gray-100 p-2"),a(m,"class","flex-none my-auto"),a(_,"class","flex-none my-auto"),a(u,"class","flex-none my-auto p-2 flex space-x-4"),a(A,"class","flex-auto flex-wrap my-auto justify-center p-2"),a(Z,"class","gh-logo"),vs(Z.src,z=t[0]+Gr)||a(Z,"src",z),a(Z,"alt","GitHub repo"),a(K,"class","float-right"),a(K,"href","https://github.com/UtilitechAS/amsreader-firmware"),a(K,"target","_blank"),a(K,"rel","noreferrer"),a(K,"aria-label","GitHub"),a(V,"class","flex-none"),a(x,"class","flex-none my-auto px-2"),a(ke,"href",jt("")),a(ke,"target","_blank"),a(ke,"rel","noreferrer"),a(Y,"class","flex-none px-1 mt-1"),a(Y,"title","Documentation"),a(G,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),a(n,"class","flex flex-wrap space-x-4 text-sm text-gray-300"),a(e,"class","hdr")},m(S,D){M(S,e,D),s(e,n),s(n,l),se(i,l,null),s(n,o),s(n,u),s(u,m),se(r,m,null),s(u,f),te&&te.m(u,null),s(u,p),s(u,_),s(_,v),s(_,d),s(_,g),s(n,k),s(n,A),se(T,A,null),s(A,P),se(F,A,null),s(A,I),se(R,A,null),s(A,w),se($,A,null),s(n,ie),fe&&fe.m(n,null),s(n,j),Oe&&Oe.m(n,null),s(n,U),Ie&&Ie.m(n,null),s(n,H),s(n,G),s(G,V),s(V,K),s(K,Z),s(G,W),s(G,x),se(_e,x,null),s(G,ne),N&&N.m(G,null),s(G,me),s(G,Y),s(Y,ke),se(Ee,ke,null),s(G,we),C&&C.m(G,null),Me=!0},p(S,[D]){const O={};D&36&&(O.$$scope={dirty:D,ctx:S}),i.$set(O);const J={};D&2&&(J.epoch=S[1].u),r.$set(J),S[1].t>-50?te?te.p(S,D):(te=Kr(S),te.c(),te.m(u,p)):te&&(te.d(1),te=null),(!Me||D&2)&&h!==(h=(S[1].m?(S[1].m/1e3).toFixed(1):"-")+"")&&X(d,h);const le={};D&6&&(le.text=S[2].booting?"Booting":S[1].v>2?S[1].v.toFixed(2)+"V":"ESP"),D&6&&(le.color=Ul(S[2].booting?2:S[1].em)),T.$set(le);const pe={};D&6&&(pe.color=Ul(S[2].booting?9:S[1].hm)),F.$set(pe);const ge={};D&2&&(ge.text=S[1].r?S[1].r.toFixed(0)+"dBm":"WiFi"),D&6&&(ge.color=Ul(S[2].booting?9:S[1].wm)),R.$set(ge);const Ae={};D&6&&(Ae.color=Ul(S[2].booting?9:S[1].mm)),$.$set(Ae),S[1].he<0||S[1].he>0?fe?fe.p(S,D):(fe=Yr(S),fe.c(),fe.m(n,j)):fe&&(fe.d(1),fe=null),S[1].me<0?Oe?Oe.p(S,D):(Oe=Qr(S),Oe.c(),Oe.m(n,U)):Oe&&(Oe.d(1),Oe=null),S[1].ee>0||S[1].ee<0?Ie?Ie.p(S,D):(Ie=Xr(S),Ie.c(),Ie.m(n,H)):Ie&&(Ie.d(1),Ie=null),(!Me||D&1&&!vs(Z.src,z=S[0]+Gr))&&a(Z,"src",z);const Fe={};D&2&&(Fe.timestamp=S[1].c?new Date(S[1].c*1e3):new Date(0)),D&4&&(Fe.offset=S[2].clock_offset),_e.$set(Fe),S[2].vndcfg&&S[2].usrcfg?N?D&4&&L(N,1):(N=Zr(S),N.c(),L(N,1),N.m(G,me)):N&&($e(),q(N,1,1,()=>{N=null}),De()),S[2].fwconsent===1&&S[3]?C?(C.p(S,D),D&12&&L(C,1)):(C=Jr(S),C.c(),L(C,1),C.m(G,null)):C&&($e(),q(C,1,1,()=>{C=null}),De())},i(S){Me||(L(i.$$.fragment,S),L(r.$$.fragment,S),L(T.$$.fragment,S),L(F.$$.fragment,S),L(R.$$.fragment,S),L($.$$.fragment,S),L(_e.$$.fragment,S),L(N),L(Ee.$$.fragment,S),L(C),Me=!0)},o(S){q(i.$$.fragment,S),q(r.$$.fragment,S),q(T.$$.fragment,S),q(F.$$.fragment,S),q(R.$$.fragment,S),q($.$$.fragment,S),q(_e.$$.fragment,S),q(N),q(Ee.$$.fragment,S),q(C),Me=!1},d(S){S&&y(e),oe(i),oe(r),te&&te.d(),oe(T),oe(F),oe(R),oe($),fe&&fe.d(),Oe&&Oe.d(),Ie&&Ie.d(),oe(_e),N&&N.d(),oe(Ee),C&&C.d()}}}function ym(t,e,n){let{basepath:l="/"}=e,{data:i={}}=e,o={},u={};function m(){confirm("Do you want to upgrade this device to "+u.tag_name+"?")&&(!li(o.board)||confirm(ys(Ce(o.chip,o.board))))&&(Yt.update(r=>(r.upgrading=!0,r)),h0(u.tag_name))}return Yt.subscribe(r=>{n(2,o=r),r.fwconsent===1&&Kc()}),Eo.subscribe(r=>{n(3,u=v0(o.version,r))}),t.$$set=r=>{"basepath"in r&&n(0,l=r.basepath),"data"in r&&n(1,i=r.data)},[l,i,o,u,m]}class Mm extends We{constructor(e){super(),He(this,e,ym,Cm,Be,{basepath:0,data:1})}}function Sm(t){let e,n,l,i;return{c(){e=je("svg"),n=je("path"),l=je("path"),a(n,"d",Xs(150,150,115,210,510)),a(n,"stroke","rgba(128, 128, 128, 0.15)"),a(n,"fill","none"),a(n,"stroke-width","55"),a(l,"d",i=Xs(150,150,115,210,210+300*t[0]/100)),a(l,"stroke",t[1]),a(l,"fill","none"),a(l,"stroke-width","55"),a(e,"viewBox","0 0 300 300"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"height","100%")},m(o,u){M(o,e,u),s(e,n),s(e,l)},p(o,[u]){u&1&&i!==(i=Xs(150,150,115,210,210+300*o[0]/100))&&a(l,"d",i),u&2&&a(l,"stroke",o[1])},i:be,o:be,d(o){o&&y(e)}}}function xr(t,e,n,l){var i=(l-90)*Math.PI/180;return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}}function Xs(t,e,n,l,i){var o=xr(t,e,n,i),u=xr(t,e,n,l),m=i-l<=180?"0":"1",r=["M",o.x,o.y,"A",n,n,0,m,0,u.x,u.y].join(" ");return r}function Tm(t,e,n){let{pct:l=0}=e,{color:i="red"}=e;return t.$$set=o=>{"pct"in o&&n(0,l=o.pct),"color"in o&&n(1,i=o.color)},[l,i]}class Nm extends We{constructor(e){super(),He(this,e,Tm,Sm,Be,{pct:0,color:1})}}function eu(t){let e,n,l,i,o,u,m,r;return{c(){e=c("br"),n=b(),l=c("span"),i=E(t[3]),o=b(),u=c("span"),m=E(t[4]),r=E("/kWh"),a(l,"class","pl-sub"),a(u,"class","pl-snt")},m(f,p){M(f,e,p),M(f,n,p),M(f,l,p),s(l,i),M(f,o,p),M(f,u,p),s(u,m),s(u,r)},p(f,p){p&8&&X(i,f[3]),p&16&&X(m,f[4])},d(f){f&&y(e),f&&y(n),f&&y(l),f&&y(o),f&&y(u)}}}function Em(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k;n=new Nm({props:{pct:t[6],color:t[5](t[6],document.documentElement.classList.contains("dark"))}});let A=t[3]&&eu(t);return{c(){e=c("div"),ae(n.$$.fragment),l=b(),i=c("span"),o=c("span"),u=E(t[2]),m=b(),r=c("br"),f=b(),p=c("span"),_=E(t[0]),v=b(),h=c("span"),d=E(t[1]),g=b(),A&&A.c(),a(o,"class","pl-lab"),a(p,"class","pl-val"),a(h,"class","pl-unt"),a(i,"class","pl-ov"),a(e,"class","pl-root")},m(T,P){M(T,e,P),se(n,e,null),s(e,l),s(e,i),s(i,o),s(o,u),s(i,m),s(i,r),s(i,f),s(i,p),s(p,_),s(i,v),s(i,h),s(h,d),s(i,g),A&&A.m(i,null),k=!0},p(T,[P]){const F={};P&64&&(F.pct=T[6]),P&96&&(F.color=T[5](T[6],document.documentElement.classList.contains("dark"))),n.$set(F),(!k||P&4)&&X(u,T[2]),(!k||P&1)&&X(_,T[0]),(!k||P&2)&&X(d,T[1]),T[3]?A?A.p(T,P):(A=eu(T),A.c(),A.m(i,null)):A&&(A.d(1),A=null)},i(T){k||(L(n.$$.fragment,T),k=!0)},o(T){q(n.$$.fragment,T),k=!1},d(T){T&&y(e),oe(n),A&&A.d()}}}function Pm(t,e,n){let{val:l}=e,{max:i}=e,{unit:o}=e,{label:u}=e,{sub:m=""}=e,{subunit:r=""}=e,{colorFn:f}=e,p=0;return t.$$set=_=>{"val"in _&&n(0,l=_.val),"max"in _&&n(7,i=_.max),"unit"in _&&n(1,o=_.unit),"label"in _&&n(2,u=_.label),"sub"in _&&n(3,m=_.sub),"subunit"in _&&n(4,r=_.subunit),"colorFn"in _&&n(5,f=_.colorFn)},t.$$.update=()=>{t.$$.dirty&129&&n(6,p=Math.min(l,i)/i*100)},[l,o,u,m,r,f,p,i]}class k0 extends We{constructor(e){super(),He(this,e,Pm,Em,Be,{val:0,max:7,unit:1,label:2,sub:3,subunit:4,colorFn:5})}}function tu(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function lu(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function nu(t,e,n){const l=t.slice();return l[15]=e[n],l}function iu(t){let e,n,l,i,o,u,m=t[0].title&&su(t),r=t[0].y.ticks,f=[];for(let d=0;d<r.length;d+=1)f[d]=au(nu(t,r,d));let p=t[0].x.ticks,_=[];for(let d=0;d<p.length;d+=1)_[d]=fu(lu(t,p,d));let v=t[0].points,h=[];for(let d=0;d<v.length;d+=1)h[d]=bu(tu(t,v,d));return{c(){m&&m.c(),e=b(),n=je("svg"),l=je("g");for(let d=0;d<f.length;d+=1)f[d].c();i=je("g");for(let d=0;d<_.length;d+=1)_[d].c();o=je("g");for(let d=0;d<h.length;d+=1)h[d].c();a(l,"class","axis y-axis"),a(i,"class","axis x-axis"),a(o,"class","bars"),a(n,"xmlns","http://www.w3.org/2000/svg"),a(n,"viewBox",u="0 0 "+t[1]+" "+t[4])},m(d,g){m&&m.m(d,g),M(d,e,g),M(d,n,g),s(n,l);for(let k=0;k<f.length;k+=1)f[k]&&f[k].m(l,null);s(n,i);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(i,null);s(n,o);for(let k=0;k<h.length;k+=1)h[k]&&h[k].m(o,null)},p(d,g){if(d[0].title?m?m.p(d,g):(m=su(d),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null),g&129){r=d[0].y.ticks;let k;for(k=0;k<r.length;k+=1){const A=nu(d,r,k);f[k]?f[k].p(A,g):(f[k]=au(A),f[k].c(),f[k].m(l,null))}for(;k<f.length;k+=1)f[k].d(1);f.length=r.length}if(g&89){p=d[0].x.ticks;let k;for(k=0;k<p.length;k+=1){const A=lu(d,p,k);_[k]?_[k].p(A,g):(_[k]=fu(A),_[k].c(),_[k].m(i,null))}for(;k<_.length;k+=1)_[k].d(1);_.length=p.length}if(g&457){v=d[0].points;let k;for(k=0;k<v.length;k+=1){const A=tu(d,v,k);h[k]?h[k].p(A,g):(h[k]=bu(A),h[k].c(),h[k].m(o,null))}for(;k<h.length;k+=1)h[k].d(1);h.length=v.length}g&18&&u!==(u="0 0 "+d[1]+" "+d[4])&&a(n,"viewBox",u)},d(d){m&&m.d(d),d&&y(e),d&&y(n),ft(f,d),ft(_,d),ft(h,d)}}}function su(t){let e,n=t[0].title+"",l,i;return{c(){e=c("div"),l=E(n),a(e,"class","text-sm font-bold"),Ze(()=>t[9].call(e))},m(o,u){M(o,e,u),s(e,l),i=bo(e,t[9].bind(e))},p(o,u){u&1&&n!==(n=o[0].title+"")&&X(l,n)},d(o){o&&y(e),i()}}}function ou(t){let e,n,l,i=t[15].label+"",o,u,m,r;return{c(){e=je("g"),n=je("line"),l=je("text"),o=E(i),a(n,"x2","100%"),a(l,"y","-4"),a(l,"x",u=t[15].align=="right"?"85%":""),a(e,"class",m="tick tick-"+t[15].value+" tick-"+t[15].color),a(e,"transform",r="translate(0, "+t[7](t[15].value)+")")},m(f,p){M(f,e,p),s(e,n),s(e,l),s(l,o)},p(f,p){p&1&&i!==(i=f[15].label+"")&&X(o,i),p&1&&u!==(u=f[15].align=="right"?"85%":"")&&a(l,"x",u),p&1&&m!==(m="tick tick-"+f[15].value+" tick-"+f[15].color)&&a(e,"class",m),p&129&&r!==(r="translate(0, "+f[7](f[15].value)+")")&&a(e,"transform",r)},d(f){f&&y(e)}}}function au(t){let e=!isNaN(t[7](t[15].value)),n,l=e&&ou(t);return{c(){l&&l.c(),n=it()},m(i,o){l&&l.m(i,o),M(i,n,o)},p(i,o){o&129&&(e=!isNaN(i[7](i[15].value))),e?l?l.p(i,o):(l=ou(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&y(n)}}}function ru(t){let e,n,l=(t[3]>20||t[13]%2==0)&&uu(t);return{c(){e=je("g"),l&&l.c(),a(e,"class","tick"),a(e,"transform",n="translate("+t[6](t[13])+","+t[4]+")")},m(i,o){M(i,e,o),l&&l.m(e,null)},p(i,o){i[3]>20||i[13]%2==0?l?l.p(i,o):(l=uu(i),l.c(),l.m(e,null)):l&&(l.d(1),l=null),o&80&&n!==(n="translate("+i[6](i[13])+","+i[4]+")")&&a(e,"transform",n)},d(i){i&&y(e),l&&l.d()}}}function uu(t){let e,n=t[11].label+"",l,i;return{c(){e=je("text"),l=E(n),a(e,"x",i=t[3]/2),a(e,"y","-4")},m(o,u){M(o,e,u),s(e,l)},p(o,u){u&1&&n!==(n=o[11].label+"")&&X(l,n),u&8&&i!==(i=o[3]/2)&&a(e,"x",i)},d(o){o&&y(e)}}}function fu(t){let e=!isNaN(t[6](t[13])),n,l=e&&ru(t);return{c(){l&&l.c(),n=it()},m(i,o){l&&l.m(i,o),M(i,n,o)},p(i,o){o&64&&(e=!isNaN(i[6](i[13]))),e?l?l.p(i,o):(l=ru(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&y(n)}}}function cu(t){let e,n,l=t[11].value!==void 0&&mu(t),i=t[11].value2>1e-4&&du(t);return{c(){e=je("g"),l&&l.c(),n=je("g"),i&&i.c()},m(o,u){M(o,e,u),l&&l.m(e,null),M(o,n,u),i&&i.m(n,null)},p(o,u){o[11].value!==void 0?l?l.p(o,u):(l=mu(o),l.c(),l.m(e,null)):l&&(l.d(1),l=null),o[11].value2>1e-4?i?i.p(o,u):(i=du(o),i.c(),i.m(n,null)):i&&(i.d(1),i=null)},d(o){o&&y(e),l&&l.d(),o&&y(n),i&&i.d()}}}function mu(t){let e,n,l,i,o,u,m,r=t[3]>15&&_u(t);return{c(){e=je("rect"),r&&r.c(),m=it(),a(e,"x",n=t[6](t[13])+2),a(e,"y",l=t[7](t[11].value)),a(e,"width",i=t[3]-4),a(e,"height",o=t[7](t[0].y.min)-t[7](Math.min(t[0].y.min,0)+t[11].value)),a(e,"fill",u=t[11].color)},m(f,p){M(f,e,p),r&&r.m(f,p),M(f,m,p)},p(f,p){p&64&&n!==(n=f[6](f[13])+2)&&a(e,"x",n),p&129&&l!==(l=f[7](f[11].value))&&a(e,"y",l),p&8&&i!==(i=f[3]-4)&&a(e,"width",i),p&129&&o!==(o=f[7](f[0].y.min)-f[7](Math.min(f[0].y.min,0)+f[11].value))&&a(e,"height",o),p&1&&u!==(u=f[11].color)&&a(e,"fill",u),f[3]>15?r?r.p(f,p):(r=_u(f),r.c(),r.m(m.parentNode,m)):r&&(r.d(1),r=null)},d(f){f&&y(e),r&&r.d(f),f&&y(m)}}}function _u(t){let e,n=t[11].label+"",l,i,o,u,m,r,f=t[11].title&&pu(t);return{c(){e=je("text"),l=E(n),f&&f.c(),r=it(),a(e,"width",i=t[3]-4),a(e,"dominant-baseline","middle"),a(e,"text-anchor",o=t[3]<fn||t[11].labelAngle?"left":"middle"),a(e,"fill",u=t[7](t[11].value)>t[7](0)-t[8]?t[11].color:"white"),a(e,"transform",m="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](t[11].value)>t[7](0)-t[8]?t[7](t[11].value)-t[8]:t[7](t[11].value)+10)+") rotate("+(t[11].labelAngle?t[11].labelAngle:t[3]<fn?90:0)+")")},m(p,_){M(p,e,_),s(e,l),f&&f.m(p,_),M(p,r,_)},p(p,_){_&1&&n!==(n=p[11].label+"")&&X(l,n),_&8&&i!==(i=p[3]-4)&&a(e,"width",i),_&9&&o!==(o=p[3]<fn||p[11].labelAngle?"left":"middle")&&a(e,"text-anchor",o),_&385&&u!==(u=p[7](p[11].value)>p[7](0)-p[8]?p[11].color:"white")&&a(e,"fill",u),_&457&&m!==(m="translate("+(p[6](p[13])+p[3]/2)+" "+(p[7](p[11].value)>p[7](0)-p[8]?p[7](p[11].value)-p[8]:p[7](p[11].value)+10)+") rotate("+(p[11].labelAngle?p[11].labelAngle:p[3]<fn?90:0)+")")&&a(e,"transform",m),p[11].title?f?f.p(p,_):(f=pu(p),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null)},d(p){p&&y(e),f&&f.d(p),p&&y(r)}}}function pu(t){let e,n=t[11].title+"",l;return{c(){e=je("title"),l=E(n)},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&1&&n!==(n=i[11].title+"")&&X(l,n)},d(i){i&&y(e)}}}function du(t){let e,n,l,i,o,u,m,r=t[3]>15&&hu(t);return{c(){e=je("rect"),r&&r.c(),m=it(),a(e,"x",n=t[6](t[13])+2),a(e,"y",l=t[7](0)),a(e,"width",i=t[3]-4),a(e,"height",o=t[7](t[0].y.min)-t[7](t[0].y.min+t[11].value2)),a(e,"fill",u=t[11].color2?t[11].color2:t[11].color)},m(f,p){M(f,e,p),r&&r.m(f,p),M(f,m,p)},p(f,p){p&64&&n!==(n=f[6](f[13])+2)&&a(e,"x",n),p&128&&l!==(l=f[7](0))&&a(e,"y",l),p&8&&i!==(i=f[3]-4)&&a(e,"width",i),p&129&&o!==(o=f[7](f[0].y.min)-f[7](f[0].y.min+f[11].value2))&&a(e,"height",o),p&1&&u!==(u=f[11].color2?f[11].color2:f[11].color)&&a(e,"fill",u),f[3]>15?r?r.p(f,p):(r=hu(f),r.c(),r.m(m.parentNode,m)):r&&(r.d(1),r=null)},d(f){f&&y(e),r&&r.d(f),f&&y(m)}}}function hu(t){let e,n=t[11].label2+"",l,i,o,u,m,r=t[11].title2&&vu(t);return{c(){e=je("text"),l=E(n),r&&r.c(),m=it(),a(e,"width",i=t[3]-4),a(e,"dominant-baseline","middle"),a(e,"text-anchor","middle"),a(e,"fill",o=t[7](-t[11].value2)<t[7](0)+15?t[11].color2?t[11].color2:t[11].color:"white"),a(e,"transform",u="translate("+(t[6](t[13])+t[3]/2)+" "+(t[7](-t[11].value2)<t[7](0)+15?t[7](-t[11].value2)+15:t[7](-t[11].value2)-14)+") rotate("+(t[3]<fn?90:0)+")")},m(f,p){M(f,e,p),s(e,l),r&&r.m(f,p),M(f,m,p)},p(f,p){p&1&&n!==(n=f[11].label2+"")&&X(l,n),p&8&&i!==(i=f[3]-4)&&a(e,"width",i),p&129&&o!==(o=f[7](-f[11].value2)<f[7](0)+15?f[11].color2?f[11].color2:f[11].color:"white")&&a(e,"fill",o),p&201&&u!==(u="translate("+(f[6](f[13])+f[3]/2)+" "+(f[7](-f[11].value2)<f[7](0)+15?f[7](-f[11].value2)+15:f[7](-f[11].value2)-14)+") rotate("+(f[3]<fn?90:0)+")")&&a(e,"transform",u),f[11].title2?r?r.p(f,p):(r=vu(f),r.c(),r.m(m.parentNode,m)):r&&(r.d(1),r=null)},d(f){f&&y(e),r&&r.d(f),f&&y(m)}}}function vu(t){let e,n=t[11].title2+"",l;return{c(){e=je("title"),l=E(n)},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&1&&n!==(n=i[11].title2+"")&&X(l,n)},d(i){i&&y(e)}}}function bu(t){let e=!isNaN(t[6](t[13]))&&!isNaN(t[7](t[11].value)),n,l=e&&cu(t);return{c(){l&&l.c(),n=it()},m(i,o){l&&l.m(i,o),M(i,n,o)},p(i,o){o&193&&(e=!isNaN(i[6](i[13]))&&!isNaN(i[7](i[11].value))),e?l?l.p(i,o):(l=cu(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&y(n)}}}function Am(t){let e,n,l=t[0].x.ticks&&t[0].points&&t[4]&&iu(t);return{c(){e=c("div"),l&&l.c(),a(e,"class","chart"),Ze(()=>t[10].call(e))},m(i,o){M(i,e,o),l&&l.m(e,null),n=bo(e,t[10].bind(e))},p(i,[o]){i[0].x.ticks&&i[0].points&&i[4]?l?l.p(i,o):(l=iu(i),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i:be,o:be,d(i){i&&y(e),l&&l.d(),n()}}}let fn=30;function $m(t,e,n){let{config:l}=e,i,o,u,m,r,f,p,_=0;function v(){_=this.clientHeight,n(5,_)}function h(){i=this.clientWidth,o=this.clientHeight,n(1,i),n(2,o)}return t.$$set=d=>{"config"in d&&n(0,l=d.config)},t.$$.update=()=>{if(t.$$.dirty&63){n(4,f=o-_);let d=i-(l.padding.left+l.padding.right);n(3,u=d/l.points.length),n(8,p=u<fn?30:15);let g=(f-l.padding.top-l.padding.bottom)/(l.y.max-l.y.min);n(6,m=function(k){return k*u+l.padding.left}),n(7,r=function(k){let A=0;return k>l.y.max?A=l.padding.bottom:k<l.y.min?A=f-l.padding.bottom:A=f-l.padding.bottom-(k-l.y.min)*g,A>f||A<0?0:A})}},[l,i,o,u,f,_,m,r,p,v,h]}class _n extends We{constructor(e){super(),He(this,e,$m,Am,Be,{config:0})}}function Dm(t){let e,n;return e=new _n({props:{config:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.config=l[0]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Lm(t,e,n){let{u1:l}=e,{u2:i}=e,{u3:o}=e,{ds:u}=e,m={};function r(f){return{label:Ne(f)+"V",title:f.toFixed(1)+" V",value:isNaN(f)?0:f,color:Gc(f||0,document.documentElement.classList.contains("dark"))}}return t.$$set=f=>{"u1"in f&&n(1,l=f.u1),"u2"in f&&n(2,i=f.u2),"u3"in f&&n(3,o=f.u3),"ds"in f&&n(4,u=f.ds)},t.$$.update=()=>{if(t.$$.dirty&30){let f=[],p=[];l>0&&(f.push({label:u===1?"L1-L2":"L1"}),p.push(r(l))),i>0&&(f.push({label:u===1?"L1-L3":"L2"}),p.push(r(i))),o>0&&(f.push({label:u===1?"L2-L3":"L3"}),p.push(r(o))),n(0,m={title:"Voltage",padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:f},points:p})}},[m,l,i,o,u]}class Im extends We{constructor(e){super(),He(this,e,Lm,Dm,Be,{u1:1,u2:2,u3:3,ds:4})}}function Rm(t){let e,n,l,i,o,u,m,r=(typeof t[0]<"u"?t[0].toFixed(0):"-")+"",f,p,_,v,h,d,g=(typeof t[1]<"u"?t[1].toFixed(0):"-")+"",k,A,T,P,F,I,R,w=(typeof t[2]<"u"?t[2].toFixed(1):"-")+"",$,ie,j,U,H,G,V=(typeof t[3]<"u"?t[3].toFixed(1):"-")+"",K,Z;return{c(){e=c("div"),n=c("strong"),n.textContent="Reactive",l=b(),i=c("div"),o=c("div"),o.textContent="Instant in",u=b(),m=c("div"),f=E(r),p=E(" VAr"),_=b(),v=c("div"),v.textContent="Instant out",h=b(),d=c("div"),k=E(g),A=E(" VAr"),T=b(),P=c("div"),F=c("div"),F.textContent="Total in",I=b(),R=c("div"),$=E(w),ie=E(" kVArh"),j=b(),U=c("div"),U.textContent="Total out",H=b(),G=c("div"),K=E(V),Z=E(" kVArh"),a(m,"class","text-right"),a(d,"class","text-right"),a(i,"class","grid grid-cols-2 mt-4"),a(R,"class","text-right"),a(G,"class","text-right"),a(P,"class","grid grid-cols-2 mt-4"),a(e,"class","mx-2 text-sm")},m(z,W){M(z,e,W),s(e,n),s(e,l),s(e,i),s(i,o),s(i,u),s(i,m),s(m,f),s(m,p),s(i,_),s(i,v),s(i,h),s(i,d),s(d,k),s(d,A),s(e,T),s(e,P),s(P,F),s(P,I),s(P,R),s(R,$),s(R,ie),s(P,j),s(P,U),s(P,H),s(P,G),s(G,K),s(G,Z)},p(z,[W]){W&1&&r!==(r=(typeof z[0]<"u"?z[0].toFixed(0):"-")+"")&&X(f,r),W&2&&g!==(g=(typeof z[1]<"u"?z[1].toFixed(0):"-")+"")&&X(k,g),W&4&&w!==(w=(typeof z[2]<"u"?z[2].toFixed(1):"-")+"")&&X($,w),W&8&&V!==(V=(typeof z[3]<"u"?z[3].toFixed(1):"-")+"")&&X(K,V)},i:be,o:be,d(z){z&&y(e)}}}function Fm(t,e,n){let{importInstant:l}=e,{exportInstant:i}=e,{importTotal:o}=e,{exportTotal:u}=e;return t.$$set=m=>{"importInstant"in m&&n(0,l=m.importInstant),"exportInstant"in m&&n(1,i=m.exportInstant),"importTotal"in m&&n(2,o=m.importTotal),"exportTotal"in m&&n(3,u=m.exportTotal)},[l,i,o,u]}class Om extends We{constructor(e){super(),He(this,e,Fm,Rm,Be,{importInstant:0,exportInstant:1,importTotal:2,exportTotal:3})}}function gu(t){let e;function n(o,u){return o[3]?Bm:qm}let l=n(t),i=l(t);return{c(){i.c(),e=it()},m(o,u){i.m(o,u),M(o,e,u)},p(o,u){l===(l=n(o))&&i?i.p(o,u):(i.d(1),i=l(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&y(e)}}}function qm(t){let e,n,l,i,o,u,m=Ne(t[1].h.u,2)+"",r,f,p,_,v,h,d=Ne(t[1].d.u,1)+"",g,k,A,T,P,F,I=Ne(t[1].m.u)+"",R,w,$,ie,j,U,H=Ne(t[0].last_month.u)+"",G,V,K,Z,z=t[4]&&ku(t);return{c(){e=c("strong"),e.textContent="Consumption",n=b(),l=c("div"),i=c("div"),i.textContent="Hour",o=b(),u=c("div"),r=E(m),f=E(" kWh"),p=b(),_=c("div"),_.textContent="Day",v=b(),h=c("div"),g=E(d),k=E(" kWh"),A=b(),T=c("div"),T.textContent="Month",P=b(),F=c("div"),R=E(I),w=E(" kWh"),$=b(),ie=c("div"),ie.textContent="Last month",j=b(),U=c("div"),G=E(H),V=E(" kWh"),K=b(),z&&z.c(),Z=it(),a(u,"class","text-right"),a(h,"class","text-right"),a(F,"class","text-right"),a(U,"class","text-right"),a(l,"class","grid grid-cols-2 mb-3")},m(W,x){M(W,e,x),M(W,n,x),M(W,l,x),s(l,i),s(l,o),s(l,u),s(u,r),s(u,f),s(l,p),s(l,_),s(l,v),s(l,h),s(h,g),s(h,k),s(l,A),s(l,T),s(l,P),s(l,F),s(F,R),s(F,w),s(l,$),s(l,ie),s(l,j),s(l,U),s(U,G),s(U,V),M(W,K,x),z&&z.m(W,x),M(W,Z,x)},p(W,x){x&2&&m!==(m=Ne(W[1].h.u,2)+"")&&X(r,m),x&2&&d!==(d=Ne(W[1].d.u,1)+"")&&X(g,d),x&2&&I!==(I=Ne(W[1].m.u)+"")&&X(R,I),x&1&&H!==(H=Ne(W[0].last_month.u)+"")&&X(G,H),W[4]?z?z.p(W,x):(z=ku(W),z.c(),z.m(Z.parentNode,Z)):z&&(z.d(1),z=null)},d(W){W&&y(e),W&&y(n),W&&y(l),W&&y(K),z&&z.d(W),W&&y(Z)}}}function Bm(t){let e,n,l,i,o,u,m=Ne(t[1].h.u,2)+"",r,f,p,_,v,h,d,g=Ne(t[1].d.u,1)+"",k,A,T,P,F,I,R,w=Ne(t[1].m.u)+"",$,ie,j,U,H,G,V,K=Ne(t[0].last_month.u)+"",Z,z,W,x,_e,ne,me,Y,ke,Ee,we,Me=Ne(t[1].h.p,2)+"",te,fe,Oe,Ie,N,C,S,D=Ne(t[1].d.p,1)+"",O,J,le,pe,ge,Ae,Fe,ce=Ne(t[1].m.p)+"",Pe,ze,ct,Ke,rt,Ge,mt,Ue=Ne(t[0].last_month.p)+"",Nt,_t,dt,et,Re=t[4]&&wu(t),tt=t[4]&&Cu(t),Le=t[4]&&yu(t),Je=t[4]&&Mu(t),at=t[4]&&Su(t),qe=t[4]&&Tu(t),ye=t[4]&&Nu(t),ve=t[4]&&Eu(t);return{c(){e=c("strong"),e.textContent="Import",n=b(),l=c("div"),i=c("div"),i.textContent="Hour",o=b(),u=c("div"),r=E(m),f=E(" kWh"),p=b(),Re&&Re.c(),_=b(),v=c("div"),v.textContent="Day",h=b(),d=c("div"),k=E(g),A=E(" kWh"),T=b(),tt&&tt.c(),P=b(),F=c("div"),F.textContent="Month",I=b(),R=c("div"),$=E(w),ie=E(" kWh"),j=b(),Le&&Le.c(),U=b(),H=c("div"),H.textContent="Last mo.",G=b(),V=c("div"),Z=E(K),z=E(" kWh"),W=b(),Je&&Je.c(),_e=b(),ne=c("strong"),ne.textContent="Export",me=b(),Y=c("div"),ke=c("div"),ke.textContent="Hour",Ee=b(),we=c("div"),te=E(Me),fe=E(" kWh"),Oe=b(),at&&at.c(),Ie=b(),N=c("div"),N.textContent="Day",C=b(),S=c("div"),O=E(D),J=E(" kWh"),le=b(),qe&&qe.c(),pe=b(),ge=c("div"),ge.textContent="Month",Ae=b(),Fe=c("div"),Pe=E(ce),ze=E(" kWh"),ct=b(),ye&&ye.c(),Ke=b(),rt=c("div"),rt.textContent="Last mo.",Ge=b(),mt=c("div"),Nt=E(Ue),_t=E(" kWh"),dt=b(),ve&&ve.c(),a(u,"class","text-right"),a(d,"class","text-right"),a(R,"class","text-right"),a(V,"class","text-right"),a(l,"class",x="grid grid-cols-"+t[5]+" mb-3"),a(we,"class","text-right"),a(S,"class","text-right"),a(Fe,"class","text-right"),a(mt,"class","text-right"),a(Y,"class",et="grid grid-cols-"+t[5])},m(de,Ve){M(de,e,Ve),M(de,n,Ve),M(de,l,Ve),s(l,i),s(l,o),s(l,u),s(u,r),s(u,f),s(l,p),Re&&Re.m(l,null),s(l,_),s(l,v),s(l,h),s(l,d),s(d,k),s(d,A),s(l,T),tt&&tt.m(l,null),s(l,P),s(l,F),s(l,I),s(l,R),s(R,$),s(R,ie),s(l,j),Le&&Le.m(l,null),s(l,U),s(l,H),s(l,G),s(l,V),s(V,Z),s(V,z),s(l,W),Je&&Je.m(l,null),M(de,_e,Ve),M(de,ne,Ve),M(de,me,Ve),M(de,Y,Ve),s(Y,ke),s(Y,Ee),s(Y,we),s(we,te),s(we,fe),s(Y,Oe),at&&at.m(Y,null),s(Y,Ie),s(Y,N),s(Y,C),s(Y,S),s(S,O),s(S,J),s(Y,le),qe&&qe.m(Y,null),s(Y,pe),s(Y,ge),s(Y,Ae),s(Y,Fe),s(Fe,Pe),s(Fe,ze),s(Y,ct),ye&&ye.m(Y,null),s(Y,Ke),s(Y,rt),s(Y,Ge),s(Y,mt),s(mt,Nt),s(mt,_t),s(Y,dt),ve&&ve.m(Y,null)},p(de,Ve){Ve&2&&m!==(m=Ne(de[1].h.u,2)+"")&&X(r,m),de[4]?Re?Re.p(de,Ve):(Re=wu(de),Re.c(),Re.m(l,_)):Re&&(Re.d(1),Re=null),Ve&2&&g!==(g=Ne(de[1].d.u,1)+"")&&X(k,g),de[4]?tt?tt.p(de,Ve):(tt=Cu(de),tt.c(),tt.m(l,P)):tt&&(tt.d(1),tt=null),Ve&2&&w!==(w=Ne(de[1].m.u)+"")&&X($,w),de[4]?Le?Le.p(de,Ve):(Le=yu(de),Le.c(),Le.m(l,U)):Le&&(Le.d(1),Le=null),Ve&1&&K!==(K=Ne(de[0].last_month.u)+"")&&X(Z,K),de[4]?Je?Je.p(de,Ve):(Je=Mu(de),Je.c(),Je.m(l,null)):Je&&(Je.d(1),Je=null),Ve&32&&x!==(x="grid grid-cols-"+de[5]+" mb-3")&&a(l,"class",x),Ve&2&&Me!==(Me=Ne(de[1].h.p,2)+"")&&X(te,Me),de[4]?at?at.p(de,Ve):(at=Su(de),at.c(),at.m(Y,Ie)):at&&(at.d(1),at=null),Ve&2&&D!==(D=Ne(de[1].d.p,1)+"")&&X(O,D),de[4]?qe?qe.p(de,Ve):(qe=Tu(de),qe.c(),qe.m(Y,pe)):qe&&(qe.d(1),qe=null),Ve&2&&ce!==(ce=Ne(de[1].m.p)+"")&&X(Pe,ce),de[4]?ye?ye.p(de,Ve):(ye=Nu(de),ye.c(),ye.m(Y,Ke)):ye&&(ye.d(1),ye=null),Ve&1&&Ue!==(Ue=Ne(de[0].last_month.p)+"")&&X(Nt,Ue),de[4]?ve?ve.p(de,Ve):(ve=Eu(de),ve.c(),ve.m(Y,null)):ve&&(ve.d(1),ve=null),Ve&32&&et!==(et="grid grid-cols-"+de[5])&&a(Y,"class",et)},d(de){de&&y(e),de&&y(n),de&&y(l),Re&&Re.d(),tt&&tt.d(),Le&&Le.d(),Je&&Je.d(),de&&y(_e),de&&y(ne),de&&y(me),de&&y(Y),at&&at.d(),qe&&qe.d(),ye&&ye.d(),ve&&ve.d()}}}function ku(t){let e,n,l,i,o,u,m=Ne(t[1].h.c,2)+"",r,f,p,_,v,h,d,g=Ne(t[1].d.c,1)+"",k,A,T,P,F,I,R,w=Ne(t[1].m.c)+"",$,ie,j,U,H,G,V,K=Ne(t[0].last_month.c)+"",Z,z,W;return{c(){e=c("strong"),e.textContent="Cost",n=b(),l=c("div"),i=c("div"),i.textContent="Hour",o=b(),u=c("div"),r=E(m),f=b(),p=E(t[2]),_=b(),v=c("div"),v.textContent="Day",h=b(),d=c("div"),k=E(g),A=b(),T=E(t[2]),P=b(),F=c("div"),F.textContent="Month",I=b(),R=c("div"),$=E(w),ie=b(),j=E(t[2]),U=b(),H=c("div"),H.textContent="Last month",G=b(),V=c("div"),Z=E(K),z=b(),W=E(t[2]),a(u,"class","text-right"),a(d,"class","text-right"),a(R,"class","text-right"),a(V,"class","text-right"),a(l,"class","grid grid-cols-2")},m(x,_e){M(x,e,_e),M(x,n,_e),M(x,l,_e),s(l,i),s(l,o),s(l,u),s(u,r),s(u,f),s(u,p),s(l,_),s(l,v),s(l,h),s(l,d),s(d,k),s(d,A),s(d,T),s(l,P),s(l,F),s(l,I),s(l,R),s(R,$),s(R,ie),s(R,j),s(l,U),s(l,H),s(l,G),s(l,V),s(V,Z),s(V,z),s(V,W)},p(x,_e){_e&2&&m!==(m=Ne(x[1].h.c,2)+"")&&X(r,m),_e&4&&X(p,x[2]),_e&2&&g!==(g=Ne(x[1].d.c,1)+"")&&X(k,g),_e&4&&X(T,x[2]),_e&2&&w!==(w=Ne(x[1].m.c)+"")&&X($,w),_e&4&&X(j,x[2]),_e&1&&K!==(K=Ne(x[0].last_month.c)+"")&&X(Z,K),_e&4&&X(W,x[2])},d(x){x&&y(e),x&&y(n),x&&y(l)}}}function wu(t){let e,n=Ne(t[1].h.c,2)+"",l,i,o;return{c(){e=c("div"),l=E(n),i=b(),o=E(t[2]),a(e,"class","text-right")},m(u,m){M(u,e,m),s(e,l),s(e,i),s(e,o)},p(u,m){m&2&&n!==(n=Ne(u[1].h.c,2)+"")&&X(l,n),m&4&&X(o,u[2])},d(u){u&&y(e)}}}function Cu(t){let e,n=Ne(t[1].d.c,1)+"",l,i,o;return{c(){e=c("div"),l=E(n),i=b(),o=E(t[2]),a(e,"class","text-right")},m(u,m){M(u,e,m),s(e,l),s(e,i),s(e,o)},p(u,m){m&2&&n!==(n=Ne(u[1].d.c,1)+"")&&X(l,n),m&4&&X(o,u[2])},d(u){u&&y(e)}}}function yu(t){let e,n=Ne(t[1].m.c)+"",l,i,o;return{c(){e=c("div"),l=E(n),i=b(),o=E(t[2]),a(e,"class","text-right")},m(u,m){M(u,e,m),s(e,l),s(e,i),s(e,o)},p(u,m){m&2&&n!==(n=Ne(u[1].m.c)+"")&&X(l,n),m&4&&X(o,u[2])},d(u){u&&y(e)}}}function Mu(t){let e,n=Ne(t[0].last_month.c)+"",l,i,o;return{c(){e=c("div"),l=E(n),i=b(),o=E(t[2]),a(e,"class","text-right")},m(u,m){M(u,e,m),s(e,l),s(e,i),s(e,o)},p(u,m){m&1&&n!==(n=Ne(u[0].last_month.c)+"")&&X(l,n),m&4&&X(o,u[2])},d(u){u&&y(e)}}}function Su(t){let e,n=Ne(t[1].h.i,2)+"",l,i,o;return{c(){e=c("div"),l=E(n),i=b(),o=E(t[2]),a(e,"class","text-right")},m(u,m){M(u,e,m),s(e,l),s(e,i),s(e,o)},p(u,m){m&2&&n!==(n=Ne(u[1].h.i,2)+"")&&X(l,n),m&4&&X(o,u[2])},d(u){u&&y(e)}}}function Tu(t){let e,n=Ne(t[1].d.i,1)+"",l,i,o;return{c(){e=c("div"),l=E(n),i=b(),o=E(t[2]),a(e,"class","text-right")},m(u,m){M(u,e,m),s(e,l),s(e,i),s(e,o)},p(u,m){m&2&&n!==(n=Ne(u[1].d.i,1)+"")&&X(l,n),m&4&&X(o,u[2])},d(u){u&&y(e)}}}function Nu(t){let e,n=Ne(t[1].m.i)+"",l,i,o;return{c(){e=c("div"),l=E(n),i=b(),o=E(t[2]),a(e,"class","text-right")},m(u,m){M(u,e,m),s(e,l),s(e,i),s(e,o)},p(u,m){m&2&&n!==(n=Ne(u[1].m.i)+"")&&X(l,n),m&4&&X(o,u[2])},d(u){u&&y(e)}}}function Eu(t){let e,n=Ne(t[0].last_month.i)+"",l,i,o;return{c(){e=c("div"),l=E(n),i=b(),o=E(t[2]),a(e,"class","text-right")},m(u,m){M(u,e,m),s(e,l),s(e,i),s(e,o)},p(u,m){m&1&&n!==(n=Ne(u[0].last_month.i)+"")&&X(l,n),m&4&&X(o,u[2])},d(u){u&&y(e)}}}function Um(t){let e,n,l,i,o,u,m=t[1]&&gu(t);return{c(){e=c("div"),n=c("strong"),n.textContent="Real time calculation",l=b(),i=c("br"),o=c("br"),u=b(),m&&m.c(),a(e,"class","mx-2 text-sm")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(e,i),s(e,o),s(e,u),m&&m.m(e,null)},p(r,[f]){r[1]?m?m.p(r,f):(m=gu(r),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:be,o:be,d(r){r&&y(e),m&&m.d()}}}function jm(t,e,n){let{sysinfo:l}=e,{data:i}=e,{currency:o}=e,{hasExport:u}=e,m=!1,r=3;return t.$$set=f=>{"sysinfo"in f&&n(0,l=f.sysinfo),"data"in f&&n(1,i=f.data),"currency"in f&&n(2,o=f.currency),"hasExport"in f&&n(3,u=f.hasExport)},t.$$.update=()=>{t.$$.dirty&18&&(n(4,m=i&&i.h&&(Math.abs(i.h.c)>.01||Math.abs(i.d.c)>.01||Math.abs(i.m.c)>.01||Math.abs(i.h.i)>.01||Math.abs(i.d.i)>.01||Math.abs(i.m.i)>.01)),n(5,r=m?3:2))},[l,i,o,u,m,r]}class Hm extends We{constructor(e){super(),He(this,e,jm,Um,Be,{sysinfo:0,data:1,currency:2,hasExport:3})}}function Wm(t){let e,n,l=jr(t[0].source)+"",i,o,u,m,r;return m=new _n({props:{config:t[1]}}),{c(){e=c("a"),n=E("Provided by: "),i=E(l),u=b(),ae(m.$$.fragment),a(e,"href",o=Hr(t[0].source)),a(e,"target","_blank"),a(e,"class","text-xs float-right z-40")},m(f,p){M(f,e,p),s(e,n),s(e,i),M(f,u,p),se(m,f,p),r=!0},p(f,[p]){(!r||p&1)&&l!==(l=jr(f[0].source)+"")&&X(i,l),(!r||p&1&&o!==(o=Hr(f[0].source)))&&a(e,"href",o);const _={};p&2&&(_.config=f[1]),m.$set(_)},i(f){r||(L(m.$$.fragment,f),r=!0)},o(f){q(m.$$.fragment,f),r=!1},d(f){f&&y(e),f&&y(u),oe(m,f)}}}function zm(t,e,n){let{json:l}=e,{sysinfo:i}=e,o={},u,m,r=document.documentElement.classList.contains("dark");return t.$$set=f=>{"json"in f&&n(0,l=f.json),"sysinfo"in f&&n(2,i=f.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&29){let f=l.currency,p=new Date().getUTCHours(),_=0,v=0,h=0,d=[],g=[],k=[];n(4,m=n(3,u=0));let A=new Date;for(kl(A,i.clock_offset-(24+A.getHours()-A.getUTCHours())%24),_=p;_<24&&(v=l[Ye(h++)],v!=null);_++)g.push({label:Ye(A.getHours())}),k.push(v*100),n(4,m=Math.min(m,v*100)),n(3,u=Math.max(u,v*100)),kl(A,1);for(_=0;_<24&&(v=l[Ye(h++)],v!=null);_++)g.push({label:Ye(A.getHours())}),k.push(v*100),n(4,m=Math.min(m,v*100)),n(3,u=Math.max(u,v*100)),kl(A,1);if(m>-100&&u<100){switch(f){case"NOK":case"DKK":f="\xF8re";break;case"SEK":f="\xF6re";break;case"EUR":f="cent";break;case"CHF":f="rp.";break;default:f=f+"/100"}for(n(4,m*=100),n(3,u*=100),_=0;_<k.length;_++)k[_]*=100}let T=[];for(_=0;_<k.length;_++){v=k[_];let R=v*.01,w=Math.abs(v)<1e3?2:0;T.push({label:R>=0?R.toFixed(w):"",title:R>=0?R.toFixed(2)+" "+f:"",value:v>=0?Math.abs(v):0,label2:R<0?R.toFixed(w):"",title2:R<0?R.toFixed(2)+" "+f:"",value2:v<0?Math.abs(v):0,color:r?"#5c2da5":"#7c3aed"})}let P=Math.max(u,Math.abs(m));if(m<0){n(4,m=Math.min(P/4*-1,m));let R=Math.ceil(Math.abs(m)/P*4),w=m/R;for(_=1;_<R+1;_++){let $=w*_;d.push({value:$,label:($/100).toFixed(2)})}}n(3,u=Math.max(P/4,u));let F=Math.ceil(u/P*4),I=u/F;for(_=0;_<F+1;_++){let R=I*_;d.push({value:R,label:(R/100).toFixed(2)})}n(1,o={title:"Future energy price ("+f+")",padding:{top:20,right:15,bottom:20,left:35},y:{min:m,max:u,ticks:d},x:{ticks:g},points:T})}},[l,o,i,u,m]}class Gm extends We{constructor(e){super(),He(this,e,zm,Wm,Be,{json:0,sysinfo:2})}}function Vm(t){let e,n;return e=new _n({props:{config:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.config=l[0]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Km(t,e,n){let{json:l}=e,{sysinfo:i}=e,o={},u,m,r=document.documentElement.classList.contains("dark");return t.$$set=f=>{"json"in f&&n(1,l=f.json),"sysinfo"in f&&n(2,i=f.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&30){let f=0,p=[],_=[],v=[];n(4,m=n(3,u=0));let h=kl(new Date,-24),d=new Date().getUTCHours();for(kl(h,i.clock_offset-(24+h.getHours()-h.getUTCHours())%24),f=d;f<24;f++){let T=l["i"+Ye(f)],P=l["e"+Ye(f)];T===void 0&&(T=0),P===void 0&&(P=0),_.push({label:Ye(h.getHours())}),v.push({label:T.toFixed(1),title:T.toFixed(2)+" kWh",value:T*10,label2:P.toFixed(1),title2:P.toFixed(2)+" kWh",value2:P*10,color:r?"#5c2da5":"#7c3aed",color2:r?"#27728e":"#37829e"}),n(4,m=Math.max(m,P*10)),n(3,u=Math.max(u,T*10)),kl(h,1)}for(f=0;f<d;f++){let T=l["i"+Ye(f)],P=l["e"+Ye(f)];T===void 0&&(T=0),P===void 0&&(P=0),_.push({label:Ye(h.getHours())}),v.push({label:T.toFixed(1),title:T.toFixed(2)+" kWh",value:T*10,label2:P.toFixed(1),title2:P.toFixed(2)+" kWh",value2:P*10,color:r?"#5c2da5":"#7c3aed",color2:r?"#27728e":"#37829e"}),n(4,m=Math.max(m,P*10)),n(3,u=Math.max(u,T*10)),kl(h,1)}n(4,m*=-1);let g=Math.max(u,Math.abs(m));if(m<0){n(4,m=Math.min(g/4*-1,m));let T=Math.ceil(Math.abs(m)/g*4),P=m/T;for(f=1;f<T+1;f++){let F=P*f;p.push({value:F,label:(F/10).toFixed(1)})}}n(3,u=Math.max(g/4,u));let k=Math.ceil(u/g*4),A=u/k;for(f=0;f<k+1;f++){let T=A*f;p.push({value:T,label:(T/10).toFixed(1)})}n(0,o={title:"Energy use last 24 hours (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:m,max:u,ticks:p},x:{ticks:_},points:v})}},[o,l,i,u,m]}class Ym extends We{constructor(e){super(),He(this,e,Km,Vm,Be,{json:1,sysinfo:2})}}function Qm(t){let e,n;return e=new _n({props:{config:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.config=l[0]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Xm(t,e,n){let{json:l}=e,{sysinfo:i}=e,o={},u,m,r=document.documentElement.classList.contains("dark");return t.$$set=f=>{"json"in f&&n(1,l=f.json),"sysinfo"in f&&n(2,i=f.sysinfo)},t.$$.update=()=>{if(t.$$.dirty&30){let f=0,p=[],_=[],v=[];n(4,m=n(3,u=0));let h=new Date,d=new Date;for(kl(h,i.clock_offset-(24+h.getHours()-h.getUTCHours())%24),kl(d,i.clock_offset-(24+d.getHours()-d.getUTCHours())%24),d.setDate(0),f=h.getDate();f<=d.getDate();f++){let T=l["i"+Ye(f)],P=l["e"+Ye(f)];T===void 0&&(T=0),P===void 0&&(P=0),_.push({label:Ye(f)}),v.push({label:T.toFixed(T<10?1:0),title:T.toFixed(2)+" kWh",value:T,label2:P.toFixed(P<10?1:0),title2:P.toFixed(2)+" kWh",value2:P,color:r?"#5c2da5":"#7c3aed",color2:r?"#27728e":"#37829e"}),n(4,m=Math.max(m,P)),n(3,u=Math.max(u,T))}for(f=1;f<h.getDate();f++){let T=l["i"+Ye(f)],P=l["e"+Ye(f)];T===void 0&&(T=0),P===void 0&&(P=0),_.push({label:Ye(f)}),v.push({label:T.toFixed(T<10?1:0),title:T.toFixed(2)+" kWh",value:T,label2:P.toFixed(P<10?1:0),title2:P.toFixed(2)+" kWh",value2:P,color:r?"#5c2da5":"#7c3aed",color2:r?"#27728e":"#37829e"}),n(4,m=Math.max(m,P)),n(3,u=Math.max(u,T))}n(4,m*=-1);let g=Math.max(u,Math.abs(m));if(m<0){n(4,m=Math.min(g/4*-1,m));let T=Math.ceil(Math.abs(m)/g*4),P=m/T;for(f=1;f<T+1;f++){let F=P*f;p.push({value:F,label:F.toFixed(0)})}}n(3,u=Math.max(g/4,u));let k=Math.ceil(u/g*4),A=u/k;for(f=0;f<k+1;f++){let T=A*f;p.push({value:T,label:T.toFixed(0)})}n(0,o={title:"Energy use last "+d.getDate()+" days (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:m,max:u,ticks:p},x:{ticks:_},points:v})}},[o,l,i,u,m]}class Zm extends We{constructor(e){super(),He(this,e,Xm,Qm,Be,{json:1,sysinfo:2})}}function Jm(t){let e,n;return e=new _n({props:{config:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.config=l[0]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function xm(t,e,n){let{json:l}=e,i=document.documentElement.classList.contains("dark"),o={},u=0,m=0;return t.$$set=r=>{"json"in r&&n(1,l=r.json)},t.$$.update=()=>{if(t.$$.dirty&14){let r=0,f=0,p=[],_=[],v=[];l.s&&l.s.forEach((g,k)=>{var A=g.n?g.n:g.a;f=g.v,f==-127&&(f=0),_.push({label:A.slice(-4)}),v.push({label:f.toFixed(1),value:f,color:i?"#5c2da5":"#7c3aed"}),n(3,m=Math.min(m,f)),n(2,u=Math.max(u,f))}),n(2,u=Math.ceil(u)),n(3,m=Math.floor(m));let h=u;m<0&&(h+=Math.abs(m));let d=h/4;for(r=0;r<5;r++)f=m+d*r,p.push({value:f,label:f.toFixed(1)});n(0,o={title:"Temperature sensors (\xB0C)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:m,max:u,ticks:p},x:{ticks:_},points:v})}},[o,l,u,m]}class e_ extends We{constructor(e){super(),He(this,e,xm,Jm,Be,{json:1})}}function t_(t){let e,n;return e=new _n({props:{config:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.config=l[0]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}let l_=0;function n_(t,e,n){let l=document.documentElement.classList.contains("dark"),i={},o=0,u;return p0.subscribe(m=>{n(2,u=m)}),_0(),t.$$.update=()=>{if(t.$$.dirty&6){let m=0,r=[],f=[],p=[];if(r.push({value:0,label:0}),u&&u.p)for(m=0;m<u.p.length;m++){let _=u.p[m];p.push({label:_.v.toFixed(2),value:_.v,color:l?"#5c2da5":"#7c3aed"}),f.push({label:_.d>0?Ye(_.d)+"."+Mi[new Date().getMonth()]:"-"}),n(1,o=Math.max(o,_.v))}if(u&&u.t){for(m=0;m<u.t.length;m++){let _=u.t[m];if(_>=o)break;r.push({value:_,label:_})}r.push({label:u.m.toFixed(1),align:"right",color:"green",value:u.m})}u&&u.c&&(r.push({label:u.c.toFixed(0),color:"orange",value:u.c}),n(1,o=Math.max(o,u.c))),n(1,o=Math.ceil(o)),n(0,i={title:"Tariff peaks",padding:{top:20,right:35,bottom:20,left:35},y:{min:l_,max:o,ticks:r},x:{ticks:f},points:p})}},[i,o,u]}class i_ extends We{constructor(e){super(),He(this,e,n_,t_,Be,{})}}function Pu(t,e,n){const l=t.slice();return l[20]=e[n],l[22]=n,l}function Au(t,e,n){const l=t.slice();return l[23]=e[n],l}function $u(t){let e,n,l,i,o,u=t[7],m=[];for(let p=0;p<u.length;p+=1)m[p]=Lu(Au(t,u,p));let r=t[8],f=[];for(let p=0;p<r.length;p+=1)f[p]=Fu(Pu(t,r,p));return{c(){e=je("svg"),n=je("g");for(let p=0;p<m.length;p+=1)m[p].c();l=je("g");for(let p=0;p<f.length;p+=1)f[p].c();i=je("polyline"),a(n,"class","axis y-axis"),a(l,"class","axis x-axis"),a(i,"opacity","0.9"),a(i,"fill",t[11]?"#5c2da5":"#7c3aed"),a(i,"stroke",t[11]?"#5c2da5":"#7c3aed"),a(i,"stroke-width","1"),a(i,"points",t[4]),a(e,"viewBox",o="0 0 "+t[3]+" "+t[2]),a(e,"height","100%")},m(p,_){M(p,e,_),s(e,n);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(n,null);s(e,l);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(l,null);s(e,i)},p(p,_){if(_&160){u=p[7];let v;for(v=0;v<u.length;v+=1){const h=Au(p,u,v);m[v]?m[v].p(h,_):(m[v]=Lu(h),m[v].c(),m[v].m(n,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=u.length}if(_&836){r=p[8];let v;for(v=0;v<r.length;v+=1){const h=Pu(p,r,v);f[v]?f[v].p(h,_):(f[v]=Fu(h),f[v].c(),f[v].m(l,null))}for(;v<f.length;v+=1)f[v].d(1);f.length=r.length}_&16&&a(i,"points",p[4]),_&12&&o!==(o="0 0 "+p[3]+" "+p[2])&&a(e,"viewBox",o)},d(p){p&&y(e),ft(m,p),ft(f,p)}}}function Du(t){let e,n,l,i=t[23].label+"",o,u,m;return{c(){e=je("g"),n=je("line"),l=je("text"),o=E(i),a(n,"x2","100%"),a(l,"y","-4"),a(e,"class",u="tick tick-"+t[23].value),a(e,"transform",m="translate(0, "+t[5](t[23].value)+")")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(l,o)},p(r,f){f&128&&i!==(i=r[23].label+"")&&X(o,i),f&128&&u!==(u="tick tick-"+r[23].value)&&a(e,"class",u),f&160&&m!==(m="translate(0, "+r[5](r[23].value)+")")&&a(e,"transform",m)},d(r){r&&y(e)}}}function Lu(t){let e=!isNaN(t[5](t[23].value)),n,l=e&&Du(t);return{c(){l&&l.c(),n=it()},m(i,o){l&&l.m(i,o),M(i,n,o)},p(i,o){o&160&&(e=!isNaN(i[5](i[23].value))),e?l?l.p(i,o):(l=Du(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&y(n)}}}function Iu(t){let e=t[22]%Math.round(6/t[9])==0,n,l=e&&Ru(t);return{c(){l&&l.c(),n=it()},m(i,o){l&&l.m(i,o),M(i,n,o)},p(i,o){o&512&&(e=i[22]%Math.round(6/i[9])==0),e?l?l.p(i,o):(l=Ru(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&y(n)}}}function Ru(t){let e,n,l=t[20].label+"",i,o,u;return{c(){e=je("g"),n=je("text"),i=E(l),a(n,"x",o=t[9]/2),a(n,"y","-4"),a(e,"class","tick"),a(e,"transform",u="translate("+(40+t[6](t[20].value))+","+t[2]+")")},m(m,r){M(m,e,r),s(e,n),s(n,i)},p(m,r){r&256&&l!==(l=m[20].label+"")&&X(i,l),r&512&&o!==(o=m[9]/2)&&a(n,"x",o),r&324&&u!==(u="translate("+(40+m[6](m[20].value))+","+m[2]+")")&&a(e,"transform",u)},d(m){m&&y(e)}}}function Fu(t){let e=!isNaN(t[6](t[20].value)),n,l=e&&Iu(t);return{c(){l&&l.c(),n=it()},m(i,o){l&&l.m(i,o),M(i,n,o)},p(i,o){o&320&&(e=!isNaN(i[6](i[20].value))),e?l?l.p(i,o):(l=Iu(i),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(i){l&&l.d(i),i&&y(n)}}}function s_(t){let e,n,l,i,o,u,m,r=t[7]&&$u(t);return{c(){e=c("div"),n=c("strong"),l=E("Realtime ("),i=E(t[10]),o=E(")"),u=b(),r&&r.c(),a(n,"class","text-sm"),a(e,"class","chart"),Ze(()=>t[15].call(e))},m(f,p){M(f,e,p),s(e,n),s(n,l),s(n,i),s(n,o),s(e,u),r&&r.m(e,null),m=bo(e,t[15].bind(e))},p(f,[p]){p&1024&&X(i,f[10]),f[7]?r?r.p(f,p):(r=$u(f),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:be,o:be,d(f){f&&y(e),r&&r.d(),m()}}}let o_=12;function a_(t,e,n){let l=document.documentElement.classList.contains("dark"),i;d0.subscribe(w=>{n(12,i=w)});let o,u=0,m=0;function r(){o&&clearTimeout(o),o=setTimeout(r,1e4),i.data.unshift(m),n(12,i.data=i.data.slice(0,i.size),i),u+=10}o0.subscribe(w=>{u==0&&(o&&clearTimeout(o),o=setTimeout(r,1e4)),m=w.i-w.e,u=w.u});let f,p,_,v,h,d,g,k,A,T,P,F,I;function R(){_=this.clientWidth,v=this.clientHeight,n(0,_),n(1,v)}return t.$$.update=()=>{if(t.$$.dirty&29183&&(n(2,h=parseInt(v)-50),n(3,d=_-35),n(9,F=d/i.size),n(14,p=0),n(13,f=0),i.data)){for(let $ in i.data){let ie=i.data[$];n(13,f=Math.max(Math.ceil(ie/1e3)*1e3,f)),n(14,p=Math.min(Math.ceil(ie/1e3)*1e3,p))}n(10,I=f>2500?"kW":"W"),n(7,T=[]);for(let $=p;$<f;$+=f/5)T.push({value:$,label:f>2500?($/1e3).toFixed(1):$});n(8,P=[]);for(let $=p;$<i.size;$+=i.size/o_)P.push({value:$,label:"-"+Math.round((i.size-$)/6)+" min"});n(5,k=function($){return Math.ceil(h-$/f*h)-25}),n(6,A=function($){return 30+Math.ceil($/i.size*(d-35))});let w=i.size;n(4,g=A(i.size)+","+k(0)+" "+A(1)+","+k(0));for(let $ in i.data){if(w<0)break;let ie=i.data[$];n(4,g=A(w--)+","+k(ie)+" "+g)}}},[_,v,h,d,g,k,A,T,P,F,I,l,i,f,p,R]}class r_ extends We{constructor(e){super(),He(this,e,a_,s_,Be,{})}}function u_(t){let e,n;return e=new _n({props:{config:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,[i]){const o={};i&1&&(o.config=l[0]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function f_(t,e,n){let{title:l}=e,{unit:i=""}=e,{l1:o=!1}=e,{l2:u=!1}=e,{l2x:m=!1}=e,{l3:r=!1}=e,{l1i:f=0}=e,{l2i:p=0}=e,{l3i:_=0}=e,{l1e:v=0}=e,{l2e:h=0}=e,{l3e:d=0}=e,{maxImport:g=0}=e,{maxExport:k=0}=e,{importColorFn:A}=e,{exportColorFn:T}=e,P={};function F(I,R){return{label:Ne(I>900?I/1e3:I)+(I>900?"k":"")+i,title:I.toFixed(2)+" "+i,value:isNaN(I)?0:I,color:A(I?I/g*100:0,document.documentElement.classList.contains("dark")),label2:Ne(R>900?R/1e3:R)+(R>900?"k":"")+i,title2:R.toFixed(2)+" "+i,value2:isNaN(R)?0:R,color2:T(R?R/k*100:0)}}return t.$$set=I=>{"title"in I&&n(1,l=I.title),"unit"in I&&n(2,i=I.unit),"l1"in I&&n(3,o=I.l1),"l2"in I&&n(4,u=I.l2),"l2x"in I&&n(5,m=I.l2x),"l3"in I&&n(6,r=I.l3),"l1i"in I&&n(7,f=I.l1i),"l2i"in I&&n(8,p=I.l2i),"l3i"in I&&n(9,_=I.l3i),"l1e"in I&&n(10,v=I.l1e),"l2e"in I&&n(11,h=I.l2e),"l3e"in I&&n(12,d=I.l3e),"maxImport"in I&&n(13,g=I.maxImport),"maxExport"in I&&n(14,k=I.maxExport),"importColorFn"in I&&n(15,A=I.importColorFn),"exportColorFn"in I&&n(16,T=I.exportColorFn)},t.$$.update=()=>{if(t.$$.dirty&32762){let I=[],R=[];o&&(I.push({label:"L1"}),R.push(F(f,v))),u&&(m?(I.push({label:"L2"}),R.push({label:"Not available",labelAngle:-90,title:"L2 current is not reported by your meter",value:0,color:"#7c3aedcc"})):(I.push({label:"L2"}),R.push(F(p,h)))),r&&(I.push({label:"L3"}),R.push(F(_,d)));let w=[];k&&(w.push({value:-k,label:"-100%"}),w.push({value:-k/4*3,label:"-75%"}),w.push({value:-k/2,label:"-50%"}),w.push({value:-k/4,label:"-25%"})),w.push({value:0,label:"0%"}),g&&(w.push({value:g/4,label:"25%"}),w.push({value:g/2,label:"50%"}),w.push({value:g/4*3,label:"75%"}),w.push({value:g,label:"100%"})),n(0,P={title:l,padding:{top:20,right:15,bottom:20,left:35},y:{min:-k,max:g,ticks:w},x:{ticks:I},points:R})}},[P,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T]}class Po extends We{constructor(e){super(),He(this,e,f_,u_,Be,{title:1,unit:2,l1:3,l2:4,l2x:5,l3:6,l1i:7,l2i:8,l3i:9,l1e:10,l2e:11,l3e:12,maxImport:13,maxExport:14,importColorFn:15,exportColorFn:16})}}function Ou(t){let e,n,l,i,o,u,m=(t[0].mt?Cs(t[0].mt):"-")+"",r,f,p,_=(t[0].ic?t[0].ic.toFixed(1):"-")+"",v,h,d;return i=new k0({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:"Import",sub:t[0].p,subunit:t[0].pc,colorFn:yo}}),{c(){e=c("div"),n=c("div"),l=c("div"),ae(i.$$.fragment),o=b(),u=c("div"),r=E(m),f=b(),p=c("div"),v=E(_),h=E(" kWh"),a(l,"class","col-span-2"),a(p,"class","text-right"),a(n,"class","grid grid-cols-2"),a(e,"class","cnt")},m(g,k){M(g,e,k),s(e,n),s(n,l),se(i,l,null),s(n,o),s(n,u),s(u,r),s(n,f),s(n,p),s(p,v),s(p,h),d=!0},p(g,k){const A={};k&1&&(A.val=g[0].i?g[0].i:0),k&1&&(A.max=g[0].im?g[0].im:15e3),k&1&&(A.sub=g[0].p),k&1&&(A.subunit=g[0].pc),i.$set(A),(!d||k&1)&&m!==(m=(g[0].mt?Cs(g[0].mt):"-")+"")&&X(r,m),(!d||k&1)&&_!==(_=(g[0].ic?g[0].ic.toFixed(1):"-")+"")&&X(v,_)},i(g){d||(L(i.$$.fragment,g),d=!0)},o(g){q(i.$$.fragment,g),d=!1},d(g){g&&y(e),oe(i)}}}function qu(t){let e,n,l,i,o,u,m,r,f=(t[0].ec?t[0].ec.toFixed(1):"-")+"",p,_,v;return i=new k0({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:"Export",colorFn:Si}}),{c(){e=c("div"),n=c("div"),l=c("div"),ae(i.$$.fragment),o=b(),u=c("div"),m=b(),r=c("div"),p=E(f),_=E(" kWh"),a(l,"class","col-span-2"),a(r,"class","text-right"),a(n,"class","grid grid-cols-2"),a(e,"class","cnt")},m(h,d){M(h,e,d),s(e,n),s(n,l),se(i,l,null),s(n,o),s(n,u),s(n,m),s(n,r),s(r,p),s(r,_),v=!0},p(h,d){const g={};d&1&&(g.val=h[0].e?h[0].e:0),d&1&&(g.max=h[0].om?h[0].om*1e3:1e4),i.$set(g),(!v||d&1)&&f!==(f=(h[0].ec?h[0].ec.toFixed(1):"-")+"")&&X(p,f)},i(h){v||(L(i.$$.fragment,h),v=!0)},o(h){q(i.$$.fragment,h),v=!1},d(h){h&&y(e),oe(i)}}}function Bu(t){let e,n,l=t[0].l1&&Uu(t);return{c(){e=c("div"),l&&l.c(),a(e,"class","cnt")},m(i,o){M(i,e,o),l&&l.m(e,null),n=!0},p(i,o){i[0].l1?l?(l.p(i,o),o&1&&L(l,1)):(l=Uu(i),l.c(),L(l,1),l.m(e,null)):l&&($e(),q(l,1,1,()=>{l=null}),De())},i(i){n||(L(l),n=!0)},o(i){q(l),n=!1},d(i){i&&y(e),l&&l.d()}}}function Uu(t){let e,n;return e=new Im({props:{u1:t[0].l1.u,u2:t[0].l2.u,u3:t[0].l3.u,ds:t[0].ds}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.u1=l[0].l1.u),i&1&&(o.u2=l[0].l2.u),i&1&&(o.u3=l[0].l3.u),i&1&&(o.ds=l[0].ds),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function ju(t){let e,n,l=t[0].l1&&Hu(t);return{c(){e=c("div"),l&&l.c(),a(e,"class","cnt")},m(i,o){M(i,e,o),l&&l.m(e,null),n=!0},p(i,o){i[0].l1?l?(l.p(i,o),o&1&&L(l,1)):(l=Hu(i),l.c(),L(l,1),l.m(e,null)):l&&($e(),q(l,1,1,()=>{l=null}),De())},i(i){n||(L(l),n=!0)},o(i){q(l),n=!1},d(i){i&&y(e),l&&l.d()}}}function Hu(t){let e,n;return e=new Po({props:{title:"Amperage",unit:"A",importColorFn:yo,exportColorFn:Si,maxImport:t[0].mf,maxExport:t[0].om?t[0].om/230:0,l1:t[0].l1&&t[0].l1.u>100,l2:t[0].l2&&t[0].l2.u>100,l3:t[0].l3&&t[0].l3.u>100,l2x:t[0].i2e,l1i:Math.max(t[0].l1.i,0),l2i:Math.max(t[0].l2.i,0),l3i:Math.max(t[0].l3.i,0),l1e:Math.min(t[0].l1.i*-1,0),l2e:Math.min(t[0].l2.i*-1,0),l3e:Math.min(t[0].l3.i*-1,0)}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.maxImport=l[0].mf),i&1&&(o.maxExport=l[0].om?l[0].om/230:0),i&1&&(o.l1=l[0].l1&&l[0].l1.u>100),i&1&&(o.l2=l[0].l2&&l[0].l2.u>100),i&1&&(o.l3=l[0].l3&&l[0].l3.u>100),i&1&&(o.l2x=l[0].i2e),i&1&&(o.l1i=Math.max(l[0].l1.i,0)),i&1&&(o.l2i=Math.max(l[0].l2.i,0)),i&1&&(o.l3i=Math.max(l[0].l3.i,0)),i&1&&(o.l1e=Math.min(l[0].l1.i*-1,0)),i&1&&(o.l2e=Math.min(l[0].l2.i*-1,0)),i&1&&(o.l3e=Math.min(l[0].l3.i*-1,0)),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Wu(t){let e,n,l=t[0].l1&&zu(t);return{c(){e=c("div"),l&&l.c(),a(e,"class","cnt")},m(i,o){M(i,e,o),l&&l.m(e,null),n=!0},p(i,o){i[0].l1?l?(l.p(i,o),o&1&&L(l,1)):(l=zu(i),l.c(),L(l,1),l.m(e,null)):l&&($e(),q(l,1,1,()=>{l=null}),De())},i(i){n||(L(l),n=!0)},o(i){q(l),n=!1},d(i){i&&y(e),l&&l.d()}}}function zu(t){let e,n;return e=new Po({props:{title:"Phase power",unit:"W",importColorFn:yo,exportColorFn:Si,maxImport:(t[0].mf?t[0].mf:32)*230,maxExport:t[0].om,l1:t[0].l1&&t[0].l1.u>100,l2:t[0].l2&&t[0].l2.u>100,l3:t[0].l3&&t[0].l3.u>100,l1i:t[0].l1.p,l1e:t[0].l1.q,l2i:t[0].l2.p,l2e:t[0].l2.q,l3i:t[0].l3.p,l3e:t[0].l3.q}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.maxImport=(l[0].mf?l[0].mf:32)*230),i&1&&(o.maxExport=l[0].om),i&1&&(o.l1=l[0].l1&&l[0].l1.u>100),i&1&&(o.l2=l[0].l2&&l[0].l2.u>100),i&1&&(o.l3=l[0].l3&&l[0].l3.u>100),i&1&&(o.l1i=l[0].l1.p),i&1&&(o.l1e=l[0].l1.q),i&1&&(o.l2i=l[0].l2.p),i&1&&(o.l2e=l[0].l2.q),i&1&&(o.l3i=l[0].l3.p),i&1&&(o.l3e=l[0].l3.q),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Gu(t){let e,n,l=t[0].l1&&Vu(t);return{c(){e=c("div"),l&&l.c(),a(e,"class","cnt")},m(i,o){M(i,e,o),l&&l.m(e,null),n=!0},p(i,o){i[0].l1?l?(l.p(i,o),o&1&&L(l,1)):(l=Vu(i),l.c(),L(l,1),l.m(e,null)):l&&($e(),q(l,1,1,()=>{l=null}),De())},i(i){n||(L(l),n=!0)},o(i){q(l),n=!1},d(i){i&&y(e),l&&l.d()}}}function Vu(t){let e,n;return e=new Po({props:{title:"Power factor",importColorFn:Si,exportColorFn:Si,maxImport:1,l1:t[0].l1&&t[0].l1.u>100,l2:t[0].l2&&t[0].l2.u>100,l3:t[0].l3&&t[0].l3.u>100,l1i:t[0].l1.f,l2i:t[0].l2.f,l3i:t[0].l3.f}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.l1=l[0].l1&&l[0].l1.u>100),i&1&&(o.l2=l[0].l2&&l[0].l2.u>100),i&1&&(o.l3=l[0].l3&&l[0].l3.u>100),i&1&&(o.l1i=l[0].l1.f),i&1&&(o.l2i=l[0].l2.f),i&1&&(o.l3i=l[0].l3.f),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Ku(t){let e,n,l;return n=new Om({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec}}),{c(){e=c("div"),ae(n.$$.fragment),a(e,"class","cnt")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o&1&&(u.importInstant=i[0].ri),o&1&&(u.exportInstant=i[0].re),o&1&&(u.importTotal=i[0].ric),o&1&&(u.exportTotal=i[0].rec),n.$set(u)},i(i){l||(L(n.$$.fragment,i),l=!0)},o(i){q(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function Yu(t){let e,n,l;return n=new Hm({props:{sysinfo:t[1],data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0}}),{c(){e=c("div"),ae(n.$$.fragment),a(e,"class","cnt")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o&2&&(u.sysinfo=i[1]),o&1&&(u.data=i[0].ea),o&1&&(u.currency=i[0].pc),o&1&&(u.hasExport=i[0].om>0||i[0].e>0),n.$set(u)},i(i){l||(L(n.$$.fragment,i),l=!0)},o(i){q(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function Qu(t){let e,n,l;return n=new i_({}),{c(){e=c("div"),ae(n.$$.fragment),a(e,"class","cnt h-64")},m(i,o){M(i,e,o),se(n,e,null),l=!0},i(i){l||(L(n.$$.fragment,i),l=!0)},o(i){q(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function Xu(t){let e,n,l;return n=new r_({}),{c(){e=c("div"),ae(n.$$.fragment),a(e,"class","cnt gwf")},m(i,o){M(i,e,o),se(n,e,null),l=!0},i(i){l||(L(n.$$.fragment,i),l=!0)},o(i){q(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function Zu(t){let e,n,l;return n=new Gm({props:{json:t[2],sysinfo:t[1]}}),{c(){e=c("div"),ae(n.$$.fragment),a(e,"class","cnt gwf")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o&4&&(u.json=i[2]),o&2&&(u.sysinfo=i[1]),n.$set(u)},i(i){l||(L(n.$$.fragment,i),l=!0)},o(i){q(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function Ju(t){let e,n,l;return n=new Ym({props:{json:t[3],sysinfo:t[1]}}),{c(){e=c("div"),ae(n.$$.fragment),a(e,"class","cnt gwf")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o&8&&(u.json=i[3]),o&2&&(u.sysinfo=i[1]),n.$set(u)},i(i){l||(L(n.$$.fragment,i),l=!0)},o(i){q(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function xu(t){let e,n,l;return n=new Zm({props:{json:t[4],sysinfo:t[1]}}),{c(){e=c("div"),ae(n.$$.fragment),a(e,"class","cnt gwf")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o&16&&(u.json=i[4]),o&2&&(u.sysinfo=i[1]),n.$set(u)},i(i){l||(L(n.$$.fragment,i),l=!0)},o(i){q(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function ef(t){let e,n,l;return n=new e_({props:{json:t[5]}}),{c(){e=c("div"),ae(n.$$.fragment),a(e,"class","cnt gwf")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o&32&&(u.json=i[5]),n.$set(u)},i(i){l||(L(n.$$.fragment,i),l=!0)},o(i){q(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function c_(t){let e,n=lt(t[1].ui.i,t[0].i),l,i=lt(t[1].ui.e,t[0].om||t[0].e>0),o,u=lt(t[1].ui.v,t[0].l1&&(t[0].l1.u>100||t[0].l2.u>100||t[0].l3.u>100)),m,r=lt(t[1].ui.a,t[0].l1&&(t[0].l1.i>.01||t[0].l2.i>.01||t[0].l3.i>.01)),f,p=lt(t[1].ui.h,t[0].l1&&(t[0].l1.p>.01||t[0].l2.p>.01||t[0].l3.p>.01||t[0].l1.q>.01||t[0].l2.q>.01||t[0].l3.q>.01)),_,v=lt(t[1].ui.f,t[0].l1&&(t[0].l1.f>.01||t[0].l2.f>.01||t[0].l3.f>.01)),h,d=lt(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),g,k=lt(t[1].ui.c,t[0].ea),A,T=lt(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("10YNO")||t[0].pr.startsWith("10Y1001A1001A4"))),P,F=lt(t[1].ui.l),I,R=lt(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),w,$=lt(t[1].ui.d,t[3]),ie,j=lt(t[1].ui.m,t[4]),U,H=lt(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),G,V=n&&Ou(t),K=i&&qu(t),Z=u&&Bu(t),z=r&&ju(t),W=p&&Wu(t),x=v&&Gu(t),_e=d&&Ku(t),ne=k&&Yu(t),me=T&&Qu(),Y=F&&Xu(),ke=R&&Zu(t),Ee=$&&Ju(t),we=j&&xu(t),Me=H&&ef(t);return{c(){e=c("div"),V&&V.c(),l=b(),K&&K.c(),o=b(),Z&&Z.c(),m=b(),z&&z.c(),f=b(),W&&W.c(),_=b(),x&&x.c(),h=b(),_e&&_e.c(),g=b(),ne&&ne.c(),A=b(),me&&me.c(),P=b(),Y&&Y.c(),I=b(),ke&&ke.c(),w=b(),Ee&&Ee.c(),ie=b(),we&&we.c(),U=b(),Me&&Me.c(),a(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(te,fe){M(te,e,fe),V&&V.m(e,null),s(e,l),K&&K.m(e,null),s(e,o),Z&&Z.m(e,null),s(e,m),z&&z.m(e,null),s(e,f),W&&W.m(e,null),s(e,_),x&&x.m(e,null),s(e,h),_e&&_e.m(e,null),s(e,g),ne&&ne.m(e,null),s(e,A),me&&me.m(e,null),s(e,P),Y&&Y.m(e,null),s(e,I),ke&&ke.m(e,null),s(e,w),Ee&&Ee.m(e,null),s(e,ie),we&&we.m(e,null),s(e,U),Me&&Me.m(e,null),G=!0},p(te,[fe]){fe&3&&(n=lt(te[1].ui.i,te[0].i)),n?V?(V.p(te,fe),fe&3&&L(V,1)):(V=Ou(te),V.c(),L(V,1),V.m(e,l)):V&&($e(),q(V,1,1,()=>{V=null}),De()),fe&3&&(i=lt(te[1].ui.e,te[0].om||te[0].e>0)),i?K?(K.p(te,fe),fe&3&&L(K,1)):(K=qu(te),K.c(),L(K,1),K.m(e,o)):K&&($e(),q(K,1,1,()=>{K=null}),De()),fe&3&&(u=lt(te[1].ui.v,te[0].l1&&(te[0].l1.u>100||te[0].l2.u>100||te[0].l3.u>100))),u?Z?(Z.p(te,fe),fe&3&&L(Z,1)):(Z=Bu(te),Z.c(),L(Z,1),Z.m(e,m)):Z&&($e(),q(Z,1,1,()=>{Z=null}),De()),fe&3&&(r=lt(te[1].ui.a,te[0].l1&&(te[0].l1.i>.01||te[0].l2.i>.01||te[0].l3.i>.01))),r?z?(z.p(te,fe),fe&3&&L(z,1)):(z=ju(te),z.c(),L(z,1),z.m(e,f)):z&&($e(),q(z,1,1,()=>{z=null}),De()),fe&3&&(p=lt(te[1].ui.h,te[0].l1&&(te[0].l1.p>.01||te[0].l2.p>.01||te[0].l3.p>.01||te[0].l1.q>.01||te[0].l2.q>.01||te[0].l3.q>.01))),p?W?(W.p(te,fe),fe&3&&L(W,1)):(W=Wu(te),W.c(),L(W,1),W.m(e,_)):W&&($e(),q(W,1,1,()=>{W=null}),De()),fe&3&&(v=lt(te[1].ui.f,te[0].l1&&(te[0].l1.f>.01||te[0].l2.f>.01||te[0].l3.f>.01))),v?x?(x.p(te,fe),fe&3&&L(x,1)):(x=Gu(te),x.c(),L(x,1),x.m(e,h)):x&&($e(),q(x,1,1,()=>{x=null}),De()),fe&3&&(d=lt(te[1].ui.r,te[0].ri>0||te[0].re>0||te[0].ric>0||te[0].rec>0)),d?_e?(_e.p(te,fe),fe&3&&L(_e,1)):(_e=Ku(te),_e.c(),L(_e,1),_e.m(e,g)):_e&&($e(),q(_e,1,1,()=>{_e=null}),De()),fe&3&&(k=lt(te[1].ui.c,te[0].ea)),k?ne?(ne.p(te,fe),fe&3&&L(ne,1)):(ne=Yu(te),ne.c(),L(ne,1),ne.m(e,A)):ne&&($e(),q(ne,1,1,()=>{ne=null}),De()),fe&3&&(T=lt(te[1].ui.t,te[0].pr&&(te[0].pr.startsWith("10YNO")||te[0].pr.startsWith("10Y1001A1001A4")))),T?me?fe&3&&L(me,1):(me=Qu(),me.c(),L(me,1),me.m(e,P)):me&&($e(),q(me,1,1,()=>{me=null}),De()),fe&2&&(F=lt(te[1].ui.l)),F?Y?fe&2&&L(Y,1):(Y=Xu(),Y.c(),L(Y,1),Y.m(e,I)):Y&&($e(),q(Y,1,1,()=>{Y=null}),De()),fe&3&&(R=lt(te[1].ui.p,te[0].pe&&!Number.isNaN(te[0].p))),R?ke?(ke.p(te,fe),fe&3&&L(ke,1)):(ke=Zu(te),ke.c(),L(ke,1),ke.m(e,w)):ke&&($e(),q(ke,1,1,()=>{ke=null}),De()),fe&10&&($=lt(te[1].ui.d,te[3])),$?Ee?(Ee.p(te,fe),fe&10&&L(Ee,1)):(Ee=Ju(te),Ee.c(),L(Ee,1),Ee.m(e,ie)):Ee&&($e(),q(Ee,1,1,()=>{Ee=null}),De()),fe&18&&(j=lt(te[1].ui.m,te[4])),j?we?(we.p(te,fe),fe&18&&L(we,1)):(we=xu(te),we.c(),L(we,1),we.m(e,U)):we&&($e(),q(we,1,1,()=>{we=null}),De()),fe&35&&(H=lt(te[1].ui.s,te[0].t&&te[0].t!=-127&&te[5].c>1)),H?Me?(Me.p(te,fe),fe&35&&L(Me,1)):(Me=ef(te),Me.c(),L(Me,1),Me.m(e,null)):Me&&($e(),q(Me,1,1,()=>{Me=null}),De())},i(te){G||(L(V),L(K),L(Z),L(z),L(W),L(x),L(_e),L(ne),L(me),L(Y),L(ke),L(Ee),L(we),L(Me),G=!0)},o(te){q(V),q(K),q(Z),q(z),q(W),q(x),q(_e),q(ne),q(me),q(Y),q(ke),q(Ee),q(we),q(Me),G=!1},d(te){te&&y(e),V&&V.d(),K&&K.d(),Z&&Z.d(),z&&z.d(),W&&W.d(),x&&x.d(),_e&&_e.d(),ne&&ne.d(),me&&me.d(),Y&&Y.d(),ke&&ke.d(),Ee&&Ee.d(),we&&we.d(),Me&&Me.d()}}}function m_(t,e,n){let{data:l={}}=e,{sysinfo:i={}}=e,o={},u={},m={},r={};return So.subscribe(f=>{n(2,o=f)}),u0.subscribe(f=>{n(3,u=f)}),f0.subscribe(f=>{n(4,m=f)}),m0.subscribe(f=>{n(5,r=f)}),t.$$set=f=>{"data"in f&&n(0,l=f.data),"sysinfo"in f&&n(1,i=f.sysinfo)},[l,i,o,u,m,r]}class __ extends We{constructor(e){super(),He(this,e,m_,c_,Be,{data:0,sysinfo:1})}}let ro={};const gi=pt(ro);async function p_(){ro=await(await fetch("configuration.json")).json(),gi.set(ro)}let uo={};const w0=pt(uo);async function d_(){uo=await(await fetch("priceconfig.json")).json(),w0.set(uo)}function tf(t,e,n){const l=t.slice();return l[2]=e[n],l[4]=n,l}function h_(t){let e;return{c(){e=c("option"),e.textContent="UART0",e.__value=3,e.value=e.__value},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function v_(t){let e;return{c(){e=c("option"),e.textContent="UART0",e.__value=20,e.value=e.__value},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function lf(t){let e;return{c(){e=c("option"),e.textContent="UART2",e.__value=113,e.value=e.__value},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function nf(t){let e,n,l;return{c(){e=c("option"),e.textContent="UART1",n=b(),l=c("option"),l.textContent="UART2",e.__value=9,e.value=e.__value,l.__value=16,l.value=l.__value},m(i,o){M(i,e,o),M(i,n,o),M(i,l,o)},d(i){i&&y(e),i&&y(n),i&&y(l)}}}function sf(t){let e;return{c(){e=c("option"),e.textContent="UART1",e.__value=18,e.value=e.__value},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function of(t){let e,n,l;return{c(){e=c("option"),n=E("GPIO"),l=E(t[4]),e.__value=t[4],e.value=e.__value},m(i,o){M(i,e,o),s(e,n),s(e,l)},d(i){i&&y(e)}}}function af(t){let e,n=t[4]>1&&!(t[0]=="esp32"&&(t[4]==9||t[4]==16))&&!((t[0]=="esp32s2"||t[0]=="esp32s3")&&t[4]==18)&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&of(t);return{c(){n&&n.c(),e=it()},m(l,i){n&&n.m(l,i),M(l,e,i)},p(l,i){l[4]>1&&!(l[0]=="esp32"&&(l[4]==9||l[4]==16))&&!((l[0]=="esp32s2"||l[0]=="esp32s3")&&l[4]==18)&&!(l[0]=="esp8266"&&(l[4]==3||l[4]==113))?n||(n=of(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&y(e)}}}function b_(t){let e,n,l,i,o;function u(d,g){return d[0]=="esp32c3"?v_:h_}let m=u(t),r=m(t),f=t[0]=="esp8266"&&lf(),p=(t[0]=="esp32"||t[0]=="esp32solo")&&nf(),_=(t[0]=="esp32s2"||t[0]=="esp32s3")&&sf(),v={length:t[1]+1},h=[];for(let d=0;d<v.length;d+=1)h[d]=af(tf(t,v,d));return{c(){r.c(),e=b(),f&&f.c(),n=b(),p&&p.c(),l=b(),_&&_.c(),i=b();for(let d=0;d<h.length;d+=1)h[d].c();o=it()},m(d,g){r.m(d,g),M(d,e,g),f&&f.m(d,g),M(d,n,g),p&&p.m(d,g),M(d,l,g),_&&_.m(d,g),M(d,i,g);for(let k=0;k<h.length;k+=1)h[k]&&h[k].m(d,g);M(d,o,g)},p(d,[g]){if(m!==(m=u(d))&&(r.d(1),r=m(d),r&&(r.c(),r.m(e.parentNode,e))),d[0]=="esp8266"?f||(f=lf(),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),d[0]=="esp32"||d[0]=="esp32solo"?p||(p=nf(),p.c(),p.m(l.parentNode,l)):p&&(p.d(1),p=null),d[0]=="esp32s2"||d[0]=="esp32s3"?_||(_=sf(),_.c(),_.m(i.parentNode,i)):_&&(_.d(1),_=null),g&3){v={length:d[1]+1};let k;for(k=0;k<v.length;k+=1){const A=tf(d,v,k);h[k]?h[k].p(A,g):(h[k]=af(A),h[k].c(),h[k].m(o.parentNode,o))}for(;k<h.length;k+=1)h[k].d(1);h.length=v.length}},i:be,o:be,d(d){r.d(d),d&&y(e),f&&f.d(d),d&&y(n),p&&p.d(d),d&&y(l),_&&_.d(d),d&&y(i),ft(h,d),d&&y(o)}}}function g_(t,e,n){let{chip:l}=e,i=39;return t.$$set=o=>{"chip"in o&&n(0,l=o.chip)},t.$$.update=()=>{if(t.$$.dirty&1)switch(l){case"esp8266":n(1,i=16);break;case"esp32s2":n(1,i=44);break;case"esp32s3":n(1,i=46);break;case"esp32c3":n(1,i=19);break}},[l,i]}class fo extends We{constructor(e){super(),He(this,e,g_,b_,Be,{chip:0})}}function rf(t){let e,n,l=t[1]&&uf(t);return{c(){e=c("div"),n=c("div"),l&&l.c(),a(n,"class","fixed inset-0 bg-gray-500 dark:bg-gray-900 bg-opacity-50 dark:bg-opacity-80 flex items-center justify-center"),a(e,"class","z-50"),a(e,"aria-modal","true")},m(i,o){M(i,e,o),s(e,n),l&&l.m(n,null)},p(i,o){i[1]?l?l.p(i,o):(l=uf(i),l.c(),l.m(n,null)):l&&(l.d(1),l=null)},d(i){i&&y(e),l&&l.d()}}}function uf(t){let e,n;return{c(){e=c("div"),n=E(t[1]),a(e,"class","bg-white dark:bg-gray-600 m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 dark:text-white w-96")},m(l,i){M(l,e,i),s(e,n)},p(l,i){i&2&&X(n,l[1])},d(l){l&&y(e)}}}function k_(t){let e,n=t[0]&&rf(t);return{c(){n&&n.c(),e=it()},m(l,i){n&&n.m(l,i),M(l,e,i)},p(l,[i]){l[0]?n?n.p(l,i):(n=rf(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:be,o:be,d(l){n&&n.d(l),l&&y(e)}}}function w_(t,e,n){let{active:l}=e,{message:i}=e;return t.$$set=o=>{"active"in o&&n(0,l=o.active),"message"in o&&n(1,i=o.message)},[l,i]}class Tt extends We{constructor(e){super(),He(this,e,w_,k_,Be,{active:0,message:1})}}function ff(t,e,n){const l=t.slice();return l[1]=e[n],l}function cf(t){let e,n,l=t[1]+"",i;return{c(){e=c("option"),n=E("Europe/"),i=E(l),e.__value="Europe/"+t[1],e.value=e.__value},m(o,u){M(o,e,u),s(e,n),s(e,i)},p:be,d(o){o&&y(e)}}}function C_(t){let e,n,l,i=t[0],o=[];for(let u=0;u<i.length;u+=1)o[u]=cf(ff(t,i,u));return{c(){e=c("option"),e.textContent="GMT",n=b();for(let u=0;u<o.length;u+=1)o[u].c();l=it(),e.__value="GMT",e.value=e.__value},m(u,m){M(u,e,m),M(u,n,m);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(u,m);M(u,l,m)},p(u,[m]){if(m&1){i=u[0];let r;for(r=0;r<i.length;r+=1){const f=ff(u,i,r);o[r]?o[r].p(f,m):(o[r]=cf(f),o[r].c(),o[r].m(l.parentNode,l))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}},i:be,o:be,d(u){u&&y(e),u&&y(n),ft(o,u),u&&y(l)}}}function y_(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class M_ extends We{constructor(e){super(),He(this,e,y_,C_,Be,{})}}function S_(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d;return{c(){e=c("optgroup"),n=c("option"),n.textContent="/24",l=b(),i=c("optgroup"),o=c("option"),o.textContent="/25",u=c("option"),u.textContent="/26",m=c("option"),m.textContent="/27",r=c("option"),r.textContent="/28",f=c("option"),f.textContent="/29",p=b(),_=c("optgroup"),v=c("option"),v.textContent="/23",h=c("option"),h.textContent="/22",d=c("option"),d.textContent="/16",n.__value="255.255.255.0",n.value=n.__value,a(e,"label","Most common is /24 (255.255.255.0)"),o.__value="255.255.255.128",o.value=o.__value,u.__value="255.255.255.192",u.value=u.__value,m.__value="255.255.255.224",m.value=m.__value,r.__value="255.255.255.240",r.value=r.__value,f.__value="255.255.255.248",f.value=f.__value,a(i,"label","Smaller subnets"),v.__value="255.255.254.0",v.value=v.__value,h.__value="255.255.252.0",h.value=h.__value,d.__value="255.255.0.0",d.value=d.__value,a(_,"label","Larger subnets")},m(g,k){M(g,e,k),s(e,n),M(g,l,k),M(g,i,k),s(i,o),s(i,u),s(i,m),s(i,r),s(i,f),M(g,p,k),M(g,_,k),s(_,v),s(_,h),s(_,d)},p:be,i:be,o:be,d(g){g&&y(e),g&&y(l),g&&y(i),g&&y(p),g&&y(_)}}}class C0 extends We{constructor(e){super(),He(this,e,null,S_,Be,{})}}function T_(t){let e,n;return{c(){e=je("svg"),n=je("path"),a(n,"stroke-linecap","round"),a(n,"stroke-linejoin","round"),a(n,"d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"fill","none"),a(e,"viewBox","0 0 24 24"),a(e,"stroke-width","1.5"),a(e,"stroke","currentColor"),a(e,"class","w-4 h-4")},m(l,i){M(l,e,i),s(e,n)},p:be,i:be,o:be,d(l){l&&y(e)}}}class Ss extends We{constructor(e){super(),He(this,e,null,T_,Be,{})}}var N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},y0={exports:{}};(function(t,e){(function(n,l){t.exports=l()})(N_,function(){var n=function(){},l=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function o(N,C){var S;return typeof Object.create=="function"?S=Object.create(N):(n.prototype=N,S=new n,n.prototype=null),C&&m(!0,S,C),S}function u(N,C,S,D){var O=this;return typeof N!="string"&&(D=S,S=C,C=N,N=null),typeof C!="function"&&(D=S,S=C,C=function(){return O.apply(this,arguments)}),m(!1,C,O,D),C.prototype=o(O.prototype,S),C.prototype.constructor=C,C.class_=N||O.class_,C.super_=O,C}function m(N,C,S){S=i.call(arguments,2);for(var D,O,J=0,le=S.length;J<le;J++){O=S[J];for(D in O)(!N||l.call(O,D))&&(C[D]=O[D])}}var r=u;function f(){}f.class_="Nevis",f.super_=Object,f.extend=r;var p=f,_=p,v=_.extend(function(N,C,S){this.qrious=N,this.element=C,this.element.qrious=N,this.enabled=Boolean(S)},{draw:function(N){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(N){var C=this.qrious,S=C.padding||0,D=Math.floor((C.size-S*2)/N.width);return Math.max(1,D)},render:function(N){this.enabled&&(this.resize(),this.reset(),this.draw(N))},reset:function(){},resize:function(){}}),h=v,d=h.extend({draw:function(N){var C,S,D=this.qrious,O=this.getModuleSize(N),J=parseInt((this.element.width-N.width*O)/2),le=this.element.getContext("2d");for(le.fillStyle=D.foreground,le.globalAlpha=D.foregroundAlpha,C=0;C<N.width;C++)for(S=0;S<N.width;S++)N.buffer[S*N.width+C]&&le.fillRect(O*C+J,O*S+J,O,O)},reset:function(){var N=this.qrious,C=this.element.getContext("2d"),S=N.size;C.lineWidth=1,C.clearRect(0,0,S,S),C.fillStyle=N.background,C.globalAlpha=N.backgroundAlpha,C.fillRect(0,0,S,S)},resize:function(){var N=this.element;N.width=N.height=this.qrious.size}}),g=d,k=_.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),A=k,T=_.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),P=T,F=_.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),I=F,R=_.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),w=R,$=_.extend(function(N){var C,S,D,O,J,le=N.value.length;for(this._badness=[],this._level=P.LEVELS[N.level],this._polynomial=[],this._value=N.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,D=(this._level-1)*4+(this._version-1)*16,O=P.BLOCKS[D++],J=P.BLOCKS[D++],C=P.BLOCKS[D++],S=P.BLOCKS[D],D=C*(O+J)+J-3+(this._version<=9),!(le<=D)););this._dataBlock=C,this._eccBlock=S,this._neccBlock1=O,this._neccBlock2=J;var pe=this.width=17+4*this._version;this.buffer=$._createArray(pe*pe),this._ecc=$._createArray(C+(C+S)*(O+J)+J),this._mask=$._createArray((pe*(pe+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+pe*(pe-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(le),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(N,C){var S,D=this.buffer,O=this.width;for(D[N+O*C]=1,S=-2;S<2;S++)D[N+S+O*(C-2)]=1,D[N-2+O*(C+S+1)]=1,D[N+2+O*(C+S)]=1,D[N+S+1+O*(C+2)]=1;for(S=0;S<2;S++)this._setMask(N-1,C+S),this._setMask(N+1,C-S),this._setMask(N-S,C-1),this._setMask(N+S,C+1)},_appendData:function(N,C,S,D){var O,J,le,pe=this._polynomial,ge=this._stringBuffer;for(J=0;J<D;J++)ge[S+J]=0;for(J=0;J<C;J++){if(O=I.LOG[ge[N+J]^ge[S]],O!==255)for(le=1;le<D;le++)ge[S+le-1]=ge[S+le]^I.EXPONENT[$._modN(O+pe[D-le])];else for(le=S;le<S+D;le++)ge[le]=ge[le+1];ge[S+D-1]=O===255?0:I.EXPONENT[$._modN(O+pe[0])]}},_appendEccToData:function(){var N,C=0,S=this._dataBlock,D=this._calculateMaxLength(),O=this._eccBlock;for(N=0;N<this._neccBlock1;N++)this._appendData(C,S,D,O),C+=S,D+=O;for(N=0;N<this._neccBlock2;N++)this._appendData(C,S+1,D,O),C+=S+1,D+=O},_applyMask:function(N){var C,S,D,O,J=this.buffer,le=this.width;switch(N){case 0:for(O=0;O<le;O++)for(D=0;D<le;D++)!(D+O&1)&&!this._isMasked(D,O)&&(J[D+O*le]^=1);break;case 1:for(O=0;O<le;O++)for(D=0;D<le;D++)!(O&1)&&!this._isMasked(D,O)&&(J[D+O*le]^=1);break;case 2:for(O=0;O<le;O++)for(C=0,D=0;D<le;D++,C++)C===3&&(C=0),!C&&!this._isMasked(D,O)&&(J[D+O*le]^=1);break;case 3:for(S=0,O=0;O<le;O++,S++)for(S===3&&(S=0),C=S,D=0;D<le;D++,C++)C===3&&(C=0),!C&&!this._isMasked(D,O)&&(J[D+O*le]^=1);break;case 4:for(O=0;O<le;O++)for(C=0,S=O>>1&1,D=0;D<le;D++,C++)C===3&&(C=0,S=!S),!S&&!this._isMasked(D,O)&&(J[D+O*le]^=1);break;case 5:for(S=0,O=0;O<le;O++,S++)for(S===3&&(S=0),C=0,D=0;D<le;D++,C++)C===3&&(C=0),!((D&O&1)+!(!C|!S))&&!this._isMasked(D,O)&&(J[D+O*le]^=1);break;case 6:for(S=0,O=0;O<le;O++,S++)for(S===3&&(S=0),C=0,D=0;D<le;D++,C++)C===3&&(C=0),!((D&O&1)+(C&&C===S)&1)&&!this._isMasked(D,O)&&(J[D+O*le]^=1);break;case 7:for(S=0,O=0;O<le;O++,S++)for(S===3&&(S=0),C=0,D=0;D<le;D++,C++)C===3&&(C=0),!((C&&C===S)+(D+O&1)&1)&&!this._isMasked(D,O)&&(J[D+O*le]^=1);break}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var N,C,S=this._eccBlock,D=this._polynomial;for(D[0]=1,N=0;N<S;N++){for(D[N+1]=1,C=N;C>0;C--)D[C]=D[C]?D[C-1]^I.EXPONENT[$._modN(I.LOG[D[C]]+N)]:D[C-1];D[0]=I.EXPONENT[$._modN(I.LOG[D[0]]+N)]}for(N=0;N<=S;N++)D[N]=I.LOG[D[N]]},_checkBadness:function(){var N,C,S,D,O,J=0,le=this._badness,pe=this.buffer,ge=this.width;for(O=0;O<ge-1;O++)for(D=0;D<ge-1;D++)(pe[D+ge*O]&&pe[D+1+ge*O]&&pe[D+ge*(O+1)]&&pe[D+1+ge*(O+1)]||!(pe[D+ge*O]||pe[D+1+ge*O]||pe[D+ge*(O+1)]||pe[D+1+ge*(O+1)]))&&(J+=$.N2);var Ae=0;for(O=0;O<ge;O++){for(S=0,le[0]=0,N=0,D=0;D<ge;D++)C=pe[D+ge*O],N===C?le[S]++:le[++S]=1,N=C,Ae+=N?1:-1;J+=this._getBadness(S)}Ae<0&&(Ae=-Ae);var Fe=0,ce=Ae;for(ce+=ce<<2,ce<<=1;ce>ge*ge;)ce-=ge*ge,Fe++;for(J+=Fe*$.N4,D=0;D<ge;D++){for(S=0,le[0]=0,N=0,O=0;O<ge;O++)C=pe[D+ge*O],N===C?le[S]++:le[++S]=1,N=C;J+=this._getBadness(S)}return J},_convertBitStream:function(N){var C,S,D=this._ecc,O=this._version;for(S=0;S<N;S++)D[S]=this._value.charCodeAt(S);var J=this._stringBuffer=D.slice(),le=this._calculateMaxLength();N>=le-2&&(N=le-2,O>9&&N--);var pe=N;if(O>9){for(J[pe+2]=0,J[pe+3]=0;pe--;)C=J[pe],J[pe+3]|=255&C<<4,J[pe+2]=C>>4;J[2]|=255&N<<4,J[1]=N>>4,J[0]=64|N>>12}else{for(J[pe+1]=0,J[pe+2]=0;pe--;)C=J[pe],J[pe+2]|=255&C<<4,J[pe+1]=C>>4;J[1]|=255&N<<4,J[0]=64|N>>4}for(pe=N+3-(O<10);pe<le;)J[pe++]=236,J[pe++]=17},_getBadness:function(N){var C,S=0,D=this._badness;for(C=0;C<=N;C++)D[C]>=5&&(S+=$.N1+D[C]-5);for(C=3;C<N-1;C+=2)D[C-2]===D[C+2]&&D[C+2]===D[C-1]&&D[C-1]===D[C+1]&&D[C-1]*3===D[C]&&(D[C-3]===0||C+3>N||D[C-3]*3>=D[C]*4||D[C+3]*3>=D[C]*4)&&(S+=$.N3);return S},_finish:function(){this._stringBuffer=this.buffer.slice();var N,C,S=0,D=3e4;for(C=0;C<8&&(this._applyMask(C),N=this._checkBadness(),N<D&&(D=N,S=C),S!==7);C++)this.buffer=this._stringBuffer.slice();S!==C&&this._applyMask(S),D=P.FINAL_FORMAT[S+(this._level-1<<3)];var O=this.buffer,J=this.width;for(C=0;C<8;C++,D>>=1)D&1&&(O[J-1-C+J*8]=1,C<6?O[8+J*C]=1:O[8+J*(C+1)]=1);for(C=0;C<7;C++,D>>=1)D&1&&(O[8+J*(J-7+C)]=1,C?O[6-C+J*8]=1:O[7+J*8]=1)},_interleaveBlocks:function(){var N,C,S=this._dataBlock,D=this._ecc,O=this._eccBlock,J=0,le=this._calculateMaxLength(),pe=this._neccBlock1,ge=this._neccBlock2,Ae=this._stringBuffer;for(N=0;N<S;N++){for(C=0;C<pe;C++)D[J++]=Ae[N+C*S];for(C=0;C<ge;C++)D[J++]=Ae[pe*S+N+C*(S+1)]}for(C=0;C<ge;C++)D[J++]=Ae[pe*S+N+C*(S+1)];for(N=0;N<O;N++)for(C=0;C<pe+ge;C++)D[J++]=Ae[le+N+C*O];this._stringBuffer=D},_insertAlignments:function(){var N,C,S,D=this._version,O=this.width;if(D>1)for(N=A.BLOCK[D],S=O-7;;){for(C=O-7;C>N-3&&(this._addAlignment(C,S),!(C<N));)C-=N;if(S<=N+9)break;S-=N,this._addAlignment(6,S),this._addAlignment(S,6)}},_insertFinders:function(){var N,C,S,D,O=this.buffer,J=this.width;for(N=0;N<3;N++){for(C=0,D=0,N===1&&(C=J-7),N===2&&(D=J-7),O[D+3+J*(C+3)]=1,S=0;S<6;S++)O[D+S+J*C]=1,O[D+J*(C+S+1)]=1,O[D+6+J*(C+S)]=1,O[D+S+1+J*(C+6)]=1;for(S=1;S<5;S++)this._setMask(D+S,C+1),this._setMask(D+1,C+S+1),this._setMask(D+5,C+S),this._setMask(D+S+1,C+5);for(S=2;S<4;S++)O[D+S+J*(C+2)]=1,O[D+2+J*(C+S+1)]=1,O[D+4+J*(C+S)]=1,O[D+S+1+J*(C+4)]=1}},_insertTimingGap:function(){var N,C,S=this.width;for(C=0;C<7;C++)this._setMask(7,C),this._setMask(S-8,C),this._setMask(7,C+S-7);for(N=0;N<8;N++)this._setMask(N,7),this._setMask(N+S-8,7),this._setMask(N,S-8)},_insertTimingRowAndColumn:function(){var N,C=this.buffer,S=this.width;for(N=0;N<S-14;N++)N&1?(this._setMask(8+N,6),this._setMask(6,8+N)):(C[8+N+S*6]=1,C[6+S*(8+N)]=1)},_insertVersion:function(){var N,C,S,D,O=this.buffer,J=this._version,le=this.width;if(J>6)for(N=w.BLOCK[J-7],C=17,S=0;S<6;S++)for(D=0;D<3;D++,C--)1&(C>11?J>>C-12:N>>C)?(O[5-S+le*(2-D+le-11)]=1,O[2-D+le-11+le*(5-S)]=1):(this._setMask(5-S,2-D+le-11),this._setMask(2-D+le-11,5-S))},_isMasked:function(N,C){var S=$._getMaskBit(N,C);return this._mask[S]===1},_pack:function(){var N,C,S,D=1,O=1,J=this.width,le=J-1,pe=J-1,ge=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(C=0;C<ge;C++)for(N=this._stringBuffer[C],S=0;S<8;S++,N<<=1){128&N&&(this.buffer[le+J*pe]=1);do O?le--:(le++,D?pe!==0?pe--:(le-=2,D=!D,le===6&&(le--,pe=9)):pe!==J-1?pe++:(le-=2,D=!D,le===6&&(le--,pe-=8))),O=!O;while(this._isMasked(le,pe))}},_reverseMask:function(){var N,C,S=this.width;for(N=0;N<9;N++)this._setMask(N,8);for(N=0;N<8;N++)this._setMask(N+S-8,8),this._setMask(8,N);for(C=0;C<7;C++)this._setMask(8,C+S-7)},_setMask:function(N,C){var S=$._getMaskBit(N,C);this._mask[S]=1},_syncMask:function(){var N,C,S=this.width;for(C=0;C<S;C++)for(N=0;N<=C;N++)this.buffer[N+S*C]&&this._setMask(N,C)}},{_createArray:function(N){var C,S=[];for(C=0;C<N;C++)S[C]=0;return S},_getMaskBit:function(N,C){var S;return N>C&&(S=N,N=C,C=S),S=C,S+=C*C,S>>=1,S+=N,S},_modN:function(N){for(;N>=255;)N-=255,N=(N>>8)+(N&255);return N},N1:3,N2:3,N3:40,N4:10}),ie=$,j=h.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var N=this.element;N.width=N.height=this.qrious.size}}),U=j,H=_.extend(function(N,C,S,D){this.name=N,this.modifiable=Boolean(C),this.defaultValue=S,this._valueTransformer=D},{transform:function(N){var C=this._valueTransformer;return typeof C=="function"?C(N,this):N}}),G=H,V=_.extend(null,{abs:function(N){return N!=null?Math.abs(N):null},hasOwn:function(N,C){return Object.prototype.hasOwnProperty.call(N,C)},noop:function(){},toUpperCase:function(N){return N!=null?N.toUpperCase():null}}),K=V,Z=_.extend(function(N){this.options={},N.forEach(function(C){this.options[C.name]=C},this)},{exists:function(N){return this.options[N]!=null},get:function(N,C){return Z._get(this.options[N],C)},getAll:function(N){var C,S=this.options,D={};for(C in S)K.hasOwn(S,C)&&(D[C]=Z._get(S[C],N));return D},init:function(N,C,S){typeof S!="function"&&(S=K.noop);var D,O;for(D in this.options)K.hasOwn(this.options,D)&&(O=this.options[D],Z._set(O,O.defaultValue,C),Z._createAccessor(O,C,S));this._setAll(N,C,!0)},set:function(N,C,S){return this._set(N,C,S)},setAll:function(N,C){return this._setAll(N,C)},_set:function(N,C,S,D){var O=this.options[N];if(!O)throw new Error("Invalid option: "+N);if(!O.modifiable&&!D)throw new Error("Option cannot be modified: "+N);return Z._set(O,C,S)},_setAll:function(N,C,S){if(!N)return!1;var D,O=!1;for(D in N)K.hasOwn(N,D)&&this._set(D,N[D],C,S)&&(O=!0);return O}},{_createAccessor:function(N,C,S){var D={get:function(){return Z._get(N,C)}};N.modifiable&&(D.set=function(O){Z._set(N,O,C)&&S(O,N)}),Object.defineProperty(C,N.name,D)},_get:function(N,C){return C["_"+N.name]},_set:function(N,C,S){var D="_"+N.name,O=S[D],J=N.transform(C!=null?C:N.defaultValue);return S[D]=J,J!==O}}),z=Z,W=_.extend(function(){this._services={}},{getService:function(N){var C=this._services[N];if(!C)throw new Error("Service is not being managed with name: "+N);return C},setService:function(N,C){if(this._services[N])throw new Error("Service is already managed with name: "+N);C&&(this._services[N]=C)}}),x=W,_e=new z([new G("background",!0,"white"),new G("backgroundAlpha",!0,1,K.abs),new G("element"),new G("foreground",!0,"black"),new G("foregroundAlpha",!0,1,K.abs),new G("level",!0,"L",K.toUpperCase),new G("mime",!0,"image/png"),new G("padding",!0,null,K.abs),new G("size",!0,100,K.abs),new G("value",!0,"")]),ne=new x,me=_.extend(function(N){_e.init(N,this,this.update.bind(this));var C=_e.get("element",this),S=ne.getService("element"),D=C&&S.isCanvas(C)?C:S.createCanvas(),O=C&&S.isImage(C)?C:S.createImage();this._canvasRenderer=new g(this,D,!0),this._imageRenderer=new U(this,O,O===C),this.update()},{get:function(){return _e.getAll(this)},set:function(N){_e.setAll(N,this)&&this.update()},toDataURL:function(N){return this.canvas.toDataURL(N||this.mime)},update:function(){var N=new ie({level:this.level,value:this.value});this._canvasRenderer.render(N),this._imageRenderer.render(N)}},{use:function(N){ne.setService(N.getName(),N)}});Object.defineProperties(me.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var Y=me,ke=Y,Ee=_.extend({getName:function(){}}),we=Ee,Me=we.extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(N){},isImage:function(N){}}),te=Me,fe=te.extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(N){return N instanceof HTMLCanvasElement},isImage:function(N){return N instanceof HTMLImageElement}}),Oe=fe;ke.use(new Oe);var Ie=ke;return Ie})})(y0);const E_=y0.exports;function P_(t){let e,n;return{c(){e=c("img"),vs(e.src,n=t[2])||a(e,"src",n),a(e,"alt",t[0]),a(e,"class",t[1])},m(l,i){M(l,e,i)},p(l,[i]){i&4&&!vs(e.src,n=l[2])&&a(e,"src",n),i&1&&a(e,"alt",l[0]),i&2&&a(e,"class",l[1])},i:be,o:be,d(l){l&&y(e)}}}function A_(t,e,n){const l=new E_;let{errorCorrection:i="L"}=e,{background:o="#fff"}=e,{color:u="#000"}=e,{size:m="200"}=e,{value:r=""}=e,{padding:f=0}=e,{className:p="qrcode"}=e,_="";function v(){l.set({background:o,foreground:u,level:i,padding:f,size:m,value:r}),n(2,_=l.toDataURL("image/jpeg"))}return A1(()=>{v()}),t.$$set=h=>{"errorCorrection"in h&&n(3,i=h.errorCorrection),"background"in h&&n(4,o=h.background),"color"in h&&n(5,u=h.color),"size"in h&&n(6,m=h.size),"value"in h&&n(0,r=h.value),"padding"in h&&n(7,f=h.padding),"className"in h&&n(1,p=h.className)},t.$$.update=()=>{t.$$.dirty&1&&r&&v()},[r,p,_,i,o,u,m,f]}class $_ extends We{constructor(e){super(),He(this,e,A_,P_,Be,{errorCorrection:3,background:4,color:5,size:6,value:0,padding:7,className:1})}}function mf(t,e,n){const l=t.slice();return l[101]=e[n],l[102]=e,l[103]=n,l}function _f(t,e,n){const l=t.slice();return l[104]=e[n],l[105]=e,l[106]=n,l}function D_(t,e,n){const l=t.slice();return l[107]=e[n],l}function L_(t,e,n){const l=t.slice();return l[110]=e[n],l}function I_(t){let e,n;return{c(){e=c("option"),n=E(t[110]),e.__value=t[110],e.value=e.__value},m(l,i){M(l,e,i),s(e,n)},p:be,d(l){l&&y(e)}}}function R_(t){let e;return{c(){e=E("Configure price")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function pf(t){let e,n,l,i;return{c(){e=c("br"),n=c("input"),a(n,"name","pt"),a(n,"type","text"),a(n,"class","in-s"),a(n,"placeholder","ENTSO-E API key, optional, read docs")},m(o,u){M(o,e,u),M(o,n,u),ue(n,t[3].p.t),l||(i=Q(n,"input",t[21]),l=!0)},p(o,u){u[0]&8&&n.value!==o[3].p.t&&ue(n,o[3].p.t)},d(o){o&&y(e),o&&y(n),l=!1,i()}}}function df(t){let e,n,l,i,o,u,m,r,f,p,_,v,h;return{c(){e=c("div"),n=E("Username"),l=c("br"),i=b(),o=c("input"),u=b(),m=c("div"),r=E("Password"),f=c("br"),p=b(),_=c("input"),a(o,"name","gu"),a(o,"type","text"),a(o,"class","in-s"),a(o,"maxlength","36"),a(e,"class","my-1"),a(_,"name","gp"),a(_,"type","password"),a(_,"class","in-s"),a(_,"maxlength","36"),a(m,"class","my-1")},m(d,g){M(d,e,g),s(e,n),s(e,l),s(e,i),s(e,o),ue(o,t[3].g.u),M(d,u,g),M(d,m,g),s(m,r),s(m,f),s(m,p),s(m,_),ue(_,t[3].g.p),v||(h=[Q(o,"input",t[23]),Q(_,"input",t[24])],v=!0)},p(d,g){g[0]&8&&o.value!==d[3].g.u&&ue(o,d[3].g.u),g[0]&8&&_.value!==d[3].g.p&&ue(_,d[3].g.p)},d(d){d&&y(e),d&&y(u),d&&y(m),v=!1,nt(h)}}}function F_(t){let e,n=t[107]*100+"",l;return{c(){e=c("option"),l=E(n),e.__value=t[107]*100,e.value=e.__value},m(i,o){M(i,e,o),s(e,l)},p:be,d(i){i&&y(e)}}}function hf(t){let e,n,l,i;return{c(){e=c("br"),n=c("input"),a(n,"name","mek"),a(n,"type","text"),a(n,"class","in-s")},m(o,u){M(o,e,u),M(o,n,u),ue(n,t[3].m.e.k),l||(i=Q(n,"input",t[35]),l=!0)},p(o,u){u[0]&8&&n.value!==o[3].m.e.k&&ue(n,o[3].m.e.k)},d(o){o&&y(e),o&&y(n),l=!1,i()}}}function vf(t){let e,n,l,i,o,u,m;return{c(){e=c("div"),n=E("Authentication key"),l=c("br"),i=b(),o=c("input"),a(o,"name","mea"),a(o,"type","text"),a(o,"class","in-s"),a(e,"class","my-1")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(e,i),s(e,o),ue(o,t[3].m.e.a),u||(m=Q(o,"input",t[36]),u=!0)},p(r,f){f[0]&8&&o.value!==r[3].m.e.a&&ue(o,r[3].m.e.a)},d(r){r&&y(e),u=!1,m()}}}function bf(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I,R,w,$,ie,j;return{c(){e=c("div"),n=c("div"),l=E("Watt"),i=c("br"),o=b(),u=c("input"),m=b(),r=c("div"),f=E("Volt"),p=c("br"),_=b(),v=c("input"),h=b(),d=c("div"),g=E("Amp"),k=c("br"),A=b(),T=c("input"),P=b(),F=c("div"),I=E("kWh"),R=c("br"),w=b(),$=c("input"),a(u,"name","mmw"),a(u,"type","number"),a(u,"min","0.00"),a(u,"max","1000"),a(u,"step","0.001"),a(u,"class","in-f tr w-full"),a(n,"class","w-1/4"),a(v,"name","mmv"),a(v,"type","number"),a(v,"min","0.00"),a(v,"max","1000"),a(v,"step","0.001"),a(v,"class","in-m tr w-full"),a(r,"class","w-1/4"),a(T,"name","mma"),a(T,"type","number"),a(T,"min","0.00"),a(T,"max","1000"),a(T,"step","0.001"),a(T,"class","in-m tr w-full"),a(d,"class","w-1/4"),a($,"name","mmc"),a($,"type","number"),a($,"min","0.00"),a($,"max","1000"),a($,"step","0.001"),a($,"class","in-l tr w-full"),a(F,"class","w-1/4"),a(e,"class","flex my-1")},m(U,H){M(U,e,H),s(e,n),s(n,l),s(n,i),s(n,o),s(n,u),ue(u,t[3].m.m.w),s(e,m),s(e,r),s(r,f),s(r,p),s(r,_),s(r,v),ue(v,t[3].m.m.v),s(e,h),s(e,d),s(d,g),s(d,k),s(d,A),s(d,T),ue(T,t[3].m.m.a),s(e,P),s(e,F),s(F,I),s(F,R),s(F,w),s(F,$),ue($,t[3].m.m.c),ie||(j=[Q(u,"input",t[38]),Q(v,"input",t[39]),Q(T,"input",t[40]),Q($,"input",t[41])],ie=!0)},p(U,H){H[0]&8&&Se(u.value)!==U[3].m.m.w&&ue(u,U[3].m.m.w),H[0]&8&&Se(v.value)!==U[3].m.m.v&&ue(v,U[3].m.m.v),H[0]&8&&Se(T.value)!==U[3].m.m.a&&ue(T,U[3].m.m.a),H[0]&8&&Se($.value)!==U[3].m.m.c&&ue($,U[3].m.m.c)},d(U){U&&y(e),ie=!1,nt(j)}}}function gf(t){let e;return{c(){e=c("option"),e.textContent="Ethernet",e.__value=3,e.value=e.__value},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function kf(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I,R,w,$,ie,j,U,H,G,V,K,Z,z,W,x,_e,ne,me;return{c(){e=c("div"),n=E("SSID"),l=c("br"),i=b(),o=c("input"),u=b(),m=c("div"),r=E("Password"),f=c("br"),p=b(),_=c("input"),v=b(),h=c("div"),d=c("div"),g=E("Power saving"),k=c("br"),A=b(),T=c("select"),P=c("option"),P.textContent="Default",F=c("option"),F.textContent="Off",I=c("option"),I.textContent="Minimum",R=c("option"),R.textContent="Maximum",w=b(),$=c("div"),ie=E("Power"),j=c("br"),U=b(),H=c("div"),G=c("input"),V=b(),K=c("span"),K.textContent="dBm",Z=b(),z=c("div"),W=c("label"),x=c("input"),_e=E(" Allow 802.11b legacy rates"),a(o,"name","ws"),a(o,"type","text"),a(o,"class","in-s"),a(e,"class","my-1"),a(_,"name","wp"),a(_,"type","password"),a(_,"class","in-s"),a(m,"class","my-1"),P.__value=255,P.value=P.__value,F.__value=0,F.value=F.__value,I.__value=1,I.value=I.__value,R.__value=2,R.value=R.__value,a(T,"name","wz"),a(T,"class","in-s"),t[3].w.z===void 0&&Ze(()=>t[45].call(T)),a(d,"class","w-1/2"),a(G,"name","ww"),a(G,"type","number"),a(G,"min","0"),a(G,"max","20.5"),a(G,"step","0.5"),a(G,"class","in-f tr w-full"),a(K,"class","in-post"),a(H,"class","flex"),a($,"class","ml-2 w-1/2"),a(h,"class","my-1 flex"),a(x,"type","checkbox"),a(x,"name","wb"),x.__value="true",x.value=x.__value,a(x,"class","rounded mb-1"),a(z,"class","my-3")},m(Y,ke){M(Y,e,ke),s(e,n),s(e,l),s(e,i),s(e,o),ue(o,t[3].w.s),M(Y,u,ke),M(Y,m,ke),s(m,r),s(m,f),s(m,p),s(m,_),ue(_,t[3].w.p),M(Y,v,ke),M(Y,h,ke),s(h,d),s(d,g),s(d,k),s(d,A),s(d,T),s(T,P),s(T,F),s(T,I),s(T,R),Te(T,t[3].w.z,!0),s(h,w),s(h,$),s($,ie),s($,j),s($,U),s($,H),s(H,G),ue(G,t[3].w.w),s(H,V),s(H,K),M(Y,Z,ke),M(Y,z,ke),s(z,W),s(W,x),x.checked=t[3].w.b,s(W,_e),ne||(me=[Q(o,"input",t[43]),Q(_,"input",t[44]),Q(T,"change",t[45]),Q(G,"input",t[46]),Q(x,"change",t[47])],ne=!0)},p(Y,ke){ke[0]&8&&o.value!==Y[3].w.s&&ue(o,Y[3].w.s),ke[0]&8&&_.value!==Y[3].w.p&&ue(_,Y[3].w.p),ke[0]&8&&Te(T,Y[3].w.z),ke[0]&8&&Se(G.value)!==Y[3].w.w&&ue(G,Y[3].w.w),ke[0]&8&&(x.checked=Y[3].w.b)},d(Y){Y&&y(e),Y&&y(u),Y&&y(m),Y&&y(v),Y&&y(h),Y&&y(Z),Y&&y(z),ne=!1,nt(me)}}}function wf(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k;return{c(){e=c("div"),n=E("Gateway"),l=c("br"),i=b(),o=c("input"),u=b(),m=c("div"),r=E("DNS"),f=c("br"),p=b(),_=c("div"),v=c("input"),h=b(),d=c("input"),a(o,"name","ng"),a(o,"type","text"),a(o,"class","in-s"),a(e,"class","my-1"),a(v,"name","nd1"),a(v,"type","text"),a(v,"class","in-f w-full"),a(d,"name","nd2"),a(d,"type","text"),a(d,"class","in-l w-full"),a(_,"class","flex"),a(m,"class","my-1")},m(A,T){M(A,e,T),s(e,n),s(e,l),s(e,i),s(e,o),ue(o,t[3].n.g),M(A,u,T),M(A,m,T),s(m,r),s(m,f),s(m,p),s(m,_),s(_,v),ue(v,t[3].n.d1),s(_,h),s(_,d),ue(d,t[3].n.d2),g||(k=[Q(o,"input",t[51]),Q(v,"input",t[52]),Q(d,"input",t[53])],g=!0)},p(A,T){T[0]&8&&o.value!==A[3].n.g&&ue(o,A[3].n.g),T[0]&8&&v.value!==A[3].n.d1&&ue(v,A[3].n.d1),T[0]&8&&d.value!==A[3].n.d2&&ue(d,A[3].n.d2)},d(A){A&&y(e),A&&y(u),A&&y(m),g=!1,nt(k)}}}function Cf(t){let e,n,l,i,o;return{c(){e=c("label"),n=c("input"),l=E(" SSL"),a(n,"type","checkbox"),a(n,"name","qs"),n.__value="true",n.value=n.__value,a(n,"class","rounded mb-1"),a(e,"class","float-right mr-3")},m(u,m){M(u,e,m),s(e,n),n.checked=t[3].q.s.e,s(e,l),i||(o=[Q(n,"change",t[57]),Q(n,"change",t[14])],i=!0)},p(u,m){m[0]&8&&(n.checked=u[3].q.s.e)},d(u){u&&y(e),i=!1,nt(o)}}}function yf(t){let e,n,l,i,o,u,m,r,f,p,_,v,h;const d=[q_,O_],g=[];function k(w,$){return w[3].q.s.c?0:1}l=k(t),i=g[l]=d[l](t);const A=[H_,j_],T=[];function P(w,$){return w[3].q.s.r?0:1}m=P(t),r=T[m]=A[m](t);const F=[V_,G_],I=[];function R(w,$){return w[3].q.s.k?0:1}return _=R(t),v=I[_]=F[_](t),{c(){e=c("div"),n=c("span"),i.c(),o=b(),u=c("span"),r.c(),f=b(),p=c("span"),v.c(),a(n,"class","flex pr-2"),a(u,"class","flex pr-2"),a(p,"class","flex pr-2"),a(e,"class","my-1 flex")},m(w,$){M(w,e,$),s(e,n),g[l].m(n,null),s(e,o),s(e,u),T[m].m(u,null),s(e,f),s(e,p),I[_].m(p,null),h=!0},p(w,$){let ie=l;l=k(w),l===ie?g[l].p(w,$):($e(),q(g[ie],1,1,()=>{g[ie]=null}),De(),i=g[l],i?i.p(w,$):(i=g[l]=d[l](w),i.c()),L(i,1),i.m(n,null));let j=m;m=P(w),m===j?T[m].p(w,$):($e(),q(T[j],1,1,()=>{T[j]=null}),De(),r=T[m],r?r.p(w,$):(r=T[m]=A[m](w),r.c()),L(r,1),r.m(u,null));let U=_;_=R(w),_===U?I[_].p(w,$):($e(),q(I[U],1,1,()=>{I[U]=null}),De(),v=I[_],v?v.p(w,$):(v=I[_]=F[_](w),v.c()),L(v,1),v.m(p,null))},i(w){h||(L(i),L(r),L(v),h=!0)},o(w){q(i),q(r),q(v),h=!1},d(w){w&&y(e),g[l].d(),T[m].d(),I[_].d()}}}function O_(t){let e,n;return e=new el({props:{to:"/mqtt-ca",$$slots:{default:[B_]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i[3]&1048576&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function q_(t){let e,n,l,i,o,u,m,r;return n=new el({props:{to:"/mqtt-ca",$$slots:{default:[U_]},$$scope:{ctx:t}}}),o=new Ss({}),{c(){e=c("span"),ae(n.$$.fragment),l=b(),i=c("span"),ae(o.$$.fragment),a(e,"class","rounded-l-md bg-green-500 text-green-100 text-xs font-semibold px-2.5 py-1"),a(i,"class","rounded-r-md bg-red-500 text-red-100 text-xs px-2.5 py-1")},m(f,p){M(f,e,p),se(n,e,null),M(f,l,p),M(f,i,p),se(o,i,null),u=!0,m||(r=[Q(i,"click",t[11]),Q(i,"keypress",t[11])],m=!0)},p(f,p){const _={};p[3]&1048576&&(_.$$scope={dirty:p,ctx:f}),n.$set(_)},i(f){u||(L(n.$$.fragment,f),L(o.$$.fragment,f),u=!0)},o(f){q(n.$$.fragment,f),q(o.$$.fragment,f),u=!1},d(f){f&&y(e),oe(n),f&&y(l),f&&y(i),oe(o),m=!1,nt(r)}}}function B_(t){let e,n;return e=new un({props:{color:"blue",text:"Upload CA",title:"Click here to upload CA"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:be,i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function U_(t){let e;return{c(){e=E("CA OK")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function j_(t){let e,n;return e=new el({props:{to:"/mqtt-cert",$$slots:{default:[W_]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i[3]&1048576&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function H_(t){let e,n,l,i,o,u,m,r;return n=new el({props:{to:"/mqtt-cert",$$slots:{default:[z_]},$$scope:{ctx:t}}}),o=new Ss({}),{c(){e=c("span"),ae(n.$$.fragment),l=b(),i=c("span"),ae(o.$$.fragment),a(e,"class","rounded-l-md bg-green-500 text-green-100 text-xs font-semibold px-2.5 py-1"),a(i,"class","rounded-r-md bg-red-500 text-red-100 text-xs px-2.5 py-1")},m(f,p){M(f,e,p),se(n,e,null),M(f,l,p),M(f,i,p),se(o,i,null),u=!0,m||(r=[Q(i,"click",t[12]),Q(i,"keypress",t[12])],m=!0)},p(f,p){const _={};p[3]&1048576&&(_.$$scope={dirty:p,ctx:f}),n.$set(_)},i(f){u||(L(n.$$.fragment,f),L(o.$$.fragment,f),u=!0)},o(f){q(n.$$.fragment,f),q(o.$$.fragment,f),u=!1},d(f){f&&y(e),oe(n),f&&y(l),f&&y(i),oe(o),m=!1,nt(r)}}}function W_(t){let e,n;return e=new un({props:{color:"blue",text:"Upload cert",title:"Click here to upload certificate"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:be,i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function z_(t){let e;return{c(){e=E("Cert OK")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function G_(t){let e,n;return e=new el({props:{to:"/mqtt-key",$$slots:{default:[K_]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i[3]&1048576&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function V_(t){let e,n,l,i,o,u,m,r;return n=new el({props:{to:"/mqtt-key",$$slots:{default:[Y_]},$$scope:{ctx:t}}}),o=new Ss({}),{c(){e=c("span"),ae(n.$$.fragment),l=b(),i=c("span"),ae(o.$$.fragment),a(e,"class","rounded-l-md bg-green-500 text-green-100 text-xs font-semibold px-2.5 py-1"),a(i,"class","rounded-r-md bg-red-500 text-red-100 text-xs px-2.5 py-1")},m(f,p){M(f,e,p),se(n,e,null),M(f,l,p),M(f,i,p),se(o,i,null),u=!0,m||(r=[Q(i,"click",t[13]),Q(i,"keypress",t[13])],m=!0)},p(f,p){const _={};p[3]&1048576&&(_.$$scope={dirty:p,ctx:f}),n.$set(_)},i(f){u||(L(n.$$.fragment,f),L(o.$$.fragment,f),u=!0)},o(f){q(n.$$.fragment,f),q(o.$$.fragment,f),u=!1},d(f){f&&y(e),oe(n),f&&y(l),f&&y(i),oe(o),m=!1,nt(r)}}}function K_(t){let e,n;return e=new un({props:{color:"blue",text:"Upload key",title:"Click here to upload key"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:be,i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Y_(t){let e;return{c(){e=E("Key OK")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function Mf(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I,R,w,$,ie,j,U,H,G,V,K,Z;return o=new Ut({}),{c(){e=c("div"),n=c("strong"),n.textContent="Domoticz",l=b(),i=c("a"),ae(o.$$.fragment),u=b(),m=c("input"),r=b(),f=c("div"),p=c("div"),_=E("Electricity IDX"),v=c("br"),h=b(),d=c("input"),g=b(),k=c("div"),A=E("Current IDX"),T=c("br"),P=b(),F=c("input"),I=b(),R=c("div"),w=E(`Voltage IDX: L1, L2 & L3
                `),$=c("div"),ie=c("input"),j=b(),U=c("input"),H=b(),G=c("input"),a(n,"class","text-sm"),a(i,"href",jt("MQTT-configuration#domoticz")),a(i,"target","_blank"),a(i,"class","float-right"),a(m,"type","hidden"),a(m,"name","o"),m.value="true",a(d,"name","oe"),a(d,"type","text"),a(d,"class","in-f tr w-full"),a(p,"class","w-1/2"),a(F,"name","oc"),a(F,"type","text"),a(F,"class","in-l tr w-full"),a(k,"class","w-1/2"),a(f,"class","my-1 flex"),a(ie,"name","ou1"),a(ie,"type","text"),a(ie,"class","in-f tr w-1/3"),a(U,"name","ou2"),a(U,"type","text"),a(U,"class","in-m tr w-1/3"),a(G,"name","ou3"),a(G,"type","text"),a(G,"class","in-l tr w-1/3"),a($,"class","flex"),a(R,"class","my-1"),a(e,"class","cnt")},m(z,W){M(z,e,W),s(e,n),s(e,l),s(e,i),se(o,i,null),s(e,u),s(e,m),s(e,r),s(e,f),s(f,p),s(p,_),s(p,v),s(p,h),s(p,d),ue(d,t[3].o.e),s(f,g),s(f,k),s(k,A),s(k,T),s(k,P),s(k,F),ue(F,t[3].o.c),s(e,I),s(e,R),s(R,w),s(R,$),s($,ie),ue(ie,t[3].o.u1),s($,j),s($,U),ue(U,t[3].o.u2),s($,H),s($,G),ue(G,t[3].o.u3),V=!0,K||(Z=[Q(d,"input",t[65]),Q(F,"input",t[66]),Q(ie,"input",t[67]),Q(U,"input",t[68]),Q(G,"input",t[69])],K=!0)},p(z,W){W[0]&8&&d.value!==z[3].o.e&&ue(d,z[3].o.e),W[0]&8&&F.value!==z[3].o.c&&ue(F,z[3].o.c),W[0]&8&&ie.value!==z[3].o.u1&&ue(ie,z[3].o.u1),W[0]&8&&U.value!==z[3].o.u2&&ue(U,z[3].o.u2),W[0]&8&&G.value!==z[3].o.u3&&ue(G,z[3].o.u3)},i(z){V||(L(o.$$.fragment,z),V=!0)},o(z){q(o.$$.fragment,z),V=!1},d(z){z&&y(e),oe(o),K=!1,nt(Z)}}}function Sf(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I,R,w,$,ie,j,U,H,G;return o=new Ut({}),{c(){e=c("div"),n=c("strong"),n.textContent="Home-Assistant",l=b(),i=c("a"),ae(o.$$.fragment),u=b(),m=c("input"),r=b(),f=c("div"),p=E("Discovery topic prefix"),_=c("br"),v=b(),h=c("input"),d=b(),g=c("div"),k=E("Hostname for URL"),A=c("br"),T=b(),P=c("input"),I=b(),R=c("div"),w=E("Name tag"),$=c("br"),ie=b(),j=c("input"),a(n,"class","text-sm"),a(i,"href",jt("MQTT-configuration#home-assistant")),a(i,"target","_blank"),a(i,"class","float-right"),a(m,"type","hidden"),a(m,"name","h"),m.value="true",a(h,"name","ht"),a(h,"type","text"),a(h,"class","in-s"),a(h,"placeholder","homeassistant"),a(f,"class","my-1"),a(P,"name","hh"),a(P,"type","text"),a(P,"class","in-s"),a(P,"placeholder",F=t[3].g.h+".local"),a(g,"class","my-1"),a(j,"name","hn"),a(j,"type","text"),a(j,"class","in-s"),a(R,"class","my-1"),a(e,"class","cnt")},m(V,K){M(V,e,K),s(e,n),s(e,l),s(e,i),se(o,i,null),s(e,u),s(e,m),s(e,r),s(e,f),s(f,p),s(f,_),s(f,v),s(f,h),ue(h,t[3].h.t),s(e,d),s(e,g),s(g,k),s(g,A),s(g,T),s(g,P),ue(P,t[3].h.h),s(e,I),s(e,R),s(R,w),s(R,$),s(R,ie),s(R,j),ue(j,t[3].h.n),U=!0,H||(G=[Q(h,"input",t[70]),Q(P,"input",t[71]),Q(j,"input",t[72])],H=!0)},p(V,K){K[0]&8&&h.value!==V[3].h.t&&ue(h,V[3].h.t),(!U||K[0]&8&&F!==(F=V[3].g.h+".local"))&&a(P,"placeholder",F),K[0]&8&&P.value!==V[3].h.h&&ue(P,V[3].h.h),K[0]&8&&j.value!==V[3].h.n&&ue(j,V[3].h.n)},i(V){U||(L(o.$$.fragment,V),U=!0)},o(V){q(o.$$.fragment,V),U=!1},d(V){V&&y(e),oe(o),H=!1,nt(G)}}}function Tf(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I;o=new Ut({});let R=t[3].c.es&&Nf(t);return{c(){e=c("div"),n=c("strong"),n.textContent="Cloud connections",l=b(),i=c("a"),ae(o.$$.fragment),u=b(),m=c("input"),r=b(),f=c("div"),p=c("label"),_=c("input"),v=E(" AMSreader cloud"),h=b(),d=c("div"),g=c("label"),k=c("input"),A=E(" Energy Speedometer"),T=b(),R&&R.c(),a(n,"class","text-sm"),a(i,"href",jt("Cloud")),a(i,"target","_blank"),a(i,"class","float-right"),a(m,"type","hidden"),a(m,"name","c"),m.value="true",a(_,"type","checkbox"),a(_,"name","ce"),_.__value="true",_.value=_.__value,a(_,"class","rounded mb-1"),a(f,"class","my-1"),a(k,"type","checkbox"),a(k,"class","rounded mb-1"),a(k,"name","ces"),k.__value="true",k.value=k.__value,a(d,"class","my-1"),a(e,"class","cnt")},m(w,$){M(w,e,$),s(e,n),s(e,l),s(e,i),se(o,i,null),s(e,u),s(e,m),s(e,r),s(e,f),s(f,p),s(p,_),_.checked=t[3].c.e,s(p,v),s(e,h),s(e,d),s(d,g),s(g,k),k.checked=t[3].c.es,s(g,A),s(d,T),R&&R.m(d,null),P=!0,F||(I=[Q(_,"change",t[73]),Q(k,"change",t[74])],F=!0)},p(w,$){$[0]&8&&(_.checked=w[3].c.e),$[0]&8&&(k.checked=w[3].c.es),w[3].c.es?R?(R.p(w,$),$[0]&8&&L(R,1)):(R=Nf(w),R.c(),L(R,1),R.m(d,null)):R&&($e(),q(R,1,1,()=>{R=null}),De())},i(w){P||(L(o.$$.fragment,w),L(R),P=!0)},o(w){q(o.$$.fragment,w),q(R),P=!1},d(w){w&&y(e),oe(o),R&&R.d(),F=!1,nt(I)}}}function Nf(t){let e,n,l=t[0].mac+"",i,o,u,m,r=(t[0].meter.id?t[0].meter.id:"missing, required")+"",f,p,_,v,h=t[0].mac&&t[0].meter.id&&Ef(t);return{c(){e=c("div"),n=E("MAC: "),i=E(l),o=b(),u=c("div"),m=E("Meter ID: "),f=E(r),p=b(),h&&h.c(),_=it(),a(e,"class","pl-5"),a(u,"class","pl-5")},m(d,g){M(d,e,g),s(e,n),s(e,i),M(d,o,g),M(d,u,g),s(u,m),s(u,f),M(d,p,g),h&&h.m(d,g),M(d,_,g),v=!0},p(d,g){(!v||g[0]&1)&&l!==(l=d[0].mac+"")&&X(i,l),(!v||g[0]&1)&&r!==(r=(d[0].meter.id?d[0].meter.id:"missing, required")+"")&&X(f,r),d[0].mac&&d[0].meter.id?h?(h.p(d,g),g[0]&1&&L(h,1)):(h=Ef(d),h.c(),L(h,1),h.m(_.parentNode,_)):h&&($e(),q(h,1,1,()=>{h=null}),De())},i(d){v||(L(h),v=!0)},o(d){q(h),v=!1},d(d){d&&y(e),d&&y(o),d&&y(u),d&&y(p),h&&h.d(d),d&&y(_)}}}function Ef(t){let e,n,l;return n=new $_({props:{value:'{"mac":"'+t[0].mac+'","meter":"'+t[0].meter.id+'"}'}}),{c(){e=c("div"),ae(n.$$.fragment),a(e,"class","pl-2")},m(i,o){M(i,e,o),se(n,e,null),l=!0},p(i,o){const u={};o[0]&1&&(u.value='{"mac":"'+i[0].mac+'","meter":"'+i[0].meter.id+'"}'),n.$set(u)},i(i){l||(L(n.$$.fragment,i),l=!0)},o(i){q(n.$$.fragment,i),l=!1},d(i){i&&y(e),oe(n)}}}function Pf(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P;o=new Ut({});let F={length:9},I=[];for(let R=0;R<F.length;R+=1)I[R]=Af(_f(t,F,R));return{c(){e=c("div"),n=c("strong"),n.textContent="Tariff thresholds",l=b(),i=c("a"),ae(o.$$.fragment),u=b(),m=c("input"),r=b(),f=c("div");for(let R=0;R<I.length;R+=1)I[R].c();p=b(),_=c("label"),v=c("span"),v.textContent="Average of",h=b(),d=c("input"),g=b(),k=c("span"),k.textContent="hours",a(n,"class","text-sm"),a(i,"href",jt("Threshold-configuration")),a(i,"target","_blank"),a(i,"class","float-right"),a(m,"type","hidden"),a(m,"name","t"),m.value="true",a(f,"class","flex flex-wrap my-1"),a(v,"class","in-pre"),a(d,"name","th"),a(d,"type","number"),a(d,"min","0"),a(d,"max","255"),a(d,"class","in-txt tr w-full"),a(k,"class","in-post"),a(_,"class","flex m-1"),a(e,"class","cnt")},m(R,w){M(R,e,w),s(e,n),s(e,l),s(e,i),se(o,i,null),s(e,u),s(e,m),s(e,r),s(e,f);for(let $=0;$<I.length;$+=1)I[$]&&I[$].m(f,null);s(e,p),s(e,_),s(_,v),s(_,h),s(_,d),ue(d,t[3].t.h),s(_,g),s(_,k),A=!0,T||(P=Q(d,"input",t[76]),T=!0)},p(R,w){if(w[0]&8){F={length:9};let $;for($=0;$<F.length;$+=1){const ie=_f(R,F,$);I[$]?I[$].p(ie,w):(I[$]=Af(ie),I[$].c(),I[$].m(f,null))}for(;$<I.length;$+=1)I[$].d(1);I.length=F.length}w[0]&8&&Se(d.value)!==R[3].t.h&&ue(d,R[3].t.h)},i(R){A||(L(o.$$.fragment,R),A=!0)},o(R){q(o.$$.fragment,R),A=!1},d(R){R&&y(e),oe(o),ft(I,R),T=!1,P()}}}function Af(t){let e,n,l=t[106]+1+"",i,o,u,m,r,f,p,_;function v(){t[75].call(u,t[106])}return{c(){e=c("label"),n=c("span"),i=E(l),o=b(),u=c("input"),m=b(),r=c("span"),r.textContent="kWh",f=b(),a(n,"class","in-pre"),a(u,"name","t"+t[106]),a(u,"type","number"),a(u,"min","0"),a(u,"max","65535"),a(u,"class","in-txt w-full"),a(r,"class","in-post"),a(e,"class","flex w-40 m-1")},m(h,d){M(h,e,d),s(e,n),s(n,i),s(e,o),s(e,u),ue(u,t[3].t.t[t[106]]),s(e,m),s(e,r),s(e,f),p||(_=Q(u,"input",v),p=!0)},p(h,d){t=h,d[0]&8&&Se(u.value)!==t[3].t.t[t[106]]&&ue(u,t[3].t.t[t[106]])},d(h){h&&y(e),p=!1,_()}}}function $f(t){let e,n=t[101].name+"",l,i,o,u,m,r,f,p,_,v;function h(){t[77].call(u,t[101])}return{c(){e=c("div"),l=E(n),i=c("br"),o=b(),u=c("select"),m=c("option"),m.textContent="Disable",r=c("option"),r.textContent="Enable",f=c("option"),f.textContent="Auto",p=b(),m.__value=0,m.value=m.__value,r.__value=1,r.value=r.__value,f.__value=2,f.value=f.__value,a(u,"name","u"+t[101].key),a(u,"class","in-s"),t[3].u[t[101].key]===void 0&&Ze(h),a(e,"class","w-1/2")},m(d,g){M(d,e,g),s(e,l),s(e,i),s(e,o),s(e,u),s(u,m),s(u,r),s(u,f),Te(u,t[3].u[t[101].key],!0),s(e,p),_||(v=Q(u,"change",h),_=!0)},p(d,g){t=d,g[0]&136&&Te(u,t[3].u[t[101].key])},d(d){d&&y(e),_=!1,v()}}}function Df(t){let e,n,l,i,o,u,m,r,f;o=new Ut({});let p=t[0].board>20&&Lf(t),_=t[3].i.d.d>0&&Ff(t),v=t[0].chip=="esp8266"&&Of(t);return{c(){e=c("div"),n=c("strong"),n.textContent="Hardware",l=b(),i=c("a"),ae(o.$$.fragment),u=b(),p&&p.c(),m=b(),_&&_.c(),r=b(),v&&v.c(),a(n,"class","text-sm"),a(i,"href",jt("GPIO-configuration")),a(i,"target","_blank"),a(i,"class","float-right"),a(e,"class","cnt")},m(h,d){M(h,e,d),s(e,n),s(e,l),s(e,i),se(o,i,null),s(e,u),p&&p.m(e,null),s(e,m),_&&_.m(e,null),s(e,r),v&&v.m(e,null),f=!0},p(h,d){h[0].board>20?p?(p.p(h,d),d[0]&1&&L(p,1)):(p=Lf(h),p.c(),L(p,1),p.m(e,m)):p&&($e(),q(p,1,1,()=>{p=null}),De()),h[3].i.d.d>0?_?_.p(h,d):(_=Ff(h),_.c(),_.m(e,r)):_&&(_.d(1),_=null),h[0].chip=="esp8266"?v?v.p(h,d):(v=Of(h),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i(h){f||(L(o.$$.fragment,h),L(p),f=!0)},o(h){q(o.$$.fragment,h),q(p),f=!1},d(h){h&&y(e),oe(o),p&&p.d(),_&&_.d(),v&&v.d()}}}function Lf(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I,R,w,$,ie,j,U,H,G,V,K,Z,z,W,x,_e,ne,me,Y,ke,Ee,we,Me,te,fe,Oe,Ie,N,C,S,D,O,J,le,pe,ge,Ae,Fe,ce,Pe,ze,ct,Ke,rt,Ge,mt,Ue,Nt,_t,dt,et,Re,tt,Le,Je,at;f=new fo({props:{chip:t[0].chip}}),k=new fo({props:{chip:t[0].chip}});let qe=t[0].chip!="esp8266"&&If(t),ye=t[3].i.v.p>0&&Rf(t);return{c(){e=c("input"),n=b(),l=c("div"),i=c("div"),o=E("HAN RX"),u=c("br"),m=b(),r=c("select"),ae(f.$$.fragment),p=b(),_=c("div"),v=E("HAN TX"),h=c("br"),d=b(),g=c("select"),ae(k.$$.fragment),A=b(),T=c("div"),P=c("label"),F=c("input"),I=E(" pullup"),R=b(),w=c("div"),$=c("div"),ie=E("AP button"),j=c("br"),U=b(),H=c("input"),G=b(),V=c("div"),K=E("LED"),Z=c("br"),z=b(),W=c("div"),x=c("input"),_e=b(),ne=c("div"),me=c("label"),Y=c("input"),ke=E(" inverted"),Ee=b(),we=c("div"),Me=E("RGB"),te=c("label"),fe=c("input"),Oe=E(" inverted"),Ie=c("br"),N=b(),C=c("div"),S=c("input"),D=b(),O=c("input"),J=b(),le=c("input"),pe=b(),ge=c("div"),Ae=c("div"),Fe=E(`LED dis. GPIO
                        `),ce=c("input"),Pe=b(),ze=c("div"),ct=E("Temperature"),Ke=c("br"),rt=b(),Ge=c("input"),mt=b(),Ue=c("div"),Nt=E("Analog temp"),_t=c("br"),dt=b(),et=c("input"),Re=b(),qe&&qe.c(),tt=b(),ye&&ye.c(),a(e,"type","hidden"),a(e,"name","i"),e.value="true",a(r,"name","ihp"),a(r,"class","in-f w-full"),t[3].i.h.p===void 0&&Ze(()=>t[78].call(r)),a(i,"class","w-1/3"),a(g,"name","iht"),a(g,"class","in-l w-full"),t[3].i.h.t===void 0&&Ze(()=>t[79].call(g)),a(_,"class","w-1/3"),a(F,"name","ihu"),F.__value="true",F.value=F.__value,a(F,"type","checkbox"),a(F,"class","rounded mb-1"),a(P,"class","ml-2"),a(T,"class","w-1/3"),a(l,"class","flex flex-wrap"),a(H,"name","ia"),a(H,"type","number"),a(H,"min","0"),a(H,"max",t[6]),a(H,"class","in-f tr w-full"),a($,"class","w-1/3"),a(x,"name","ilp"),a(x,"type","number"),a(x,"min","0"),a(x,"max",t[6]),a(x,"class","in-l tr w-full"),a(W,"class","flex"),a(V,"class","w-1/3"),a(Y,"name","ili"),Y.__value="true",Y.value=Y.__value,a(Y,"type","checkbox"),a(Y,"class","rounded mb-1"),a(me,"class","ml-4"),a(ne,"class","w-1/3"),a(fe,"name","iri"),fe.__value="true",fe.value=fe.__value,a(fe,"type","checkbox"),a(fe,"class","rounded mb-1"),a(te,"class","ml-4"),a(S,"name","irr"),a(S,"type","number"),a(S,"min","0"),a(S,"max",t[6]),a(S,"class","in-f tr w-1/3"),a(O,"name","irg"),a(O,"type","number"),a(O,"min","0"),a(O,"max",t[6]),a(O,"class","in-m tr w-1/3"),a(le,"name","irb"),a(le,"type","number"),a(le,"min","0"),a(le,"max",t[6]),a(le,"class","in-l tr w-1/3"),a(C,"class","flex"),a(we,"class","w-full"),a(ce,"name","idd"),a(ce,"type","number"),a(ce,"min","0"),a(ce,"max",t[6]),a(ce,"class","in-s tr"),a(Ae,"class","my-1 pr-1 w-1/3"),a(ge,"class","w-full"),a(Ge,"name","itd"),a(Ge,"type","number"),a(Ge,"min","0"),a(Ge,"max",t[6]),a(Ge,"class","in-f tr w-full"),a(ze,"class","my-1 w-1/3"),a(et,"name","ita"),a(et,"type","number"),a(et,"min","0"),a(et,"max",t[6]),a(et,"class","in-l tr w-full"),a(Ue,"class","my-1 pr-1 w-1/3"),a(w,"class","flex flex-wrap")},m(ve,de){M(ve,e,de),M(ve,n,de),M(ve,l,de),s(l,i),s(i,o),s(i,u),s(i,m),s(i,r),se(f,r,null),Te(r,t[3].i.h.p,!0),s(l,p),s(l,_),s(_,v),s(_,h),s(_,d),s(_,g),se(k,g,null),Te(g,t[3].i.h.t,!0),s(l,A),s(l,T),s(T,P),s(P,F),F.checked=t[3].i.h.u,s(P,I),M(ve,R,de),M(ve,w,de),s(w,$),s($,ie),s($,j),s($,U),s($,H),ue(H,t[3].i.a),s(w,G),s(w,V),s(V,K),s(V,Z),s(V,z),s(V,W),s(W,x),ue(x,t[3].i.l.p),s(w,_e),s(w,ne),s(ne,me),s(me,Y),Y.checked=t[3].i.l.i,s(me,ke),s(w,Ee),s(w,we),s(we,Me),s(we,te),s(te,fe),fe.checked=t[3].i.r.i,s(te,Oe),s(we,Ie),s(we,N),s(we,C),s(C,S),ue(S,t[3].i.r.r),s(C,D),s(C,O),ue(O,t[3].i.r.g),s(C,J),s(C,le),ue(le,t[3].i.r.b),s(w,pe),s(w,ge),s(ge,Ae),s(Ae,Fe),s(Ae,ce),ue(ce,t[3].i.d.d),s(w,Pe),s(w,ze),s(ze,ct),s(ze,Ke),s(ze,rt),s(ze,Ge),ue(Ge,t[3].i.t.d),s(w,mt),s(w,Ue),s(Ue,Nt),s(Ue,_t),s(Ue,dt),s(Ue,et),ue(et,t[3].i.t.a),s(w,Re),qe&&qe.m(w,null),s(w,tt),ye&&ye.m(w,null),Le=!0,Je||(at=[Q(r,"change",t[78]),Q(g,"change",t[79]),Q(F,"change",t[80]),Q(H,"input",t[81]),Q(x,"input",t[82]),Q(Y,"change",t[83]),Q(fe,"change",t[84]),Q(S,"input",t[85]),Q(O,"input",t[86]),Q(le,"input",t[87]),Q(ce,"input",t[88]),Q(Ge,"input",t[89]),Q(et,"input",t[90])],Je=!0)},p(ve,de){const Ve={};de[0]&1&&(Ve.chip=ve[0].chip),f.$set(Ve),de[0]&8&&Te(r,ve[3].i.h.p);const re={};de[0]&1&&(re.chip=ve[0].chip),k.$set(re),de[0]&8&&Te(g,ve[3].i.h.t),de[0]&8&&(F.checked=ve[3].i.h.u),(!Le||de[0]&64)&&a(H,"max",ve[6]),de[0]&8&&Se(H.value)!==ve[3].i.a&&ue(H,ve[3].i.a),(!Le||de[0]&64)&&a(x,"max",ve[6]),de[0]&8&&Se(x.value)!==ve[3].i.l.p&&ue(x,ve[3].i.l.p),de[0]&8&&(Y.checked=ve[3].i.l.i),de[0]&8&&(fe.checked=ve[3].i.r.i),(!Le||de[0]&64)&&a(S,"max",ve[6]),de[0]&8&&Se(S.value)!==ve[3].i.r.r&&ue(S,ve[3].i.r.r),(!Le||de[0]&64)&&a(O,"max",ve[6]),de[0]&8&&Se(O.value)!==ve[3].i.r.g&&ue(O,ve[3].i.r.g),(!Le||de[0]&64)&&a(le,"max",ve[6]),de[0]&8&&Se(le.value)!==ve[3].i.r.b&&ue(le,ve[3].i.r.b),(!Le||de[0]&64)&&a(ce,"max",ve[6]),de[0]&8&&Se(ce.value)!==ve[3].i.d.d&&ue(ce,ve[3].i.d.d),(!Le||de[0]&64)&&a(Ge,"max",ve[6]),de[0]&8&&Se(Ge.value)!==ve[3].i.t.d&&ue(Ge,ve[3].i.t.d),(!Le||de[0]&64)&&a(et,"max",ve[6]),de[0]&8&&Se(et.value)!==ve[3].i.t.a&&ue(et,ve[3].i.t.a),ve[0].chip!="esp8266"?qe?qe.p(ve,de):(qe=If(ve),qe.c(),qe.m(w,tt)):qe&&(qe.d(1),qe=null),ve[3].i.v.p>0?ye?ye.p(ve,de):(ye=Rf(ve),ye.c(),ye.m(w,null)):ye&&(ye.d(1),ye=null)},i(ve){Le||(L(f.$$.fragment,ve),L(k.$$.fragment,ve),Le=!0)},o(ve){q(f.$$.fragment,ve),q(k.$$.fragment,ve),Le=!1},d(ve){ve&&y(e),ve&&y(n),ve&&y(l),oe(f),oe(k),ve&&y(R),ve&&y(w),qe&&qe.d(),ye&&ye.d(),Je=!1,nt(at)}}}function If(t){let e,n,l,i,o,u,m;return{c(){e=c("div"),n=E("Vcc"),l=c("br"),i=b(),o=c("input"),a(o,"name","ivp"),a(o,"type","number"),a(o,"min","0"),a(o,"max",t[6]),a(o,"class","in-s tr w-full"),a(e,"class","my-1 pl-1 w-1/3")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(e,i),s(e,o),ue(o,t[3].i.v.p),u||(m=Q(o,"input",t[91]),u=!0)},p(r,f){f[0]&64&&a(o,"max",r[6]),f[0]&8&&Se(o.value)!==r[3].i.v.p&&ue(o,r[3].i.v.p)},d(r){r&&y(e),u=!1,m()}}}function Rf(t){let e,n,l,i,o,u,m,r,f,p;return{c(){e=c("div"),n=E("Voltage divider"),l=c("br"),i=b(),o=c("div"),u=c("input"),m=b(),r=c("input"),a(u,"name","ivdv"),a(u,"type","number"),a(u,"min","0"),a(u,"max","65535"),a(u,"class","in-f tr w-full"),a(u,"placeholder","VCC"),a(r,"name","ivdg"),a(r,"type","number"),a(r,"min","0"),a(r,"max","65535"),a(r,"class","in-l tr w-full"),a(r,"placeholder","GND"),a(o,"class","flex"),a(e,"class","my-1")},m(_,v){M(_,e,v),s(e,n),s(e,l),s(e,i),s(e,o),s(o,u),ue(u,t[3].i.v.d.v),s(o,m),s(o,r),ue(r,t[3].i.v.d.g),f||(p=[Q(u,"input",t[92]),Q(r,"input",t[93])],f=!0)},p(_,v){v[0]&8&&Se(u.value)!==_[3].i.v.d.v&&ue(u,_[3].i.v.d.v),v[0]&8&&Se(r.value)!==_[3].i.v.d.g&&ue(r,_[3].i.v.d.g)},d(_){_&&y(e),f=!1,nt(p)}}}function Ff(t){let e,n,l,i,o,u,m;return{c(){e=c("div"),n=E(`LED behaviour
                `),l=c("select"),i=c("option"),i.textContent="Enabled",o=c("option"),o.textContent="Disabled",i.__value=0,i.value=i.__value,o.__value=1,o.value=o.__value,a(l,"name","idb"),a(l,"class","in-s"),t[3].i.d.b===void 0&&Ze(()=>t[94].call(l)),a(e,"class","my-1 w-full")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(l,i),s(l,o),Te(l,t[3].i.d.b,!0),u||(m=Q(l,"change",t[94]),u=!0)},p(r,f){f[0]&8&&Te(l,r[3].i.d.b)},d(r){r&&y(e),u=!1,m()}}}function Of(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T=(t[0].board==2||t[0].board==100)&&qf(t);return{c(){e=c("input"),n=b(),l=c("div"),i=c("div"),o=E("Vcc offset"),u=c("br"),m=b(),r=c("input"),f=b(),p=c("div"),_=E("Multiplier"),v=c("br"),h=b(),d=c("input"),g=b(),T&&T.c(),a(e,"type","hidden"),a(e,"name","iv"),e.value="true",a(r,"name","ivo"),a(r,"type","number"),a(r,"min","0.0"),a(r,"max","3.5"),a(r,"step","0.01"),a(r,"class","in-f tr w-full"),a(i,"class","w-1/3"),a(d,"name","ivm"),a(d,"type","number"),a(d,"min","0.1"),a(d,"max","10"),a(d,"step","0.01"),a(d,"class","in-l tr w-full"),a(p,"class","w-1/3 pr-1"),a(l,"class","my-1 flex flex-wrap")},m(P,F){M(P,e,F),M(P,n,F),M(P,l,F),s(l,i),s(i,o),s(i,u),s(i,m),s(i,r),ue(r,t[3].i.v.o),s(l,f),s(l,p),s(p,_),s(p,v),s(p,h),s(p,d),ue(d,t[3].i.v.m),s(l,g),T&&T.m(l,null),k||(A=[Q(r,"input",t[95]),Q(d,"input",t[96])],k=!0)},p(P,F){F[0]&8&&Se(r.value)!==P[3].i.v.o&&ue(r,P[3].i.v.o),F[0]&8&&Se(d.value)!==P[3].i.v.m&&ue(d,P[3].i.v.m),P[0].board==2||P[0].board==100?T?T.p(P,F):(T=qf(P),T.c(),T.m(l,null)):T&&(T.d(1),T=null)},d(P){P&&y(e),P&&y(n),P&&y(l),T&&T.d(),k=!1,nt(A)}}}function qf(t){let e,n,l,i,o,u,m;return{c(){e=c("div"),n=E("Boot limit"),l=c("br"),i=b(),o=c("input"),a(o,"name","ivb"),a(o,"type","number"),a(o,"min","2.5"),a(o,"max","3.5"),a(o,"step","0.1"),a(o,"class","in-s tr w-full"),a(e,"class","w-1/3 pl-1")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(e,i),s(e,o),ue(o,t[3].i.v.b),u||(m=Q(o,"input",t[97]),u=!0)},p(r,f){f[0]&8&&Se(o.value)!==r[3].i.v.b&&ue(o,r[3].i.v.b)},d(r){r&&y(e),u=!1,m()}}}function Bf(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A=t[3].d.t&&Uf();return{c(){e=c("div"),e.textContent="Debug can cause sudden reboots. Do not leave on!",n=b(),l=c("div"),i=c("label"),o=c("input"),u=E(" Enable telnet"),m=b(),A&&A.c(),r=b(),f=c("div"),p=c("select"),_=c("option"),_.textContent="Verbose",v=c("option"),v.textContent="Debug",h=c("option"),h.textContent="Info",d=c("option"),d.textContent="Warning",a(e,"class","bd-red"),a(o,"type","checkbox"),a(o,"name","dt"),o.__value="true",o.value=o.__value,a(o,"class","rounded mb-1"),a(l,"class","my-1"),_.__value=1,_.value=_.__value,v.__value=2,v.value=v.__value,h.__value=3,h.value=h.__value,d.__value=4,d.value=d.__value,a(p,"name","dl"),a(p,"class","in-s"),t[3].d.l===void 0&&Ze(()=>t[100].call(p)),a(f,"class","my-1")},m(T,P){M(T,e,P),M(T,n,P),M(T,l,P),s(l,i),s(i,o),o.checked=t[3].d.t,s(i,u),M(T,m,P),A&&A.m(T,P),M(T,r,P),M(T,f,P),s(f,p),s(p,_),s(p,v),s(p,h),s(p,d),Te(p,t[3].d.l,!0),g||(k=[Q(o,"change",t[99]),Q(p,"change",t[100])],g=!0)},p(T,P){P[0]&8&&(o.checked=T[3].d.t),T[3].d.t?A||(A=Uf(),A.c(),A.m(r.parentNode,r)):A&&(A.d(1),A=null),P[0]&8&&Te(p,T[3].d.l)},d(T){T&&y(e),T&&y(n),T&&y(l),T&&y(m),A&&A.d(T),T&&y(r),T&&y(f),g=!1,nt(k)}}}function Uf(t){let e;return{c(){e=c("div"),e.textContent="Telnet is unsafe and should be off when not in use",a(e,"class","bd-red")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function Q_(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I,R,w,$,ie,j,U,H,G,V,K,Z,z,W,x,_e,ne,me,Y,ke,Ee,we,Me,te,fe,Oe,Ie,N,C,S,D,O,J,le,pe,ge,Ae,Fe,ce,Pe,ze,ct,Ke,rt,Ge,mt,Ue,Nt,_t,dt,et,Re,tt,Le,Je,at,qe,ye,ve,de,Ve,re,Qe,ee,st,$i,oi,Cl,Di,Li,Ii,Et,Ri,Xe,pn,Fi,$l,Dl,Oi,Wl,qi,zl,Bi,xe,Pt,Gl,Ts,Qt,Xt,Ll,Ui,cl,ji,$o,Ns,Do,ai,tl,Lo,Io,Il,ml,Rl,Ro,Hi,Fo,Mt,Fl,Oo,Wi,dn,hn,vn,bn,zi,qo,Ht,Gi,Bo,Vl,Uo,jo,Ho,_l,gn,kn,Wo,wn,Kl,zo,Go,Vo,Cn,ll,Ko,Vi,Yo,Yl,Qo,Xo,Zo,yn,nl,Jo,Ki,xo,Es,ea,Ql,Yi,il,ta,la,na,Ps,Qi,sl,ia,sa,oa,Wt,Xi,aa,Mn,Sn,ra,ri,ua,Xl,fa,ca,ma,Zt,Tn,Nn,_a,pa,Ct,Zi,da,En,Pn,ha,Zl,va,ba,ga,Ol,pl,An,$n,ka,zt,Ji,xi,wa,Gt,Dn,es,ts,Ca,As,ls,ns,ol,ya,Ma,ui,Sa,ql,Ta,fi,al,Na,Ea,Pa,is,yl,Aa,ut,ss,$a,Ln,In,Da,ci,La,dl,Ia,$s,Ra,Fa,Rn,Ml,Oa,rl,qa,Ds,Jl,Ba,Ua,ja,Sl,Ha,xl,Wa,za,Ga,Tl,Va,Fn,On,Ka,Ya,Qa,Nl,Xa,qn,Za,Ja,xa,At,Bn,Un,jn,Hn,Wn,zn,er,en,tr,lr,nr,El,ir,Ls,Is,Rs,Fs=t[3].p.r.startsWith("10YNO")||t[3].p.r.startsWith("10Y1001A1001A4"),Os,hl,os,sr,Gn,Vn,or,mi,ar,_i,rr,qs,Vt,as,ur,Kn,Yn,fr,pi,cr,rs,us,ul,mr,_r,pr,Bl,Bs,Qn,dr,fs,Xn,hr,cs,Us,tn,js,ln,Hs,nn,Ws,sn,Jt,zs,vr;m=new Ut({}),$=new M_({});let M0=["NOK","SEK","DKK","EUR","CHF"],di=[];for(let B=0;B<5;B+=1)di[B]=I_(L_(t,M0,B));dt=new el({props:{to:"/priceconfig",class:"text-blue-600 hover:text-blue-800",$$slots:{default:[R_]},$$scope:{ctx:t}}});let $t=t[3].p.e&&t[0].chip!="esp8266"&&pf(t),Dt=t[3].g.s>0&&df(t);Dl=new Ut({});let S0=[24,48,96,192,384,576,1152],hi=[];for(let B=0;B<7;B+=1)hi[B]=F_(D_(t,S0,B));let Lt=t[3].m.e.e&&hf(t),It=t[3].m.e.e&&vf(t),Rt=t[3].m.m.e&&bf(t);Sn=new Ut({});let Kt=t[0].if&&t[0].if.eth&&gf(),Ft=(t[3].n.c==1||t[3].n.c==2)&&kf(t);Pn=new Ut({}),Dn=new C0({});let Ot=t[3].n.m=="static"&&wf(t);In=new Ut({});let qt=t[0].chip!="esp8266"&&Cf(t),ht=t[3].q.s.e&&yf(t),vt=t[3].q.m==3&&Mf(t),bt=t[3].q.m==4&&Sf(t),gt=t[3].c.es!=null&&Tf(t),kt=Fs&&Pf(t);Vn=new Ut({});let Zn=t[7],St=[];for(let B=0;B<Zn.length;B+=1)St[B]=$f(mf(t,Zn,B));let wt=(t[0].board>20||t[0].chip=="esp8266"||t[3].i.d.d>0)&&Df(t);Yn=new Ut({});let Bt=t[3].d.s&&Bf(t);return tn=new Tt({props:{active:t[1],message:"Loading configuration"}}),ln=new Tt({props:{active:t[2],message:"Saving configuration"}}),nn=new Tt({props:{active:t[4],message:"Performing factory reset"}}),sn=new Tt({props:{active:t[5],message:"Device have been factory reset and switched to AP mode"}}),{c(){e=c("form"),n=c("div"),l=c("div"),i=c("strong"),i.textContent="General",o=b(),u=c("a"),ae(m.$$.fragment),r=b(),f=c("input"),p=b(),_=c("div"),v=c("div"),h=c("div"),d=E("Hostname"),g=c("br"),k=b(),A=c("input"),T=b(),P=c("div"),F=E("Time zone"),I=c("br"),R=b(),w=c("select"),ae($.$$.fragment),ie=b(),j=c("input"),U=b(),H=c("div"),G=c("div"),V=c("div"),K=E("Price region"),Z=c("br"),z=b(),W=c("select"),x=c("optgroup"),_e=c("option"),_e.textContent="NO1",ne=c("option"),ne.textContent="NO2",me=c("option"),me.textContent="NO3",Y=c("option"),Y.textContent="NO4",ke=c("option"),ke.textContent="NO5",Ee=c("optgroup"),we=c("option"),we.textContent="SE1",Me=c("option"),Me.textContent="SE2",te=c("option"),te.textContent="SE3",fe=c("option"),fe.textContent="SE4",Oe=c("optgroup"),Ie=c("option"),Ie.textContent="DK1",N=c("option"),N.textContent="DK2",C=c("option"),C.textContent="Austria",S=c("option"),S.textContent="Belgium",D=c("option"),D.textContent="Czech Republic",O=c("option"),O.textContent="Estonia",J=c("option"),J.textContent="Finland",le=c("option"),le.textContent="France",pe=c("option"),pe.textContent="Germany",ge=c("option"),ge.textContent="Great Britain",Ae=c("option"),Ae.textContent="Latvia",Fe=c("option"),Fe.textContent="Lithuania",ce=c("option"),ce.textContent="Netherland",Pe=c("option"),Pe.textContent="Poland",ze=c("option"),ze.textContent="Switzerland",ct=b(),Ke=c("div"),rt=E("Currency"),Ge=c("br"),mt=b(),Ue=c("select");for(let B=0;B<5;B+=1)di[B].c();Nt=b(),_t=c("div"),ae(dt.$$.fragment),et=b(),Re=c("div"),tt=c("label"),Le=c("input"),Je=E(" Enable price fetch from remote server"),at=b(),$t&&$t.c(),qe=b(),ye=c("div"),ve=E("Security"),de=c("br"),Ve=b(),re=c("select"),Qe=c("option"),Qe.textContent="None",ee=c("option"),ee.textContent="Only configuration",st=c("option"),st.textContent="Everything",$i=b(),Dt&&Dt.c(),oi=b(),Cl=c("div"),Di=E("Context"),Li=c("br"),Ii=b(),Et=c("input"),Ri=b(),Xe=c("div"),pn=c("strong"),pn.textContent="Meter",Fi=b(),$l=c("a"),ae(Dl.$$.fragment),Oi=b(),Wl=c("input"),qi=b(),zl=c("input"),Bi=b(),xe=c("div"),Pt=E("Communication"),Gl=c("br"),Ts=b(),Qt=c("select"),Xt=c("option"),Xt.textContent="Passive (Push)",Ll=c("option"),Ll.textContent="Kamstrup (Pull)",Ui=b(),cl=c("div"),ji=c("span"),ji.textContent="Buffer size",$o=b(),Ns=c("span"),Ns.textContent="Serial conf.",Do=b(),ai=c("label"),tl=c("input"),Lo=E(" inverted"),Io=b(),Il=c("div"),ml=c("select"),Rl=c("option"),Ro=E("Autodetect");for(let B=0;B<7;B+=1)hi[B].c();Fo=b(),Mt=c("select"),Fl=c("option"),Oo=E("-"),dn=c("option"),dn.textContent="7N1",hn=c("option"),hn.textContent="8N1",vn=c("option"),vn.textContent="7E1",bn=c("option"),bn.textContent="8E1",qo=b(),Ht=c("input"),Bo=b(),Vl=c("div"),Uo=E("Voltage"),jo=c("br"),Ho=b(),_l=c("select"),gn=c("option"),gn.textContent="400V (TN)",kn=c("option"),kn.textContent="230V (IT/TT)",Wo=b(),wn=c("div"),Kl=c("div"),zo=E("Main fuse"),Go=c("br"),Vo=b(),Cn=c("label"),ll=c("input"),Ko=b(),Vi=c("span"),Vi.textContent="A",Yo=b(),Yl=c("div"),Qo=E("Production"),Xo=c("br"),Zo=b(),yn=c("label"),nl=c("input"),Jo=b(),Ki=c("span"),Ki.textContent="kWp",xo=b(),Es=c("div"),ea=b(),Ql=c("div"),Yi=c("label"),il=c("input"),ta=E(" Meter is encrypted"),la=b(),Lt&&Lt.c(),na=b(),It&&It.c(),Ps=b(),Qi=c("label"),sl=c("input"),ia=E(" Multipliers"),sa=b(),Rt&&Rt.c(),oa=b(),Wt=c("div"),Xi=c("strong"),Xi.textContent="Connection",aa=b(),Mn=c("a"),ae(Sn.$$.fragment),ra=b(),ri=c("input"),ua=b(),Xl=c("div"),fa=E("Connection"),ca=c("br"),ma=b(),Zt=c("select"),Tn=c("option"),Tn.textContent="WiFi",Nn=c("option"),Nn.textContent="Access point",Kt&&Kt.c(),_a=b(),Ft&&Ft.c(),pa=b(),Ct=c("div"),Zi=c("strong"),Zi.textContent="Network",da=b(),En=c("a"),ae(Pn.$$.fragment),ha=b(),Zl=c("div"),va=E("IP"),ba=c("br"),ga=b(),Ol=c("div"),pl=c("select"),An=c("option"),An.textContent="DHCP",$n=c("option"),$n.textContent="Static",ka=b(),zt=c("input"),wa=b(),Gt=c("select"),ae(Dn.$$.fragment),Ca=b(),Ot&&Ot.c(),As=b(),ls=c("div"),ns=c("label"),ol=c("input"),ya=E(" enable mDNS"),Ma=b(),ui=c("input"),Sa=b(),ql=c("div"),Ta=E("NTP "),fi=c("label"),al=c("input"),Na=E(" obtain from DHCP"),Ea=c("br"),Pa=b(),is=c("div"),yl=c("input"),Aa=b(),ut=c("div"),ss=c("strong"),ss.textContent="MQTT",$a=b(),Ln=c("a"),ae(In.$$.fragment),Da=b(),ci=c("input"),La=b(),dl=c("div"),Ia=E(`Server
                `),qt&&qt.c(),$s=b(),Ra=c("br"),Fa=b(),Rn=c("div"),Ml=c("input"),Oa=b(),rl=c("input"),qa=b(),ht&&ht.c(),Ds=b(),Jl=c("div"),Ba=E("Username"),Ua=c("br"),ja=b(),Sl=c("input"),Ha=b(),xl=c("div"),Wa=E("Password"),za=c("br"),Ga=b(),Tl=c("input"),Va=b(),Fn=c("div"),On=c("div"),Ka=E("Client ID"),Ya=c("br"),Qa=b(),Nl=c("input"),Xa=b(),qn=c("div"),Za=E("Payload"),Ja=c("br"),xa=b(),At=c("select"),Bn=c("option"),Bn.textContent="JSON",Un=c("option"),Un.textContent="Raw (minimal)",jn=c("option"),jn.textContent="Raw (full)",Hn=c("option"),Hn.textContent="Domoticz",Wn=c("option"),Wn.textContent="HomeAssistant",zn=c("option"),zn.textContent="HEX dump",er=b(),en=c("div"),tr=E("Publish topic"),lr=c("br"),nr=b(),El=c("input"),ir=b(),vt&&vt.c(),Ls=b(),bt&&bt.c(),Is=b(),gt&&gt.c(),Rs=b(),kt&&kt.c(),Os=b(),hl=c("div"),os=c("strong"),os.textContent="User interface",sr=b(),Gn=c("a"),ae(Vn.$$.fragment),or=b(),mi=c("input"),ar=b(),_i=c("div");for(let B=0;B<St.length;B+=1)St[B].c();rr=b(),wt&&wt.c(),qs=b(),Vt=c("div"),as=c("strong"),as.textContent="Debugging",ur=b(),Kn=c("a"),ae(Yn.$$.fragment),fr=b(),pi=c("input"),cr=b(),rs=c("div"),us=c("label"),ul=c("input"),mr=E(" Enable debugging"),_r=b(),Bt&&Bt.c(),pr=b(),Bl=c("div"),Bs=c("div"),Qn=c("button"),Qn.textContent="Factory reset",dr=b(),fs=c("div"),Xn=c("button"),Xn.textContent="Reboot",hr=b(),cs=c("div"),cs.innerHTML='<button type="submit" class="btn-pri">Save</button>',Us=b(),ae(tn.$$.fragment),js=b(),ae(ln.$$.fragment),Hs=b(),ae(nn.$$.fragment),Ws=b(),ae(sn.$$.fragment),a(i,"class","text-sm"),a(u,"href",jt("General-configuration")),a(u,"target","_blank"),a(u,"class","float-right"),a(f,"type","hidden"),a(f,"name","g"),f.value="true",a(A,"name","gh"),a(A,"type","text"),a(A,"class","in-f w-full"),a(A,"pattern","[A-Za-z0-9-]+"),a(w,"name","gt"),a(w,"class","in-l w-full"),t[3].g.t===void 0&&Ze(()=>t[17].call(w)),a(v,"class","flex"),a(_,"class","my-1"),a(j,"type","hidden"),a(j,"name","p"),j.value="true",_e.__value="10YNO-1--------2",_e.value=_e.__value,ne.__value="10YNO-2--------T",ne.value=ne.__value,me.__value="10YNO-3--------J",me.value=me.__value,Y.__value="10YNO-4--------9",Y.value=Y.__value,ke.__value="10Y1001A1001A48H",ke.value=ke.__value,a(x,"label","Norway"),we.__value="10Y1001A1001A44P",we.value=we.__value,Me.__value="10Y1001A1001A45N",Me.value=Me.__value,te.__value="10Y1001A1001A46L",te.value=te.__value,fe.__value="10Y1001A1001A47J",fe.value=fe.__value,a(Ee,"label","Sweden"),Ie.__value="10YDK-1--------W",Ie.value=Ie.__value,N.__value="10YDK-2--------M",N.value=N.__value,a(Oe,"label","Denmark"),C.__value="10YAT-APG------L",C.value=C.__value,S.__value="10YBE----------2",S.value=S.__value,D.__value="10YCZ-CEPS-----N",D.value=D.__value,O.__value="10Y1001A1001A39I",O.value=O.__value,J.__value="10YFI-1--------U",J.value=J.__value,le.__value="10YFR-RTE------C",le.value=le.__value,pe.__value="10Y1001A1001A83F",pe.value=pe.__value,ge.__value="10YGB----------A",ge.value=ge.__value,Ae.__value="10YLV-1001A00074",Ae.value=Ae.__value,Fe.__value="10YLT-1001A0008Q",Fe.value=Fe.__value,ce.__value="10YNL----------L",ce.value=ce.__value,Pe.__value="10YPL-AREA-----S",Pe.value=Pe.__value,ze.__value="10YCH-SWISSGRIDZ",ze.value=ze.__value,a(W,"name","pr"),a(W,"class","in-f w-full"),t[3].p.r===void 0&&Ze(()=>t[18].call(W)),a(V,"class","w-full"),a(Ue,"name","pc"),a(Ue,"class","in-l"),t[3].p.c===void 0&&Ze(()=>t[19].call(Ue)),a(G,"class","flex"),a(H,"class","my-1"),a(_t,"class","my-1"),a(Le,"type","checkbox"),a(Le,"name","pe"),Le.__value="true",Le.value=Le.__value,a(Le,"class","rounded mb-1"),a(Re,"class","my-1"),Qe.__value=0,Qe.value=Qe.__value,ee.__value=1,ee.value=ee.__value,st.__value=2,st.value=st.__value,a(re,"name","gs"),a(re,"class","in-s"),t[3].g.s===void 0&&Ze(()=>t[22].call(re)),a(ye,"class","my-1"),a(Et,"name","gc"),a(Et,"type","text"),a(Et,"pattern","[A-Za-z0-9]+"),a(Et,"placeholder","[root]"),a(Et,"class","in-s"),a(Et,"maxlength","36"),a(Cl,"class","my-1"),a(l,"class","cnt"),a(pn,"class","text-sm"),a($l,"href",jt("Meter-configuration")),a($l,"target","_blank"),a($l,"class","float-right"),a(Wl,"type","hidden"),a(Wl,"name","m"),Wl.value="true",a(zl,"type","hidden"),a(zl,"name","mo"),zl.value="1",Xt.__value=0,Xt.value=Xt.__value,Ll.__value=9,Ll.value=Ll.__value,a(Qt,"name","ma"),a(Qt,"class","in-s"),t[3].m.a===void 0&&Ze(()=>t[26].call(Qt)),a(xe,"class","my-1"),a(ji,"class","float-right"),a(tl,"name","mi"),tl.__value="true",tl.value=tl.__value,a(tl,"type","checkbox"),a(tl,"class","rounded mb-1"),a(ai,"class","mt-2 ml-3 whitespace-nowrap"),Rl.__value=0,Rl.value=Rl.__value,Rl.disabled=Hi=t[3].m.b!=0,a(ml,"name","mb"),a(ml,"class","in-f tr w-1/2"),t[3].m.b===void 0&&Ze(()=>t[28].call(ml)),Fl.__value=0,Fl.value=Fl.__value,Fl.disabled=Wi=t[3].m.b!=0,dn.__value=2,dn.value=dn.__value,hn.__value=3,hn.value=hn.__value,vn.__value=10,vn.value=vn.__value,bn.__value=11,bn.value=bn.__value,a(Mt,"name","mp"),a(Mt,"class","in-m"),Mt.disabled=zi=t[3].m.b==0,t[3].m.p===void 0&&Ze(()=>t[29].call(Mt)),a(Ht,"name","ms"),a(Ht,"type","number"),a(Ht,"min",64),a(Ht,"max",Gi=t[0].chip=="esp8266"?t[3].i.h.p==3||t[3].i.h.p==113?512:128:4096),a(Ht,"step",64),a(Ht,"class","in-l tr w-1/2"),a(Il,"class","flex w-full"),a(cl,"class","my-1"),gn.__value=2,gn.value=gn.__value,kn.__value=1,kn.value=kn.__value,a(_l,"name","md"),a(_l,"class","in-s"),t[3].m.d===void 0&&Ze(()=>t[31].call(_l)),a(Vl,"class","my-1"),a(ll,"name","mf"),a(ll,"type","number"),a(ll,"min","5"),a(ll,"max","65535"),a(ll,"class","in-f tr w-full"),a(Vi,"class","in-post"),a(Cn,"class","flex"),a(Kl,"class","mx-1"),a(nl,"name","mr"),a(nl,"type","number"),a(nl,"min","0"),a(nl,"max","65535"),a(nl,"class","in-f tr w-full"),a(Ki,"class","in-post"),a(yn,"class","flex"),a(Yl,"class","mx-1"),a(wn,"class","my-1 flex"),a(Es,"class","my-1"),a(il,"type","checkbox"),a(il,"name","me"),il.__value="true",il.value=il.__value,a(il,"class","rounded mb-1"),a(Ql,"class","my-1"),a(sl,"type","checkbox"),a(sl,"name","mm"),sl.__value="true",sl.value=sl.__value,a(sl,"class","rounded mb-1"),a(Xe,"class","cnt"),a(Xi,"class","text-sm"),a(Mn,"href",jt("WiFi-configuration")),a(Mn,"target","_blank"),a(Mn,"class","float-right"),a(ri,"type","hidden"),a(ri,"name","w"),ri.value="true",Tn.__value=1,Tn.value=Tn.__value,Nn.__value=2,Nn.value=Nn.__value,a(Zt,"name","nc"),a(Zt,"class","in-s"),t[3].n.c===void 0&&Ze(()=>t[42].call(Zt)),a(Xl,"class","my-1"),a(Wt,"class","cnt"),a(Zi,"class","text-sm"),a(En,"href",jt("Network-configuration")),a(En,"target","_blank"),a(En,"class","float-right"),An.__value="dhcp",An.value=An.__value,$n.__value="static",$n.value=$n.__value,a(pl,"name","nm"),a(pl,"class","in-f"),t[3].n.m===void 0&&Ze(()=>t[48].call(pl)),a(zt,"name","ni"),a(zt,"type","text"),a(zt,"class","in-m w-full"),zt.disabled=Ji=t[3].n.m=="dhcp",zt.required=xi=t[3].n.m=="static",a(Gt,"name","ns"),a(Gt,"class","in-l"),Gt.disabled=es=t[3].n.m=="dhcp",Gt.required=ts=t[3].n.m=="static",t[3].n.s===void 0&&Ze(()=>t[50].call(Gt)),a(Ol,"class","flex"),a(Zl,"class","my-1"),a(ol,"name","nd"),ol.__value="true",ol.value=ol.__value,a(ol,"type","checkbox"),a(ol,"class","rounded mb-1"),a(ls,"class","my-1"),a(ui,"type","hidden"),a(ui,"name","ntp"),ui.value="true",a(al,"name","ntpd"),al.__value="true",al.value=al.__value,a(al,"type","checkbox"),a(al,"class","rounded mb-1"),a(fi,"class","ml-4"),a(yl,"name","ntph"),a(yl,"type","text"),a(yl,"class","in-s"),a(is,"class","flex"),a(ql,"class","my-1"),a(Ct,"class","cnt"),a(ss,"class","text-sm"),a(Ln,"href",jt("MQTT-configuration")),a(Ln,"target","_blank"),a(Ln,"class","float-right"),a(ci,"type","hidden"),a(ci,"name","q"),ci.value="true",a(Ml,"name","qh"),a(Ml,"type","text"),a(Ml,"class","in-f w-3/4"),a(rl,"name","qp"),a(rl,"type","number"),a(rl,"min","1024"),a(rl,"max","65535"),a(rl,"class","in-l tr w-1/4"),a(Rn,"class","flex"),a(dl,"class","my-1"),a(Sl,"name","qu"),a(Sl,"type","text"),a(Sl,"class","in-s"),a(Jl,"class","my-1"),a(Tl,"name","qa"),a(Tl,"type","password"),a(Tl,"class","in-s"),a(xl,"class","my-1"),a(Nl,"name","qc"),a(Nl,"type","text"),a(Nl,"class","in-f w-full"),Bn.__value=0,Bn.value=Bn.__value,Un.__value=1,Un.value=Un.__value,jn.__value=2,jn.value=jn.__value,Hn.__value=3,Hn.value=Hn.__value,Wn.__value=4,Wn.value=Wn.__value,zn.__value=255,zn.value=zn.__value,a(At,"name","qm"),a(At,"class","in-l"),t[3].q.m===void 0&&Ze(()=>t[63].call(At)),a(Fn,"class","my-1 flex"),a(El,"name","qb"),a(El,"type","text"),a(El,"class","in-s"),a(en,"class","my-1"),a(ut,"class","cnt"),a(os,"class","text-sm"),a(Gn,"href",jt("User-interface")),a(Gn,"target","_blank"),a(Gn,"class","float-right"),a(mi,"type","hidden"),a(mi,"name","u"),mi.value="true",a(_i,"class","flex flex-wrap"),a(hl,"class","cnt"),a(as,"class","text-sm"),a(Kn,"href","https://amsleser.no/blog/post/24-telnet-debug"),a(Kn,"target","_blank"),a(Kn,"class","float-right"),a(pi,"type","hidden"),a(pi,"name","d"),pi.value="true",a(ul,"type","checkbox"),a(ul,"name","ds"),ul.__value="true",ul.value=ul.__value,a(ul,"class","rounded mb-1"),a(rs,"class","mt-3"),a(Vt,"class","cnt"),a(n,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),a(Qn,"type","button"),a(Qn,"class","btn-red"),a(Xn,"type","button"),a(Xn,"class","btn-yellow"),a(fs,"class","text-center"),a(cs,"class","text-right"),a(Bl,"class","grid grid-cols-3 mt-3"),a(e,"autocomplete","off")},m(B,he){M(B,e,he),s(e,n),s(n,l),s(l,i),s(l,o),s(l,u),se(m,u,null),s(l,r),s(l,f),s(l,p),s(l,_),s(_,v),s(v,h),s(h,d),s(h,g),s(h,k),s(h,A),ue(A,t[3].g.h),s(v,T),s(v,P),s(P,F),s(P,I),s(P,R),s(P,w),se($,w,null),Te(w,t[3].g.t,!0),s(l,ie),s(l,j),s(l,U),s(l,H),s(H,G),s(G,V),s(V,K),s(V,Z),s(V,z),s(V,W),s(W,x),s(x,_e),s(x,ne),s(x,me),s(x,Y),s(x,ke),s(W,Ee),s(Ee,we),s(Ee,Me),s(Ee,te),s(Ee,fe),s(W,Oe),s(Oe,Ie),s(Oe,N),s(W,C),s(W,S),s(W,D),s(W,O),s(W,J),s(W,le),s(W,pe),s(W,ge),s(W,Ae),s(W,Fe),s(W,ce),s(W,Pe),s(W,ze),Te(W,t[3].p.r,!0),s(G,ct),s(G,Ke),s(Ke,rt),s(Ke,Ge),s(Ke,mt),s(Ke,Ue);for(let yt=0;yt<5;yt+=1)di[yt]&&di[yt].m(Ue,null);Te(Ue,t[3].p.c,!0),s(l,Nt),s(l,_t),se(dt,_t,null),s(l,et),s(l,Re),s(Re,tt),s(tt,Le),Le.checked=t[3].p.e,s(tt,Je),s(Re,at),$t&&$t.m(Re,null),s(l,qe),s(l,ye),s(ye,ve),s(ye,de),s(ye,Ve),s(ye,re),s(re,Qe),s(re,ee),s(re,st),Te(re,t[3].g.s,!0),s(l,$i),Dt&&Dt.m(l,null),s(l,oi),s(l,Cl),s(Cl,Di),s(Cl,Li),s(Cl,Ii),s(Cl,Et),ue(Et,t[3].g.c),s(n,Ri),s(n,Xe),s(Xe,pn),s(Xe,Fi),s(Xe,$l),se(Dl,$l,null),s(Xe,Oi),s(Xe,Wl),s(Xe,qi),s(Xe,zl),s(Xe,Bi),s(Xe,xe),s(xe,Pt),s(xe,Gl),s(xe,Ts),s(xe,Qt),s(Qt,Xt),s(Qt,Ll),Te(Qt,t[3].m.a,!0),s(Xe,Ui),s(Xe,cl),s(cl,ji),s(cl,$o),s(cl,Ns),s(cl,Do),s(cl,ai),s(ai,tl),tl.checked=t[3].m.i,s(ai,Lo),s(cl,Io),s(cl,Il),s(Il,ml),s(ml,Rl),s(Rl,Ro);for(let yt=0;yt<7;yt+=1)hi[yt]&&hi[yt].m(ml,null);Te(ml,t[3].m.b,!0),s(Il,Fo),s(Il,Mt),s(Mt,Fl),s(Fl,Oo),s(Mt,dn),s(Mt,hn),s(Mt,vn),s(Mt,bn),Te(Mt,t[3].m.p,!0),s(Il,qo),s(Il,Ht),ue(Ht,t[3].m.s),s(Xe,Bo),s(Xe,Vl),s(Vl,Uo),s(Vl,jo),s(Vl,Ho),s(Vl,_l),s(_l,gn),s(_l,kn),Te(_l,t[3].m.d,!0),s(Xe,Wo),s(Xe,wn),s(wn,Kl),s(Kl,zo),s(Kl,Go),s(Kl,Vo),s(Kl,Cn),s(Cn,ll),ue(ll,t[3].m.f),s(Cn,Ko),s(Cn,Vi),s(wn,Yo),s(wn,Yl),s(Yl,Qo),s(Yl,Xo),s(Yl,Zo),s(Yl,yn),s(yn,nl),ue(nl,t[3].m.r),s(yn,Jo),s(yn,Ki),s(Xe,xo),s(Xe,Es),s(Xe,ea),s(Xe,Ql),s(Ql,Yi),s(Yi,il),il.checked=t[3].m.e.e,s(Yi,ta),s(Ql,la),Lt&&Lt.m(Ql,null),s(Xe,na),It&&It.m(Xe,null),s(Xe,Ps),s(Xe,Qi),s(Qi,sl),sl.checked=t[3].m.m.e,s(Qi,ia),s(Xe,sa),Rt&&Rt.m(Xe,null),s(n,oa),s(n,Wt),s(Wt,Xi),s(Wt,aa),s(Wt,Mn),se(Sn,Mn,null),s(Wt,ra),s(Wt,ri),s(Wt,ua),s(Wt,Xl),s(Xl,fa),s(Xl,ca),s(Xl,ma),s(Xl,Zt),s(Zt,Tn),s(Zt,Nn),Kt&&Kt.m(Zt,null),Te(Zt,t[3].n.c,!0),s(Wt,_a),Ft&&Ft.m(Wt,null),s(n,pa),s(n,Ct),s(Ct,Zi),s(Ct,da),s(Ct,En),se(Pn,En,null),s(Ct,ha),s(Ct,Zl),s(Zl,va),s(Zl,ba),s(Zl,ga),s(Zl,Ol),s(Ol,pl),s(pl,An),s(pl,$n),Te(pl,t[3].n.m,!0),s(Ol,ka),s(Ol,zt),ue(zt,t[3].n.i),s(Ol,wa),s(Ol,Gt),se(Dn,Gt,null),Te(Gt,t[3].n.s,!0),s(Ct,Ca),Ot&&Ot.m(Ct,null),s(Ct,As),s(Ct,ls),s(ls,ns),s(ns,ol),ol.checked=t[3].n.d,s(ns,ya),s(Ct,Ma),s(Ct,ui),s(Ct,Sa),s(Ct,ql),s(ql,Ta),s(ql,fi),s(fi,al),al.checked=t[3].n.h,s(fi,Na),s(ql,Ea),s(ql,Pa),s(ql,is),s(is,yl),ue(yl,t[3].n.n1),s(n,Aa),s(n,ut),s(ut,ss),s(ut,$a),s(ut,Ln),se(In,Ln,null),s(ut,Da),s(ut,ci),s(ut,La),s(ut,dl),s(dl,Ia),qt&&qt.m(dl,null),s(dl,$s),s(dl,Ra),s(dl,Fa),s(dl,Rn),s(Rn,Ml),ue(Ml,t[3].q.h),s(Rn,Oa),s(Rn,rl),ue(rl,t[3].q.p),s(ut,qa),ht&&ht.m(ut,null),s(ut,Ds),s(ut,Jl),s(Jl,Ba),s(Jl,Ua),s(Jl,ja),s(Jl,Sl),ue(Sl,t[3].q.u),s(ut,Ha),s(ut,xl),s(xl,Wa),s(xl,za),s(xl,Ga),s(xl,Tl),ue(Tl,t[3].q.a),s(ut,Va),s(ut,Fn),s(Fn,On),s(On,Ka),s(On,Ya),s(On,Qa),s(On,Nl),ue(Nl,t[3].q.c),s(Fn,Xa),s(Fn,qn),s(qn,Za),s(qn,Ja),s(qn,xa),s(qn,At),s(At,Bn),s(At,Un),s(At,jn),s(At,Hn),s(At,Wn),s(At,zn),Te(At,t[3].q.m,!0),s(ut,er),s(ut,en),s(en,tr),s(en,lr),s(en,nr),s(en,El),ue(El,t[3].q.b),s(n,ir),vt&&vt.m(n,null),s(n,Ls),bt&&bt.m(n,null),s(n,Is),gt&&gt.m(n,null),s(n,Rs),kt&&kt.m(n,null),s(n,Os),s(n,hl),s(hl,os),s(hl,sr),s(hl,Gn),se(Vn,Gn,null),s(hl,or),s(hl,mi),s(hl,ar),s(hl,_i);for(let yt=0;yt<St.length;yt+=1)St[yt]&&St[yt].m(_i,null);s(n,rr),wt&&wt.m(n,null),s(n,qs),s(n,Vt),s(Vt,as),s(Vt,ur),s(Vt,Kn),se(Yn,Kn,null),s(Vt,fr),s(Vt,pi),s(Vt,cr),s(Vt,rs),s(rs,us),s(us,ul),ul.checked=t[3].d.s,s(us,mr),s(Vt,_r),Bt&&Bt.m(Vt,null),s(e,pr),s(e,Bl),s(Bl,Bs),s(Bs,Qn),s(Bl,dr),s(Bl,fs),s(fs,Xn),s(Bl,hr),s(Bl,cs),M(B,Us,he),se(tn,B,he),M(B,js,he),se(ln,B,he),M(B,Hs,he),se(nn,B,he),M(B,Ws,he),se(sn,B,he),Jt=!0,zs||(vr=[Q(A,"input",t[16]),Q(w,"change",t[17]),Q(W,"change",t[18]),Q(Ue,"change",t[19]),Q(Le,"change",t[20]),Q(re,"change",t[22]),Q(Et,"input",t[25]),Q(Qt,"change",t[26]),Q(tl,"change",t[27]),Q(ml,"change",t[28]),Q(Mt,"change",t[29]),Q(Ht,"input",t[30]),Q(_l,"change",t[31]),Q(ll,"input",t[32]),Q(nl,"input",t[33]),Q(il,"change",t[34]),Q(sl,"change",t[37]),Q(Zt,"change",t[42]),Q(pl,"change",t[48]),Q(zt,"input",t[49]),Q(Gt,"change",t[50]),Q(ol,"change",t[54]),Q(al,"change",t[55]),Q(yl,"input",t[56]),Q(Ml,"input",t[58]),Q(rl,"input",t[59]),Q(Sl,"input",t[60]),Q(Tl,"input",t[61]),Q(Nl,"input",t[62]),Q(At,"change",t[63]),Q(El,"input",t[64]),Q(ul,"change",t[98]),Q(Qn,"click",t[8]),Q(Xn,"click",t[10]),Q(e,"submit",Ti(t[9]))],zs=!0)},p(B,he){he[0]&8&&A.value!==B[3].g.h&&ue(A,B[3].g.h),he[0]&8&&Te(w,B[3].g.t),he[0]&8&&Te(W,B[3].p.r),he[0]&8&&Te(Ue,B[3].p.c);const yt={};if(he[3]&1048576&&(yt.$$scope={dirty:he,ctx:B}),dt.$set(yt),he[0]&8&&(Le.checked=B[3].p.e),B[3].p.e&&B[0].chip!="esp8266"?$t?$t.p(B,he):($t=pf(B),$t.c(),$t.m(Re,null)):$t&&($t.d(1),$t=null),he[0]&8&&Te(re,B[3].g.s),B[3].g.s>0?Dt?Dt.p(B,he):(Dt=df(B),Dt.c(),Dt.m(l,oi)):Dt&&(Dt.d(1),Dt=null),he[0]&8&&Et.value!==B[3].g.c&&ue(Et,B[3].g.c),he[0]&8&&Te(Qt,B[3].m.a),he[0]&8&&(tl.checked=B[3].m.i),(!Jt||he[0]&8&&Hi!==(Hi=B[3].m.b!=0))&&(Rl.disabled=Hi),he[0]&8&&Te(ml,B[3].m.b),(!Jt||he[0]&8&&Wi!==(Wi=B[3].m.b!=0))&&(Fl.disabled=Wi),(!Jt||he[0]&8&&zi!==(zi=B[3].m.b==0))&&(Mt.disabled=zi),he[0]&8&&Te(Mt,B[3].m.p),(!Jt||he[0]&9&&Gi!==(Gi=B[0].chip=="esp8266"?B[3].i.h.p==3||B[3].i.h.p==113?512:128:4096))&&a(Ht,"max",Gi),he[0]&8&&Se(Ht.value)!==B[3].m.s&&ue(Ht,B[3].m.s),he[0]&8&&Te(_l,B[3].m.d),he[0]&8&&Se(ll.value)!==B[3].m.f&&ue(ll,B[3].m.f),he[0]&8&&Se(nl.value)!==B[3].m.r&&ue(nl,B[3].m.r),he[0]&8&&(il.checked=B[3].m.e.e),B[3].m.e.e?Lt?Lt.p(B,he):(Lt=hf(B),Lt.c(),Lt.m(Ql,null)):Lt&&(Lt.d(1),Lt=null),B[3].m.e.e?It?It.p(B,he):(It=vf(B),It.c(),It.m(Xe,Ps)):It&&(It.d(1),It=null),he[0]&8&&(sl.checked=B[3].m.m.e),B[3].m.m.e?Rt?Rt.p(B,he):(Rt=bf(B),Rt.c(),Rt.m(Xe,null)):Rt&&(Rt.d(1),Rt=null),B[0].if&&B[0].if.eth?Kt||(Kt=gf(),Kt.c(),Kt.m(Zt,null)):Kt&&(Kt.d(1),Kt=null),he[0]&8&&Te(Zt,B[3].n.c),B[3].n.c==1||B[3].n.c==2?Ft?Ft.p(B,he):(Ft=kf(B),Ft.c(),Ft.m(Wt,null)):Ft&&(Ft.d(1),Ft=null),he[0]&8&&Te(pl,B[3].n.m),(!Jt||he[0]&8&&Ji!==(Ji=B[3].n.m=="dhcp"))&&(zt.disabled=Ji),(!Jt||he[0]&8&&xi!==(xi=B[3].n.m=="static"))&&(zt.required=xi),he[0]&8&&zt.value!==B[3].n.i&&ue(zt,B[3].n.i),(!Jt||he[0]&8&&es!==(es=B[3].n.m=="dhcp"))&&(Gt.disabled=es),(!Jt||he[0]&8&&ts!==(ts=B[3].n.m=="static"))&&(Gt.required=ts),he[0]&8&&Te(Gt,B[3].n.s),B[3].n.m=="static"?Ot?Ot.p(B,he):(Ot=wf(B),Ot.c(),Ot.m(Ct,As)):Ot&&(Ot.d(1),Ot=null),he[0]&8&&(ol.checked=B[3].n.d),he[0]&8&&(al.checked=B[3].n.h),he[0]&8&&yl.value!==B[3].n.n1&&ue(yl,B[3].n.n1),B[0].chip!="esp8266"?qt?qt.p(B,he):(qt=Cf(B),qt.c(),qt.m(dl,$s)):qt&&(qt.d(1),qt=null),he[0]&8&&Ml.value!==B[3].q.h&&ue(Ml,B[3].q.h),he[0]&8&&Se(rl.value)!==B[3].q.p&&ue(rl,B[3].q.p),B[3].q.s.e?ht?(ht.p(B,he),he[0]&8&&L(ht,1)):(ht=yf(B),ht.c(),L(ht,1),ht.m(ut,Ds)):ht&&($e(),q(ht,1,1,()=>{ht=null}),De()),he[0]&8&&Sl.value!==B[3].q.u&&ue(Sl,B[3].q.u),he[0]&8&&Tl.value!==B[3].q.a&&ue(Tl,B[3].q.a),he[0]&8&&Nl.value!==B[3].q.c&&ue(Nl,B[3].q.c),he[0]&8&&Te(At,B[3].q.m),he[0]&8&&El.value!==B[3].q.b&&ue(El,B[3].q.b),B[3].q.m==3?vt?(vt.p(B,he),he[0]&8&&L(vt,1)):(vt=Mf(B),vt.c(),L(vt,1),vt.m(n,Ls)):vt&&($e(),q(vt,1,1,()=>{vt=null}),De()),B[3].q.m==4?bt?(bt.p(B,he),he[0]&8&&L(bt,1)):(bt=Sf(B),bt.c(),L(bt,1),bt.m(n,Is)):bt&&($e(),q(bt,1,1,()=>{bt=null}),De()),B[3].c.es!=null?gt?(gt.p(B,he),he[0]&8&&L(gt,1)):(gt=Tf(B),gt.c(),L(gt,1),gt.m(n,Rs)):gt&&($e(),q(gt,1,1,()=>{gt=null}),De()),he[0]&8&&(Fs=B[3].p.r.startsWith("10YNO")||B[3].p.r.startsWith("10Y1001A1001A4")),Fs?kt?(kt.p(B,he),he[0]&8&&L(kt,1)):(kt=Pf(B),kt.c(),L(kt,1),kt.m(n,Os)):kt&&($e(),q(kt,1,1,()=>{kt=null}),De()),he[0]&136){Zn=B[7];let xt;for(xt=0;xt<Zn.length;xt+=1){const Cr=mf(B,Zn,xt);St[xt]?St[xt].p(Cr,he):(St[xt]=$f(Cr),St[xt].c(),St[xt].m(_i,null))}for(;xt<St.length;xt+=1)St[xt].d(1);St.length=Zn.length}B[0].board>20||B[0].chip=="esp8266"||B[3].i.d.d>0?wt?(wt.p(B,he),he[0]&9&&L(wt,1)):(wt=Df(B),wt.c(),L(wt,1),wt.m(n,qs)):wt&&($e(),q(wt,1,1,()=>{wt=null}),De()),he[0]&8&&(ul.checked=B[3].d.s),B[3].d.s?Bt?Bt.p(B,he):(Bt=Bf(B),Bt.c(),Bt.m(Vt,null)):Bt&&(Bt.d(1),Bt=null);const br={};he[0]&2&&(br.active=B[1]),tn.$set(br);const gr={};he[0]&4&&(gr.active=B[2]),ln.$set(gr);const kr={};he[0]&16&&(kr.active=B[4]),nn.$set(kr);const wr={};he[0]&32&&(wr.active=B[5]),sn.$set(wr)},i(B){Jt||(L(m.$$.fragment,B),L($.$$.fragment,B),L(dt.$$.fragment,B),L(Dl.$$.fragment,B),L(Sn.$$.fragment,B),L(Pn.$$.fragment,B),L(Dn.$$.fragment,B),L(In.$$.fragment,B),L(ht),L(vt),L(bt),L(gt),L(kt),L(Vn.$$.fragment,B),L(wt),L(Yn.$$.fragment,B),L(tn.$$.fragment,B),L(ln.$$.fragment,B),L(nn.$$.fragment,B),L(sn.$$.fragment,B),Jt=!0)},o(B){q(m.$$.fragment,B),q($.$$.fragment,B),q(dt.$$.fragment,B),q(Dl.$$.fragment,B),q(Sn.$$.fragment,B),q(Pn.$$.fragment,B),q(Dn.$$.fragment,B),q(In.$$.fragment,B),q(ht),q(vt),q(bt),q(gt),q(kt),q(Vn.$$.fragment,B),q(wt),q(Yn.$$.fragment,B),q(tn.$$.fragment,B),q(ln.$$.fragment,B),q(nn.$$.fragment,B),q(sn.$$.fragment,B),Jt=!1},d(B){B&&y(e),oe(m),oe($),ft(di,B),oe(dt),$t&&$t.d(),Dt&&Dt.d(),oe(Dl),ft(hi,B),Lt&&Lt.d(),It&&It.d(),Rt&&Rt.d(),oe(Sn),Kt&&Kt.d(),Ft&&Ft.d(),oe(Pn),oe(Dn),Ot&&Ot.d(),oe(In),qt&&qt.d(),ht&&ht.d(),vt&&vt.d(),bt&&bt.d(),gt&&gt.d(),kt&&kt.d(),oe(Vn),ft(St,B),wt&&wt.d(),oe(Yn),Bt&&Bt.d(),B&&y(Us),oe(tn,B),B&&y(js),oe(ln,B),B&&y(Hs),oe(nn,B),B&&y(Ws),oe(sn,B),zs=!1,nt(vr)}}}async function X_(){await(await fetch("reboot",{method:"POST"})).json()}function Z_(t,e,n){let{basepath:l="/"}=e,{sysinfo:i={}}=e,o=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Per phase",key:"h"},{name:"Power factor",key:"f"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Realtime plot",key:"l"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"},{name:"Dark mode",key:"k"}],u=!0,m=!1,r={g:{t:"",h:"",s:0,u:"",p:""},m:{b:2400,p:11,i:!1,d:0,f:0,r:0,e:{e:!1,k:"",a:""},m:{e:!1,w:!1,v:!1,a:!1,c:!1}},w:{s:"",p:"",w:0,z:255,a:!0,b:!0},n:{m:"",i:"",s:"",g:"",d1:"",d2:"",d:!1,n1:"",n2:"",h:!1},q:{h:"",p:1883,u:"",a:"",b:"",s:{e:!1,c:!1,r:!0,k:!1}},o:{e:"",c:"",u1:"",u2:"",u3:""},t:{t:[0,0,0,0,0,0,0,0,0,0],h:1},p:{e:!1,t:"",r:"",c:"",m:1,f:null},d:{s:!1,t:!1,l:5},u:{i:0,e:0,v:0,a:0,r:0,c:0,t:0,p:0,d:0,m:0,s:0},i:{h:{p:null,u:!0},a:null,l:{p:null,i:!1},r:{r:null,g:null,b:null,i:!1},d:{d:null,b:0},t:{d:null,a:null},v:{p:null,d:{v:null,g:null},o:null,m:null,b:null}},h:{t:"",h:"",n:""},c:{e:!1,i:null,es:null}};gi.subscribe(xe=>{xe.version&&(n(3,r=xe),n(1,u=!1))}),p_();let f=!1,p=!1;async function _(){if(confirm("Are you sure you want to factory reset the device?")){n(4,f=!0);const xe=new URLSearchParams;xe.append("perform","true");let Gl=await(await fetch("reset",{method:"POST",body:xe})).json();n(4,f=!1),n(5,p=Gl.success)}}async function v(xe){n(2,m=!0);const Pt=new FormData(xe.target),Gl=new URLSearchParams;for(let Xt of Pt){const[Ll,Ui]=Xt;Gl.append(Ll,Ui)}let Qt=await(await fetch("save",{method:"POST",body:Gl})).json();Yt.update(Xt=>(Xt.booting=Qt.reboot,Xt.ui=r.u,Xt)),n(2,m=!1),cn(l)}const h=function(){confirm("Are you sure you want to reboot the device?")&&(Yt.update(xe=>(xe.booting=!0,xe)),X_())};async function d(){confirm("Are you sure you want to delete CA?")&&(await(await fetch("mqtt-ca",{method:"POST"})).text(),gi.update(Pt=>(Pt.q.s.c=!1,Pt)))}async function g(){confirm("Are you sure you want to delete cert?")&&(await(await fetch("mqtt-cert",{method:"POST"})).text(),gi.update(Pt=>(Pt.q.s.r=!1,Pt)))}async function k(){confirm("Are you sure you want to delete key?")&&(await(await fetch("mqtt-key",{method:"POST"})).text(),gi.update(Pt=>(Pt.q.s.k=!1,Pt)))}const A=function(){r.q.s.e?r.q.p==1883&&n(3,r.q.p=8883,r):r.q.p==8883&&n(3,r.q.p=1883,r)};let T=44;function P(){r.g.h=this.value,n(3,r)}function F(){r.g.t=ot(this),n(3,r)}function I(){r.p.r=ot(this),n(3,r)}function R(){r.p.c=ot(this),n(3,r)}function w(){r.p.e=this.checked,n(3,r)}function $(){r.p.t=this.value,n(3,r)}function ie(){r.g.s=ot(this),n(3,r)}function j(){r.g.u=this.value,n(3,r)}function U(){r.g.p=this.value,n(3,r)}function H(){r.g.c=this.value,n(3,r)}function G(){r.m.a=ot(this),n(3,r)}function V(){r.m.i=this.checked,n(3,r)}function K(){r.m.b=ot(this),n(3,r)}function Z(){r.m.p=ot(this),n(3,r)}function z(){r.m.s=Se(this.value),n(3,r)}function W(){r.m.d=ot(this),n(3,r)}function x(){r.m.f=Se(this.value),n(3,r)}function _e(){r.m.r=Se(this.value),n(3,r)}function ne(){r.m.e.e=this.checked,n(3,r)}function me(){r.m.e.k=this.value,n(3,r)}function Y(){r.m.e.a=this.value,n(3,r)}function ke(){r.m.m.e=this.checked,n(3,r)}function Ee(){r.m.m.w=Se(this.value),n(3,r)}function we(){r.m.m.v=Se(this.value),n(3,r)}function Me(){r.m.m.a=Se(this.value),n(3,r)}function te(){r.m.m.c=Se(this.value),n(3,r)}function fe(){r.n.c=ot(this),n(3,r)}function Oe(){r.w.s=this.value,n(3,r)}function Ie(){r.w.p=this.value,n(3,r)}function N(){r.w.z=ot(this),n(3,r)}function C(){r.w.w=Se(this.value),n(3,r)}function S(){r.w.b=this.checked,n(3,r)}function D(){r.n.m=ot(this),n(3,r)}function O(){r.n.i=this.value,n(3,r)}function J(){r.n.s=ot(this),n(3,r)}function le(){r.n.g=this.value,n(3,r)}function pe(){r.n.d1=this.value,n(3,r)}function ge(){r.n.d2=this.value,n(3,r)}function Ae(){r.n.d=this.checked,n(3,r)}function Fe(){r.n.h=this.checked,n(3,r)}function ce(){r.n.n1=this.value,n(3,r)}function Pe(){r.q.s.e=this.checked,n(3,r)}function ze(){r.q.h=this.value,n(3,r)}function ct(){r.q.p=Se(this.value),n(3,r)}function Ke(){r.q.u=this.value,n(3,r)}function rt(){r.q.a=this.value,n(3,r)}function Ge(){r.q.c=this.value,n(3,r)}function mt(){r.q.m=ot(this),n(3,r)}function Ue(){r.q.b=this.value,n(3,r)}function Nt(){r.o.e=this.value,n(3,r)}function _t(){r.o.c=this.value,n(3,r)}function dt(){r.o.u1=this.value,n(3,r)}function et(){r.o.u2=this.value,n(3,r)}function Re(){r.o.u3=this.value,n(3,r)}function tt(){r.h.t=this.value,n(3,r)}function Le(){r.h.h=this.value,n(3,r)}function Je(){r.h.n=this.value,n(3,r)}function at(){r.c.e=this.checked,n(3,r)}function qe(){r.c.es=this.checked,n(3,r)}function ye(xe){r.t.t[xe]=Se(this.value),n(3,r)}function ve(){r.t.h=Se(this.value),n(3,r)}function de(xe){r.u[xe.key]=ot(this),n(3,r)}function Ve(){r.i.h.p=ot(this),n(3,r)}function re(){r.i.h.t=ot(this),n(3,r)}function Qe(){r.i.h.u=this.checked,n(3,r)}function ee(){r.i.a=Se(this.value),n(3,r)}function st(){r.i.l.p=Se(this.value),n(3,r)}function $i(){r.i.l.i=this.checked,n(3,r)}function oi(){r.i.r.i=this.checked,n(3,r)}function Cl(){r.i.r.r=Se(this.value),n(3,r)}function Di(){r.i.r.g=Se(this.value),n(3,r)}function Li(){r.i.r.b=Se(this.value),n(3,r)}function Ii(){r.i.d.d=Se(this.value),n(3,r)}function Et(){r.i.t.d=Se(this.value),n(3,r)}function Ri(){r.i.t.a=Se(this.value),n(3,r)}function Xe(){r.i.v.p=Se(this.value),n(3,r)}function pn(){r.i.v.d.v=Se(this.value),n(3,r)}function Fi(){r.i.v.d.g=Se(this.value),n(3,r)}function $l(){r.i.d.b=ot(this),n(3,r)}function Dl(){r.i.v.o=Se(this.value),n(3,r)}function Oi(){r.i.v.m=Se(this.value),n(3,r)}function Wl(){r.i.v.b=Se(this.value),n(3,r)}function qi(){r.d.s=this.checked,n(3,r)}function zl(){r.d.t=this.checked,n(3,r)}function Bi(){r.d.l=ot(this),n(3,r)}return t.$$set=xe=>{"basepath"in xe&&n(15,l=xe.basepath),"sysinfo"in xe&&n(0,i=xe.sysinfo)},t.$$.update=()=>{t.$$.dirty[0]&1&&n(6,T=i.chip=="esp8266"?16:i.chip=="esp32s2"?44:39)},[i,u,m,r,f,p,T,o,_,v,h,d,g,k,A,l,P,F,I,R,w,$,ie,j,U,H,G,V,K,Z,z,W,x,_e,ne,me,Y,ke,Ee,we,Me,te,fe,Oe,Ie,N,C,S,D,O,J,le,pe,ge,Ae,Fe,ce,Pe,ze,ct,Ke,rt,Ge,mt,Ue,Nt,_t,dt,et,Re,tt,Le,Je,at,qe,ye,ve,de,Ve,re,Qe,ee,st,$i,oi,Cl,Di,Li,Ii,Et,Ri,Xe,pn,Fi,$l,Dl,Oi,Wl,qi,zl,Bi]}class J_ extends We{constructor(e){super(),He(this,e,Z_,Q_,Be,{basepath:15,sysinfo:0},null,[-1,-1,-1,-1])}}function jf(t,e,n){const l=t.slice();return l[20]=e[n],l}function x_(t){let e=Ce(t[1].chip,t[1].board)+"",n;return{c(){n=E(e)},m(l,i){M(l,n,i)},p(l,i){i&2&&e!==(e=Ce(l[1].chip,l[1].board)+"")&&X(n,e)},d(l){l&&y(n)}}}function Hf(t){let e,n,l=t[1].apmac+"",i,o,u,m,r,f,p,_,v,h=Ur(t[1])+"",d,g,k=t[1].boot_reason+"",A,T,P=t[1].ex_cause+"",F,I,R;const w=[tp,ep],$=[];function ie(j,U){return j[0].u>0?0:1}return r=ie(t),f=$[r]=w[r](t),{c(){e=c("div"),n=E("AP MAC: "),i=E(l),o=b(),u=c("div"),m=E(`Last boot:
            `),f.c(),p=b(),_=c("div"),v=E("Reason: "),d=E(h),g=E(" ("),A=E(k),T=E("/"),F=E(P),I=E(")"),a(e,"class","my-2"),a(u,"class","my-2"),a(_,"class","my-2")},m(j,U){M(j,e,U),s(e,n),s(e,i),M(j,o,U),M(j,u,U),s(u,m),$[r].m(u,null),M(j,p,U),M(j,_,U),s(_,v),s(_,d),s(_,g),s(_,A),s(_,T),s(_,F),s(_,I),R=!0},p(j,U){(!R||U&2)&&l!==(l=j[1].apmac+"")&&X(i,l);let H=r;r=ie(j),r===H?$[r].p(j,U):($e(),q($[H],1,1,()=>{$[H]=null}),De(),f=$[r],f?f.p(j,U):(f=$[r]=w[r](j),f.c()),L(f,1),f.m(u,null)),(!R||U&2)&&h!==(h=Ur(j[1])+"")&&X(d,h),(!R||U&2)&&k!==(k=j[1].boot_reason+"")&&X(A,k),(!R||U&2)&&P!==(P=j[1].ex_cause+"")&&X(F,P)},i(j){R||(L(f),R=!0)},o(j){q(f),R=!1},d(j){j&&y(e),j&&y(o),j&&y(u),$[r].d(),j&&y(p),j&&y(_)}}}function ep(t){let e;return{c(){e=E("-")},m(n,l){M(n,e,l)},p:be,i:be,o:be,d(n){n&&y(e)}}}function tp(t){let e,n;return e=new b0({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:""}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.timestamp=new Date(new Date().getTime()-l[0].u*1e3)),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function lp(t){let e;return{c(){e=c("span"),e.textContent="Update consents",a(e,"class","btn-pri-sm")},m(n,l){M(n,e,l)},p:be,d(n){n&&y(e)}}}function Wf(t){let e,n,l,i,o,u=Cs(t[1].meter.mfg)+"",m,r,f,p,_=(t[1].meter.model?t[1].meter.model:"unknown")+"",v,h,d,g,k=(t[1].meter.id?t[1].meter.id:"unknown")+"",A;return{c(){e=c("div"),n=c("strong"),n.textContent="Meter",l=b(),i=c("div"),o=E("Manufacturer: "),m=E(u),r=b(),f=c("div"),p=E("Model: "),v=E(_),h=b(),d=c("div"),g=E("ID: "),A=E(k),a(n,"class","text-sm"),a(i,"class","my-2"),a(f,"class","my-2"),a(d,"class","my-2"),a(e,"class","cnt")},m(T,P){M(T,e,P),s(e,n),s(e,l),s(e,i),s(i,o),s(i,m),s(e,r),s(e,f),s(f,p),s(f,v),s(e,h),s(e,d),s(d,g),s(d,A)},p(T,P){P&2&&u!==(u=Cs(T[1].meter.mfg)+"")&&X(m,u),P&2&&_!==(_=(T[1].meter.model?T[1].meter.model:"unknown")+"")&&X(v,_),P&2&&k!==(k=(T[1].meter.id?T[1].meter.id:"unknown")+"")&&X(A,k)},d(T){T&&y(e)}}}function zf(t){let e,n,l,i,o,u=t[1].net.ip+"",m,r,f,p,_=t[1].net.mask+"",v,h,d,g,k=t[1].net.gw+"",A,T,P,F,I=t[1].net.dns1+"",R,w,$=t[1].net.dns2&&Gf(t);return{c(){e=c("div"),n=c("strong"),n.textContent="Network",l=b(),i=c("div"),o=E("IP: "),m=E(u),r=b(),f=c("div"),p=E("Mask: "),v=E(_),h=b(),d=c("div"),g=E("Gateway: "),A=E(k),T=b(),P=c("div"),F=E("DNS: "),R=E(I),w=b(),$&&$.c(),a(n,"class","text-sm"),a(i,"class","my-2"),a(f,"class","my-2"),a(d,"class","my-2"),a(P,"class","my-2"),a(e,"class","cnt")},m(ie,j){M(ie,e,j),s(e,n),s(e,l),s(e,i),s(i,o),s(i,m),s(e,r),s(e,f),s(f,p),s(f,v),s(e,h),s(e,d),s(d,g),s(d,A),s(e,T),s(e,P),s(P,F),s(P,R),s(P,w),$&&$.m(P,null)},p(ie,j){j&2&&u!==(u=ie[1].net.ip+"")&&X(m,u),j&2&&_!==(_=ie[1].net.mask+"")&&X(v,_),j&2&&k!==(k=ie[1].net.gw+"")&&X(A,k),j&2&&I!==(I=ie[1].net.dns1+"")&&X(R,I),ie[1].net.dns2?$?$.p(ie,j):($=Gf(ie),$.c(),$.m(P,null)):$&&($.d(1),$=null)},d(ie){ie&&y(e),$&&$.d()}}}function Gf(t){let e,n=t[1].net.dns2+"",l;return{c(){e=E("/ "),l=E(n)},m(i,o){M(i,e,o),M(i,l,o)},p(i,o){o&2&&n!==(n=i[1].net.dns2+"")&&X(l,n)},d(i){i&&y(e),i&&y(l)}}}function Vf(t){let e,n,l,i=t[1].upgrade.f+"",o,u,m=t[1].upgrade.t+"",r,f,p=Br(t[1].upgrade.e)+"",_;return{c(){e=c("div"),n=c("div"),l=E("Previous upgrade attempt from "),o=E(i),u=E(" to "),r=E(m),f=E(" failed. "),_=E(p),a(n,"class","bd-yellow"),a(e,"class","my-2")},m(v,h){M(v,e,h),s(e,n),s(n,l),s(n,o),s(n,u),s(n,r),s(n,f),s(n,_)},p(v,h){h&2&&i!==(i=v[1].upgrade.f+"")&&X(o,i),h&2&&m!==(m=v[1].upgrade.t+"")&&X(r,m),h&2&&p!==(p=Br(v[1].upgrade.e)+"")&&X(_,p)},d(v){v&&y(e)}}}function Kf(t){let e,n,l,i=t[2].tag_name+"",o,u,m,r,f,p,_=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[2]&&t[2].tag_name!=t[1].version&&Yf(t),v=t[1].fwconsent===2&&Qf();return{c(){e=c("div"),n=E(`Latest version: 
                `),l=c("a"),o=E(i),m=b(),_&&_.c(),r=b(),v&&v.c(),f=it(),a(l,"href",u=t[2].html_url),a(l,"class","ml-2 text-blue-600 hover:text-blue-800"),a(l,"target","_blank"),a(l,"rel","noreferrer"),a(e,"class","my-2 flex")},m(h,d){M(h,e,d),s(e,n),s(e,l),s(l,o),s(e,m),_&&_.m(e,null),M(h,r,d),v&&v.m(h,d),M(h,f,d),p=!0},p(h,d){(!p||d&4)&&i!==(i=h[2].tag_name+"")&&X(o,i),(!p||d&4&&u!==(u=h[2].html_url))&&a(l,"href",u),(h[1].security==0||h[0].a)&&h[1].fwconsent===1&&h[2]&&h[2].tag_name!=h[1].version?_?(_.p(h,d),d&7&&L(_,1)):(_=Yf(h),_.c(),L(_,1),_.m(e,null)):_&&($e(),q(_,1,1,()=>{_=null}),De()),h[1].fwconsent===2?v||(v=Qf(),v.c(),v.m(f.parentNode,f)):v&&(v.d(1),v=null)},i(h){p||(L(_),p=!0)},o(h){q(_),p=!1},d(h){h&&y(e),_&&_.d(),h&&y(r),v&&v.d(h),h&&y(f)}}}function Yf(t){let e,n,l,i,o,u;return l=new g0({}),{c(){e=c("div"),n=c("button"),ae(l.$$.fragment),a(e,"class","flex-none ml-2 text-green-500"),a(e,"title","Install this version")},m(m,r){M(m,e,r),s(e,n),se(l,n,null),i=!0,o||(u=Q(n,"click",t[10]),o=!0)},p:be,i(m){i||(L(l.$$.fragment,m),i=!0)},o(m){q(l.$$.fragment,m),i=!1},d(m){m&&y(e),oe(l),o=!1,u()}}}function Qf(t){let e;return{c(){e=c("div"),e.innerHTML='<div class="bd-yellow">You have disabled one-click firmware upgrade, link to self-upgrade is disabled</div>',a(e,"class","my-2")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function Xf(t){let e,n=ys(Ce(t[1].chip,t[1].board))+"",l;return{c(){e=c("div"),l=E(n),a(e,"class","bd-red")},m(i,o){M(i,e,o),s(e,l)},p(i,o){o&2&&n!==(n=ys(Ce(i[1].chip,i[1].board))+"")&&X(l,n)},d(i){i&&y(e)}}}function Zf(t){let e,n,l,i,o,u;function m(p,_){return p[4].length==0?ip:np}let r=m(t),f=r(t);return{c(){e=c("div"),n=c("form"),l=c("input"),i=b(),f.c(),ki(l,"display","none"),a(l,"name","file"),a(l,"type","file"),a(l,"accept",".bin"),a(n,"action","/firmware"),a(n,"enctype","multipart/form-data"),a(n,"method","post"),a(n,"autocomplete","off"),a(e,"class","my-2 flex")},m(p,_){M(p,e,_),s(e,n),s(n,l),t[12](l),s(n,i),f.m(n,null),o||(u=[Q(l,"change",t[13]),Q(n,"submit",t[15])],o=!0)},p(p,_){r===(r=m(p))&&f?f.p(p,_):(f.d(1),f=r(p),f&&(f.c(),f.m(n,null)))},d(p){p&&y(e),t[12](null),f.d(),o=!1,nt(u)}}}function np(t){let e=t[4][0].name+"",n,l,i;return{c(){n=E(e),l=b(),i=c("button"),i.textContent="Upload",a(i,"type","submit"),a(i,"class","btn-pri-sm float-right")},m(o,u){M(o,n,u),M(o,l,u),M(o,i,u)},p(o,u){u&16&&e!==(e=o[4][0].name+"")&&X(n,e)},d(o){o&&y(n),o&&y(l),o&&y(i)}}}function ip(t){let e,n,l;return{c(){e=c("button"),e.textContent="Select firmware file for upgrade",a(e,"type","button"),a(e,"class","btn-pri-sm float-right")},m(i,o){M(i,e,o),n||(l=Q(e,"click",t[14]),n=!0)},p:be,d(i){i&&y(e),n=!1,l()}}}function Jf(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g=t[9],k=[];for(let I=0;I<g.length;I+=1)k[I]=xf(jf(t,g,I));let A=t[7].length==0&&e1();function T(I,R){return I[7].length==0?op:sp}let P=T(t),F=P(t);return{c(){e=c("div"),n=c("strong"),n.textContent="Backup & restore",l=b(),i=c("form"),o=c("div");for(let I=0;I<k.length;I+=1)k[I].c();u=b(),m=c("label"),m.innerHTML='<input type="checkbox" class="rounded" name="ic" value="true"/> Include Secrets<br/><small>(SSID, PSK, passwords and tokens)</small>',r=b(),A&&A.c(),f=b(),p=c("form"),_=c("input"),v=b(),F.c(),a(n,"class","text-sm"),a(m,"class","my-1 mx-3 col-span-2"),a(o,"class","grid grid-cols-2"),a(i,"method","get"),a(i,"action","/configfile.cfg"),a(i,"autocomplete","off"),ki(_,"display","none"),a(_,"name","file"),a(_,"type","file"),a(_,"accept",".cfg"),a(p,"action","/configfile"),a(p,"enctype","multipart/form-data"),a(p,"method","post"),a(p,"autocomplete","off"),a(e,"class","cnt")},m(I,R){M(I,e,R),s(e,n),s(e,l),s(e,i),s(i,o);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(o,null);s(o,u),s(o,m),s(i,r),A&&A.m(i,null),s(e,f),s(e,p),s(p,_),t[16](_),s(p,v),F.m(p,null),h||(d=[Q(_,"change",t[17]),Q(p,"submit",t[19])],h=!0)},p(I,R){if(R&512){g=I[9];let w;for(w=0;w<g.length;w+=1){const $=jf(I,g,w);k[w]?k[w].p($,R):(k[w]=xf($),k[w].c(),k[w].m(o,u))}for(;w<k.length;w+=1)k[w].d(1);k.length=g.length}I[7].length==0?A||(A=e1(),A.c(),A.m(i,null)):A&&(A.d(1),A=null),P===(P=T(I))&&F?F.p(I,R):(F.d(1),F=P(I),F&&(F.c(),F.m(p,null)))},d(I){I&&y(e),ft(k,I),A&&A.d(),t[16](null),F.d(),h=!1,nt(d)}}}function xf(t){let e,n,l,i=t[20].name+"",o;return{c(){e=c("label"),n=c("input"),l=b(),o=E(i),a(n,"type","checkbox"),a(n,"class","rounded"),a(n,"name",t[20].key),n.value="true",n.checked=!0,a(e,"class","my-1 mx-3")},m(u,m){M(u,e,m),s(e,n),s(e,l),s(e,o)},p:be,d(u){u&&y(e)}}}function e1(t){let e;return{c(){e=c("button"),e.textContent="Download",a(e,"type","submit"),a(e,"class","btn-pri-sm float-right")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function sp(t){let e=t[7][0].name+"",n,l,i;return{c(){n=E(e),l=b(),i=c("button"),i.textContent="Upload",a(i,"type","submit"),a(i,"class","btn-pri-sm")},m(o,u){M(o,n,u),M(o,l,u),M(o,i,u)},p(o,u){u&128&&e!==(e=o[7][0].name+"")&&X(n,e)},d(o){o&&y(n),o&&y(l),o&&y(i)}}}function op(t){let e,n,l;return{c(){e=c("button"),e.textContent="Select file...",a(e,"type","button"),a(e,"class","btn-pri-sm")},m(i,o){M(i,e,o),n||(l=Q(e,"click",t[18]),n=!0)},p:be,d(i){i&&y(e),n=!1,l()}}}function ap(t){let e,n,l,i,o,u,m=t[1].chip+"",r,f,p=t[1].cpu+"",_,v,h,d,g,k,A,T,P,F=t[1].mac+"",I,R,w,$,ie,j,U,H,G,V,K,Z,z,W,x,_e=t[1].version+"",ne,me,Y,ke,Ee=(t[1].security==0||t[0].a)&&li(t[1].board),we,Me,te,fe,Oe,Ie,N,C,S;k=new el({props:{to:"/vendor",$$slots:{default:[x_]},$$scope:{ctx:t}}});let D=t[1].apmac&&t[1].apmac!=t[1].mac&&Hf(t);ie=new el({props:{to:"/consent",$$slots:{default:[lp]},$$scope:{ctx:t}}});let O=t[1].meter&&Wf(t),J=t[1].net&&zf(t),le=t[1].upgrade.t&&t[1].upgrade.t!=t[1].version&&Vf(t),pe=t[2]&&Kf(t),ge=Ee&&Xf(t),Ae=(t[1].security==0||t[0].a)&&Zf(t),Fe=(t[1].security==0||t[0].a)&&Jf(t);return fe=new Tt({props:{active:t[5],message:"Uploading firmware, please wait"}}),Ie=new Tt({props:{active:t[8],message:"Uploading configuration, please wait"}}),{c(){e=c("div"),n=c("div"),l=c("strong"),l.textContent="Device information",i=b(),o=c("div"),u=E("Chip: "),r=E(m),f=E(" ("),_=E(p),v=E("MHz)"),h=b(),d=c("div"),g=E("Device: "),ae(k.$$.fragment),A=b(),T=c("div"),P=E("MAC: "),I=E(F),R=b(),D&&D.c(),w=b(),$=c("div"),ae(ie.$$.fragment),j=b(),U=c("button"),U.textContent="Reboot",H=b(),O&&O.c(),G=b(),J&&J.c(),V=b(),K=c("div"),Z=c("strong"),Z.textContent="Firmware",z=b(),W=c("div"),x=E("Installed version: "),ne=E(_e),me=b(),le&&le.c(),Y=b(),pe&&pe.c(),ke=b(),ge&&ge.c(),we=b(),Ae&&Ae.c(),Me=b(),Fe&&Fe.c(),te=b(),ae(fe.$$.fragment),Oe=b(),ae(Ie.$$.fragment),a(l,"class","text-sm"),a(o,"class","my-2"),a(d,"class","my-2"),a(T,"class","my-2"),a(U,"class","btn-yellow-sm float-right"),a($,"class","my-2"),a(n,"class","cnt"),a(Z,"class","text-sm"),a(W,"class","my-2"),a(K,"class","cnt"),a(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(ce,Pe){M(ce,e,Pe),s(e,n),s(n,l),s(n,i),s(n,o),s(o,u),s(o,r),s(o,f),s(o,_),s(o,v),s(n,h),s(n,d),s(d,g),se(k,d,null),s(n,A),s(n,T),s(T,P),s(T,I),s(n,R),D&&D.m(n,null),s(n,w),s(n,$),se(ie,$,null),s($,j),s($,U),s(e,H),O&&O.m(e,null),s(e,G),J&&J.m(e,null),s(e,V),s(e,K),s(K,Z),s(K,z),s(K,W),s(W,x),s(W,ne),s(K,me),le&&le.m(K,null),s(K,Y),pe&&pe.m(K,null),s(K,ke),ge&&ge.m(K,null),s(K,we),Ae&&Ae.m(K,null),s(e,Me),Fe&&Fe.m(e,null),M(ce,te,Pe),se(fe,ce,Pe),M(ce,Oe,Pe),se(Ie,ce,Pe),N=!0,C||(S=Q(U,"click",t[11]),C=!0)},p(ce,[Pe]){(!N||Pe&2)&&m!==(m=ce[1].chip+"")&&X(r,m),(!N||Pe&2)&&p!==(p=ce[1].cpu+"")&&X(_,p);const ze={};Pe&8388610&&(ze.$$scope={dirty:Pe,ctx:ce}),k.$set(ze),(!N||Pe&2)&&F!==(F=ce[1].mac+"")&&X(I,F),ce[1].apmac&&ce[1].apmac!=ce[1].mac?D?(D.p(ce,Pe),Pe&2&&L(D,1)):(D=Hf(ce),D.c(),L(D,1),D.m(n,w)):D&&($e(),q(D,1,1,()=>{D=null}),De());const ct={};Pe&8388608&&(ct.$$scope={dirty:Pe,ctx:ce}),ie.$set(ct),ce[1].meter?O?O.p(ce,Pe):(O=Wf(ce),O.c(),O.m(e,G)):O&&(O.d(1),O=null),ce[1].net?J?J.p(ce,Pe):(J=zf(ce),J.c(),J.m(e,V)):J&&(J.d(1),J=null),(!N||Pe&2)&&_e!==(_e=ce[1].version+"")&&X(ne,_e),ce[1].upgrade.t&&ce[1].upgrade.t!=ce[1].version?le?le.p(ce,Pe):(le=Vf(ce),le.c(),le.m(K,Y)):le&&(le.d(1),le=null),ce[2]?pe?(pe.p(ce,Pe),Pe&4&&L(pe,1)):(pe=Kf(ce),pe.c(),L(pe,1),pe.m(K,ke)):pe&&($e(),q(pe,1,1,()=>{pe=null}),De()),Pe&3&&(Ee=(ce[1].security==0||ce[0].a)&&li(ce[1].board)),Ee?ge?ge.p(ce,Pe):(ge=Xf(ce),ge.c(),ge.m(K,we)):ge&&(ge.d(1),ge=null),ce[1].security==0||ce[0].a?Ae?Ae.p(ce,Pe):(Ae=Zf(ce),Ae.c(),Ae.m(K,null)):Ae&&(Ae.d(1),Ae=null),ce[1].security==0||ce[0].a?Fe?Fe.p(ce,Pe):(Fe=Jf(ce),Fe.c(),Fe.m(e,null)):Fe&&(Fe.d(1),Fe=null);const Ke={};Pe&32&&(Ke.active=ce[5]),fe.$set(Ke);const rt={};Pe&256&&(rt.active=ce[8]),Ie.$set(rt)},i(ce){N||(L(k.$$.fragment,ce),L(D),L(ie.$$.fragment,ce),L(pe),L(fe.$$.fragment,ce),L(Ie.$$.fragment,ce),N=!0)},o(ce){q(k.$$.fragment,ce),q(D),q(ie.$$.fragment,ce),q(pe),q(fe.$$.fragment,ce),q(Ie.$$.fragment,ce),N=!1},d(ce){ce&&y(e),oe(k),D&&D.d(),oe(ie),O&&O.d(),J&&J.d(),le&&le.d(),pe&&pe.d(),ge&&ge.d(),Ae&&Ae.d(),Fe&&Fe.d(),ce&&y(te),oe(fe,ce),ce&&y(Oe),oe(Ie,ce),C=!1,S()}}}async function rp(){await(await fetch("reboot",{method:"POST"})).json()}function up(t,e,n){let{data:l}=e,{sysinfo:i}=e,o=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price API",key:"is"}],u={};Eo.subscribe(w=>{n(2,u=v0(i.version,w)),u||n(2,u=w[0])});function m(){confirm("Do you want to upgrade this device to "+u.tag_name+"?")&&(i.board!=2&&i.board!=4&&i.board!=7||confirm(ys(Ce(i.chip,i.board))))&&(Yt.update(w=>(w.upgrading=!0,w)),h0(u.tag_name))}const r=function(){confirm("Are you sure you want to reboot the device?")&&(Yt.update(w=>(w.booting=!0,w)),rp())};let f,p=[],_=!1,v,h=[],d=!1;Mo();function g(w){ks[w?"unshift":"push"](()=>{f=w,n(3,f)})}function k(){p=this.files,n(4,p)}const A=()=>{f.click()},T=()=>n(5,_=!0);function P(w){ks[w?"unshift":"push"](()=>{v=w,n(6,v)})}function F(){h=this.files,n(7,h)}const I=()=>{v.click()},R=()=>n(8,d=!0);return t.$$set=w=>{"data"in w&&n(0,l=w.data),"sysinfo"in w&&n(1,i=w.sysinfo)},[l,i,u,f,p,_,v,h,d,o,m,r,g,k,A,T,P,F,I,R]}class fp extends We{constructor(e){super(),He(this,e,up,ap,Be,{data:0,sysinfo:1})}}function t1(t){let e,n,l=Ce(t[0],7)+"",i,o,u=Ce(t[0],5)+"",m,r,f=Ce(t[0],4)+"",p,_,v=Ce(t[0],3)+"",h,d,g,k,A=Ce(t[0],2)+"",T,P,F=Ce(t[0],1)+"",I,R,w=Ce(t[0],0)+"",$,ie,j,U,H=Ce(t[0],101)+"",G,V,K=Ce(t[0],100)+"",Z;return{c(){e=c("optgroup"),n=c("option"),i=E(l),o=c("option"),m=E(u),r=c("option"),p=E(f),_=c("option"),h=E(v),d=b(),g=c("optgroup"),k=c("option"),T=E(A),P=c("option"),I=E(F),R=c("option"),$=E(w),ie=b(),j=c("optgroup"),U=c("option"),G=E(H),V=c("option"),Z=E(K),n.__value=7,n.value=n.__value,o.__value=5,o.value=o.__value,r.__value=4,r.value=r.__value,_.__value=3,_.value=_.__value,a(e,"label","amsleser.no"),k.__value=2,k.value=k.__value,P.__value=1,P.value=P.__value,R.__value=0,R.value=R.__value,a(g,"label","Custom hardware"),U.__value=101,U.value=U.__value,V.__value=100,V.value=V.__value,a(j,"label","Generic hardware")},m(z,W){M(z,e,W),s(e,n),s(n,i),s(e,o),s(o,m),s(e,r),s(r,p),s(e,_),s(_,h),M(z,d,W),M(z,g,W),s(g,k),s(k,T),s(g,P),s(P,I),s(g,R),s(R,$),M(z,ie,W),M(z,j,W),s(j,U),s(U,G),s(j,V),s(V,Z)},p(z,W){W&1&&l!==(l=Ce(z[0],7)+"")&&X(i,l),W&1&&u!==(u=Ce(z[0],5)+"")&&X(m,u),W&1&&f!==(f=Ce(z[0],4)+"")&&X(p,f),W&1&&v!==(v=Ce(z[0],3)+"")&&X(h,v),W&1&&A!==(A=Ce(z[0],2)+"")&&X(T,A),W&1&&F!==(F=Ce(z[0],1)+"")&&X(I,F),W&1&&w!==(w=Ce(z[0],0)+"")&&X($,w),W&1&&H!==(H=Ce(z[0],101)+"")&&X(G,H),W&1&&K!==(K=Ce(z[0],100)+"")&&X(Z,K)},d(z){z&&y(e),z&&y(d),z&&y(g),z&&y(ie),z&&y(j)}}}function l1(t){let e,n,l=Ce(t[0],201)+"",i,o,u=Ce(t[0],202)+"",m,r,f=Ce(t[0],203)+"",p,_,v=Ce(t[0],241)+"",h,d,g=Ce(t[0],242)+"",k,A,T=Ce(t[0],243)+"",P,F,I=Ce(t[0],200)+"",R;return{c(){e=c("optgroup"),n=c("option"),i=E(l),o=c("option"),m=E(u),r=c("option"),p=E(f),_=c("option"),h=E(v),d=c("option"),k=E(g),A=c("option"),P=E(T),F=c("option"),R=E(I),n.__value=201,n.value=n.__value,o.__value=202,o.value=o.__value,r.__value=203,r.value=r.__value,_.__value=241,_.value=_.__value,d.__value=242,d.value=d.__value,A.__value=243,A.value=A.__value,F.__value=200,F.value=F.__value,a(e,"label","Generic hardware")},m(w,$){M(w,e,$),s(e,n),s(n,i),s(e,o),s(o,m),s(e,r),s(r,p),s(e,_),s(_,h),s(e,d),s(d,k),s(e,A),s(A,P),s(e,F),s(F,R)},p(w,$){$&1&&l!==(l=Ce(w[0],201)+"")&&X(i,l),$&1&&u!==(u=Ce(w[0],202)+"")&&X(m,u),$&1&&f!==(f=Ce(w[0],203)+"")&&X(p,f),$&1&&v!==(v=Ce(w[0],241)+"")&&X(h,v),$&1&&g!==(g=Ce(w[0],242)+"")&&X(k,g),$&1&&T!==(T=Ce(w[0],243)+"")&&X(P,T),$&1&&I!==(I=Ce(w[0],200)+"")&&X(R,I)},d(w){w&&y(e)}}}function n1(t){let e,n,l=Ce(t[0],7)+"",i,o,u=Ce(t[0],6)+"",m,r,f=Ce(t[0],5)+"",p,_,v,h,d=Ce(t[0],51)+"",g,k,A=Ce(t[0],50)+"",T;return{c(){e=c("optgroup"),n=c("option"),i=E(l),o=c("option"),m=E(u),r=c("option"),p=E(f),_=b(),v=c("optgroup"),h=c("option"),g=E(d),k=c("option"),T=E(A),n.__value=7,n.value=n.__value,o.__value=6,o.value=o.__value,r.__value=5,r.value=r.__value,a(e,"label","amsleser.no"),h.__value=51,h.value=h.__value,k.__value=50,k.value=k.__value,a(v,"label","Generic hardware")},m(P,F){M(P,e,F),s(e,n),s(n,i),s(e,o),s(o,m),s(e,r),s(r,p),M(P,_,F),M(P,v,F),s(v,h),s(h,g),s(v,k),s(k,T)},p(P,F){F&1&&l!==(l=Ce(P[0],7)+"")&&X(i,l),F&1&&u!==(u=Ce(P[0],6)+"")&&X(m,u),F&1&&f!==(f=Ce(P[0],5)+"")&&X(p,f),F&1&&d!==(d=Ce(P[0],51)+"")&&X(g,d),F&1&&A!==(A=Ce(P[0],50)+"")&&X(T,A)},d(P){P&&y(e),P&&y(_),P&&y(v)}}}function i1(t){let e,n,l=Ce(t[0],8)+"",i,o,u,m,r=Ce(t[0],71)+"",f,p,_=Ce(t[0],70)+"",v;return{c(){e=c("optgroup"),n=c("option"),i=E(l),o=b(),u=c("optgroup"),m=c("option"),f=E(r),p=c("option"),v=E(_),n.__value=8,n.value=n.__value,a(e,"label","Custom hardware"),m.__value=71,m.value=m.__value,p.__value=70,p.value=p.__value,a(u,"label","Generic hardware")},m(h,d){M(h,e,d),s(e,n),s(n,i),M(h,o,d),M(h,u,d),s(u,m),s(m,f),s(u,p),s(p,v)},p(h,d){d&1&&l!==(l=Ce(h[0],8)+"")&&X(i,l),d&1&&r!==(r=Ce(h[0],71)+"")&&X(f,r),d&1&&_!==(_=Ce(h[0],70)+"")&&X(v,_)},d(h){h&&y(e),h&&y(o),h&&y(u)}}}function s1(t){let e,n,l=Ce(t[0],200)+"",i;return{c(){e=c("optgroup"),n=c("option"),i=E(l),n.__value=200,n.value=n.__value,a(e,"label","Generic hardware")},m(o,u){M(o,e,u),s(e,n),s(n,i)},p(o,u){u&1&&l!==(l=Ce(o[0],200)+"")&&X(i,l)},d(o){o&&y(e)}}}function o1(t){let e,n,l=Ce(t[0],80)+"",i;return{c(){e=c("optgroup"),n=c("option"),i=E(l),n.__value=80,n.value=n.__value,a(e,"label","Generic hardware")},m(o,u){M(o,e,u),s(e,n),s(n,i)},p(o,u){u&1&&l!==(l=Ce(o[0],80)+"")&&X(i,l)},d(o){o&&y(e)}}}function cp(t){let e,n,l,i,o,u,m,r,f=t[0]=="esp8266"&&t1(t),p=t[0]=="esp32"&&l1(t),_=t[0]=="esp32s2"&&n1(t),v=t[0]=="esp32c3"&&i1(t),h=t[0]=="esp32solo"&&s1(t),d=t[0]=="esp32s3"&&o1(t);return{c(){e=c("option"),n=b(),f&&f.c(),l=b(),p&&p.c(),i=b(),_&&_.c(),o=b(),v&&v.c(),u=b(),h&&h.c(),m=b(),d&&d.c(),r=it(),e.__value=-1,e.value=e.__value},m(g,k){M(g,e,k),M(g,n,k),f&&f.m(g,k),M(g,l,k),p&&p.m(g,k),M(g,i,k),_&&_.m(g,k),M(g,o,k),v&&v.m(g,k),M(g,u,k),h&&h.m(g,k),M(g,m,k),d&&d.m(g,k),M(g,r,k)},p(g,[k]){g[0]=="esp8266"?f?f.p(g,k):(f=t1(g),f.c(),f.m(l.parentNode,l)):f&&(f.d(1),f=null),g[0]=="esp32"?p?p.p(g,k):(p=l1(g),p.c(),p.m(i.parentNode,i)):p&&(p.d(1),p=null),g[0]=="esp32s2"?_?_.p(g,k):(_=n1(g),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null),g[0]=="esp32c3"?v?v.p(g,k):(v=i1(g),v.c(),v.m(u.parentNode,u)):v&&(v.d(1),v=null),g[0]=="esp32solo"?h?h.p(g,k):(h=s1(g),h.c(),h.m(m.parentNode,m)):h&&(h.d(1),h=null),g[0]=="esp32s3"?d?d.p(g,k):(d=o1(g),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null)},i:be,o:be,d(g){g&&y(e),g&&y(n),f&&f.d(g),g&&y(l),p&&p.d(g),g&&y(i),_&&_.d(g),g&&y(o),v&&v.d(g),g&&y(u),h&&h.d(g),g&&y(m),d&&d.d(g),g&&y(r)}}}function mp(t,e,n){let{chip:l}=e;return t.$$set=i=>{"chip"in i&&n(0,l=i.chip)},[l]}class _p extends We{constructor(e){super(),He(this,e,mp,cp,Be,{chip:0})}}function a1(t){let e;return{c(){e=c("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",a(e,"class","bd-red")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function r1(t){let e,n,l,i,o,u,m;return u=new fo({props:{chip:t[0].chip}}),{c(){e=c("div"),n=E("HAN GPIO"),l=c("br"),i=b(),o=c("select"),ae(u.$$.fragment),a(o,"name","vh"),a(o,"class","in-s"),a(e,"class","my-3")},m(r,f){M(r,e,f),s(e,n),s(e,l),s(e,i),s(e,o),se(u,o,null),m=!0},p(r,f){const p={};f&1&&(p.chip=r[0].chip),u.$set(p)},i(r){m||(L(u.$$.fragment,r),m=!0)},o(r){q(u.$$.fragment,r),m=!1},d(r){r&&y(e),oe(u)}}}function pp(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I,R,w,$,ie,j,U,H,G,V=t[0].usrcfg&&a1();d=new _p({props:{chip:t[0].chip}});let K=t[0].board&&t[0].board>20&&r1(t);return j=new Tt({props:{active:t[1],message:"Saving device configuration"}}),{c(){e=c("div"),n=c("div"),l=c("form"),i=c("input"),o=b(),u=c("strong"),u.textContent="Initial configuration",m=b(),V&&V.c(),r=b(),f=c("div"),p=E("Board type"),_=c("br"),v=b(),h=c("select"),ae(d.$$.fragment),g=b(),K&&K.c(),k=b(),A=c("div"),T=c("label"),P=c("input"),F=E(" Clear all other configuration"),I=b(),R=c("div"),R.innerHTML='<button type="submit" class="btn-pri">Save</button>',w=b(),$=c("span"),$.textContent="\xA0",ie=b(),ae(j.$$.fragment),a(i,"type","hidden"),a(i,"name","v"),i.value="true",a(u,"class","text-sm"),a(h,"name","vb"),a(h,"class","in-s"),t[0].board===void 0&&Ze(()=>t[5].call(h)),a(f,"class","my-3"),a(P,"type","checkbox"),a(P,"name","vr"),P.__value="true",P.value=P.__value,a(P,"class","rounded mb-1"),a(A,"class","my-3"),a(R,"class","my-3"),a($,"class","clear-both"),a(l,"autocomplete","off"),a(n,"class","cnt"),a(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(Z,z){M(Z,e,z),s(e,n),s(n,l),s(l,i),s(l,o),s(l,u),s(l,m),V&&V.m(l,null),s(l,r),s(l,f),s(f,p),s(f,_),s(f,v),s(f,h),se(d,h,null),Te(h,t[0].board,!0),s(l,g),K&&K.m(l,null),s(l,k),s(l,A),s(A,T),s(T,P),P.checked=t[2],s(T,F),s(l,I),s(l,R),s(l,w),s(l,$),M(Z,ie,z),se(j,Z,z),U=!0,H||(G=[Q(h,"change",t[5]),Q(P,"change",t[6]),Q(l,"submit",Ti(t[3]))],H=!0)},p(Z,[z]){Z[0].usrcfg?V||(V=a1(),V.c(),V.m(l,r)):V&&(V.d(1),V=null);const W={};z&1&&(W.chip=Z[0].chip),d.$set(W),z&1&&Te(h,Z[0].board),Z[0].board&&Z[0].board>20?K?(K.p(Z,z),z&1&&L(K,1)):(K=r1(Z),K.c(),L(K,1),K.m(l,k)):K&&($e(),q(K,1,1,()=>{K=null}),De()),z&4&&(P.checked=Z[2]);const x={};z&2&&(x.active=Z[1]),j.$set(x)},i(Z){U||(L(d.$$.fragment,Z),L(K),L(j.$$.fragment,Z),U=!0)},o(Z){q(d.$$.fragment,Z),q(K),q(j.$$.fragment,Z),U=!1},d(Z){Z&&y(e),V&&V.d(),oe(d),K&&K.d(),Z&&y(ie),oe(j,Z),H=!1,nt(G)}}}function dp(t,e,n){let{basepath:l="/"}=e,{sysinfo:i={}}=e,o=!1;async function u(p){n(1,o=!0);const _=new FormData(p.target),v=new URLSearchParams;for(let g of _){const[k,A]=g;v.append(k,A)}let d=await(await fetch("save",{method:"POST",body:v})).json();n(1,o=!1),Yt.update(g=>(g.vndcfg=d.success,g.booting=d.reboot,g.if.eth=g.boardType>240&&g.boardType<250,g)),cn(l+(i.usrcfg?"/":"/setup"))}let m=!1;Yt.subscribe(p=>{n(0,i=p),p.fwconsent===1&&n(2,m=!i.usrcfg)});function r(){i.board=ot(this),n(0,i)}function f(){m=this.checked,n(2,m)}return t.$$set=p=>{"basepath"in p&&n(4,l=p.basepath),"sysinfo"in p&&n(0,i=p.sysinfo)},[i,o,m,u,l,r,f]}class hp extends We{constructor(e){super(),He(this,e,dp,pp,Be,{basepath:4,sysinfo:0})}}function u1(t){let e;return{c(){e=c("option"),e.textContent="Ethernet",e.__value=3,e.value=e.__value},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function f1(t){let e,n,l,i,o,u,m,r,f,p,_,v,h;return{c(){e=c("div"),n=E("SSID"),l=c("br"),i=b(),o=c("input"),m=b(),r=c("div"),f=E("PSK"),p=c("br"),_=b(),v=c("input"),a(o,"name","ss"),a(o,"type","text"),a(o,"class","in-s"),o.required=u=t[2]==1||t[2]==2,a(e,"class","my-3"),a(v,"name","sp"),a(v,"type","password"),a(v,"class","in-s"),a(v,"autocomplete","off"),v.required=h=t[2]==2,a(r,"class","my-3")},m(d,g){M(d,e,g),s(e,n),s(e,l),s(e,i),s(e,o),M(d,m,g),M(d,r,g),s(r,f),s(r,p),s(r,_),s(r,v)},p(d,g){g&4&&u!==(u=d[2]==1||d[2]==2)&&(o.required=u),g&4&&h!==(h=d[2]==2)&&(v.required=h)},d(d){d&&y(e),d&&y(m),d&&y(r)}}}function c1(t){let e,n,l,i,o,u,m,r;return m=new C0({}),{c(){e=c("br"),n=b(),l=c("div"),i=c("input"),o=b(),u=c("select"),ae(m.$$.fragment),a(i,"name","si"),a(i,"type","text"),a(i,"class","in-f w-full"),i.required=t[1],a(u,"name","su"),a(u,"class","in-l"),u.required=t[1],a(l,"class","flex")},m(f,p){M(f,e,p),M(f,n,p),M(f,l,p),s(l,i),s(l,o),s(l,u),se(m,u,null),r=!0},p(f,p){(!r||p&2)&&(i.required=f[1]),(!r||p&2)&&(u.required=f[1])},i(f){r||(L(m.$$.fragment,f),r=!0)},o(f){q(m.$$.fragment,f),r=!1},d(f){f&&y(e),f&&y(n),f&&y(l),oe(m)}}}function m1(t){let e;return{c(){e=c("div"),e.innerHTML=`<div>Gateway<br/> 
                    <input name="sg" type="text" class="in-f w-full"/></div> 
                <div>DNS<br/> 
                    <input name="sd" type="text" class="in-l w-full"/></div>`,a(e,"class","my-3 flex")},m(n,l){M(n,e,l)},d(n){n&&y(e)}}}function vp(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I,R,w,$,ie,j,U,H,G,V,K,Z,z,W=t[0].if&&t[0].if.eth&&u1(),x=(t[2]==1||t[2]==2)&&f1(t),_e=t[1]&&c1(t),ne=t[1]&&m1();return V=new Tt({props:{active:t[3],message:"Saving your configuration to the device"}}),{c(){e=c("div"),n=c("div"),l=c("form"),i=c("input"),o=b(),u=c("strong"),u.textContent="Setup",m=b(),r=c("div"),f=E("Connection"),p=c("br"),_=b(),v=c("select"),h=c("option"),h.textContent="Connect to WiFi",d=c("option"),d.textContent="Standalone access point",W&&W.c(),g=b(),x&&x.c(),k=b(),A=c("div"),T=E(`Hostname
                `),P=c("input"),F=b(),I=c("div"),R=c("label"),w=c("input"),$=E(" Static IP"),ie=b(),_e&&_e.c(),j=b(),ne&&ne.c(),U=b(),H=c("div"),H.innerHTML='<button type="submit" class="btn-pri">Save</button>',G=b(),ae(V.$$.fragment),a(i,"type","hidden"),a(i,"name","s"),i.value="true",a(u,"class","text-sm"),h.__value=1,h.value=h.__value,d.__value=2,d.value=d.__value,a(v,"name","sc"),a(v,"class","in-s"),t[2]===void 0&&Ze(()=>t[5].call(v)),a(r,"class","my-3"),a(P,"name","sh"),a(P,"type","text"),a(P,"class","in-s"),a(P,"maxlength","32"),a(P,"pattern","[a-z0-9_-]+"),a(P,"placeholder","Optional, ex.: ams-reader"),a(P,"autocomplete","off"),a(w,"type","checkbox"),a(w,"name","sm"),w.__value="static",w.value=w.__value,a(w,"class","rounded mb-1"),a(I,"class","my-3"),a(H,"class","my-3"),a(n,"class","cnt"),a(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(me,Y){M(me,e,Y),s(e,n),s(n,l),s(l,i),s(l,o),s(l,u),s(l,m),s(l,r),s(r,f),s(r,p),s(r,_),s(r,v),s(v,h),s(v,d),W&&W.m(v,null),Te(v,t[2],!0),s(l,g),x&&x.m(l,null),s(l,k),s(l,A),s(A,T),s(A,P),ue(P,t[0].hostname),s(l,F),s(l,I),s(I,R),s(R,w),w.checked=t[1],s(R,$),s(I,ie),_e&&_e.m(I,null),s(l,j),ne&&ne.m(l,null),s(l,U),s(l,H),M(me,G,Y),se(V,me,Y),K=!0,Z||(z=[Q(v,"change",t[5]),Q(P,"input",t[6]),Q(w,"change",t[7]),Q(l,"submit",Ti(t[4]))],Z=!0)},p(me,[Y]){me[0].if&&me[0].if.eth?W||(W=u1(),W.c(),W.m(v,null)):W&&(W.d(1),W=null),Y&4&&Te(v,me[2]),me[2]==1||me[2]==2?x?x.p(me,Y):(x=f1(me),x.c(),x.m(l,k)):x&&(x.d(1),x=null),Y&1&&P.value!==me[0].hostname&&ue(P,me[0].hostname),Y&2&&(w.checked=me[1]),me[1]?_e?(_e.p(me,Y),Y&2&&L(_e,1)):(_e=c1(me),_e.c(),L(_e,1),_e.m(I,null)):_e&&($e(),q(_e,1,1,()=>{_e=null}),De()),me[1]?ne||(ne=m1(),ne.c(),ne.m(l,U)):ne&&(ne.d(1),ne=null);const ke={};Y&8&&(ke.active=me[3]),V.$set(ke)},i(me){K||(L(_e),L(V.$$.fragment,me),K=!0)},o(me){q(_e),q(V.$$.fragment,me),K=!1},d(me){me&&y(e),W&&W.d(),x&&x.d(),_e&&_e.d(),ne&&ne.d(),me&&y(G),oe(V,me),Z=!1,nt(z)}}}function bp(t,e,n){let{sysinfo:l={}}=e,i=!1,o=1,u=!1,m=0;function r(){var h="";m++;var d=function(){setTimeout(r,1e3)};if(l.net.ip&&m%3==0){if(!l.net.ip){d();return}h="http://"+l.net.ip}else l.hostname&&m%3==1?h="http://"+l.hostname:l.hostname&&m%3==2?h="http://"+l.hostname+".local":h="";console&&console.log("Trying url "+h),Yt.update(k=>(k.trying=h,k));var g=new XMLHttpRequest;g.timeout=5e3,g.addEventListener("abort",d),g.addEventListener("error",d),g.addEventListener("timeout",d),g.addEventListener("load",function(k){window.location.href=h||"/"}),g.open("GET",h+"/is-alive",!0),g.send()}async function f(h){n(3,u=!0);const d=new FormData(h.target),g=new URLSearchParams;for(let T of d){const[P,F]=T;g.append(P,F)}let A=await(await fetch("save",{method:"POST",body:g})).json();n(3,u=!1),Yt.update(T=>(T.hostname=d.get("sh"),T.usrcfg=A.success,T.booting=A.reboot,i&&(T.net.ip=d.get("si"),T.net.mask=d.get("su"),T.net.gw=d.get("sg"),T.net.dns1=d.get("sd")),setTimeout(r,5e3),T))}function p(){o=ot(this),n(2,o)}function _(){l.hostname=this.value,n(0,l)}function v(){i=this.checked,n(1,i)}return t.$$set=h=>{"sysinfo"in h&&n(0,l=h.sysinfo)},[l,i,o,u,f,p,_,v]}class gp extends We{constructor(e){super(),He(this,e,bp,vp,Be,{sysinfo:0})}}function kp(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A;return d=new Tt({props:{active:t[2],message:"Uploading file, please wait"}}),{c(){e=c("div"),n=c("div"),l=c("strong"),i=E("Upload "),o=E(t[1]),u=b(),m=c("p"),m.textContent="Select a suitable file and click upload",r=b(),f=c("form"),p=c("input"),_=b(),v=c("div"),v.innerHTML='<button type="submit" class="btn-pri">Upload</button>',h=b(),ae(d.$$.fragment),a(m,"class","mb-4"),a(p,"name","file"),a(p,"type","file"),a(v,"class","w-full text-right mt-4"),a(f,"action",t[0]),a(f,"enctype","multipart/form-data"),a(f,"method","post"),a(f,"autocomplete","off"),a(n,"class","cnt"),a(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(T,P){M(T,e,P),s(e,n),s(n,l),s(l,i),s(l,o),s(n,u),s(n,m),s(n,r),s(n,f),s(f,p),s(f,_),s(f,v),M(T,h,P),se(d,T,P),g=!0,k||(A=Q(f,"submit",t[3]),k=!0)},p(T,[P]){(!g||P&2)&&X(o,T[1]),(!g||P&1)&&a(f,"action",T[0]);const F={};P&4&&(F.active=T[2]),d.$set(F)},i(T){g||(L(d.$$.fragment,T),g=!0)},o(T){q(d.$$.fragment,T),g=!1},d(T){T&&y(e),T&&y(h),oe(d,T),k=!1,A()}}}function wp(t,e,n){let{action:l}=e,{title:i}=e,o=!1;const u=()=>n(2,o=!0);return t.$$set=m=>{"action"in m&&n(0,l=m.action),"title"in m&&n(1,i=m.title)},[l,i,o,u]}class Ao extends We{constructor(e){super(),He(this,e,wp,kp,Be,{action:0,title:1})}}function Cp(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I,R,w,$,ie,j,U,H,G,V,K;return H=new Tt({props:{active:t[1],message:"Saving preferences"}}),{c(){e=c("div"),n=c("div"),l=c("form"),i=c("div"),i.textContent="Various permissions we need to do stuff:",o=b(),u=c("hr"),m=b(),r=c("div"),f=E("Enable one-click upgrade? (implies data collection)"),p=c("br"),_=b(),v=c("a"),h=E("Read more"),d=c("br"),g=b(),k=c("label"),A=c("input"),P=E(" Yes"),F=c("label"),I=c("input"),w=E(" No"),$=c("br"),ie=b(),j=c("div"),j.innerHTML='<button type="submit" class="btn-pri">Save</button>',U=b(),ae(H.$$.fragment),a(v,"href",jt("Data-collection-on-one-click-firmware-upgrade")),a(v,"target","_blank"),a(v,"class","text-blue-600 hover:text-blue-800"),a(A,"type","radio"),a(A,"name","sf"),A.value=1,A.checked=T=t[0].fwconsent===1,a(A,"class","rounded m-2"),A.required=!0,a(I,"type","radio"),a(I,"name","sf"),I.value=2,I.checked=R=t[0].fwconsent===2,a(I,"class","rounded m-2"),I.required=!0,a(r,"class","my-3"),a(j,"class","my-3"),a(l,"autocomplete","off"),a(n,"class","cnt"),a(e,"class","grid xl:grid-cols-3 lg:grid-cols-2")},m(Z,z){M(Z,e,z),s(e,n),s(n,l),s(l,i),s(l,o),s(l,u),s(l,m),s(l,r),s(r,f),s(r,p),s(r,_),s(r,v),s(v,h),s(r,d),s(r,g),s(r,k),s(k,A),s(k,P),s(r,F),s(F,I),s(F,w),s(r,$),s(l,ie),s(l,j),M(Z,U,z),se(H,Z,z),G=!0,V||(K=Q(l,"submit",Ti(t[2])),V=!0)},p(Z,[z]){(!G||z&1&&T!==(T=Z[0].fwconsent===1))&&(A.checked=T),(!G||z&1&&R!==(R=Z[0].fwconsent===2))&&(I.checked=R);const W={};z&2&&(W.active=Z[1]),H.$set(W)},i(Z){G||(L(H.$$.fragment,Z),G=!0)},o(Z){q(H.$$.fragment,Z),G=!1},d(Z){Z&&y(e),Z&&y(U),oe(H,Z),V=!1,K()}}}function yp(t,e,n){let{basepath:l="/"}=e,{sysinfo:i={}}=e,o=!1;async function u(m){n(1,o=!0);const r=new FormData(m.target),f=new URLSearchParams;for(let v of r){const[h,d]=v;f.append(h,d)}let _=await(await fetch("save",{method:"POST",body:f})).json();n(1,o=!1),Yt.update(v=>(v.fwconsent=r.sf===!0?1:r.sf===!1?2:0,v.booting=_.reboot,v)),cn(l)}return t.$$set=m=>{"basepath"in m&&n(3,l=m.basepath),"sysinfo"in m&&n(0,i=m.sysinfo)},[i,o,u,l]}class Mp extends We{constructor(e){super(),He(this,e,yp,Cp,Be,{basepath:3,sysinfo:0})}}function _1(t,e,n){const l=t.slice();return l[23]=e[n],l[24]=e,l[25]=n,l}function p1(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function Sp(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function d1(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function Tp(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function h1(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function v1(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function b1(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function g1(t,e,n){const l=t.slice();return l[26]=e[n],l[28]=n,l}function k1(t){let e,n,l=t[0].o,i=[];for(let u=0;u<l.length;u+=1)i[u]=N1(_1(t,l,u));const o=u=>q(i[u],1,1,()=>{i[u]=null});return{c(){for(let u=0;u<i.length;u+=1)i[u].c();e=it()},m(u,m){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(u,m);M(u,e,m),n=!0},p(u,m){if(m[0]&169){l=u[0].o;let r;for(r=0;r<l.length;r+=1){const f=_1(u,l,r);i[r]?(i[r].p(f,m),L(i[r],1)):(i[r]=N1(f),i[r].c(),L(i[r],1),i[r].m(e.parentNode,e))}for($e(),r=l.length;r<i.length;r+=1)o(r);De()}},i(u){if(!n){for(let m=0;m<l.length;m+=1)L(i[m]);n=!0}},o(u){i=i.filter(Boolean);for(let m=0;m<i.length;m+=1)q(i[m]);n=!1},d(u){ft(i,u),u&&y(e)}}}function w1(t){let e,n=t[3][t[28]]+"",l,i,o,u;function m(){return t[13](t[23],t[28],t[24],t[25])}return{c(){e=c("span"),l=E(n),a(e,"class",i=t[23].a.includes(t[28])?"bd-on":"bd-off")},m(r,f){M(r,e,f),s(e,l),o||(u=Q(e,"click",m),o=!0)},p(r,f){t=r,f[0]&1&&i!==(i=t[23].a.includes(t[28])?"bd-on":"bd-off")&&a(e,"class",i)},d(r){r&&y(e),o=!1,u()}}}function C1(t){let e,n=t[28].toString().padStart(2,"0")+"",l,i,o,u;function m(){return t[14](t[23],t[28],t[24],t[25])}return{c(){e=c("span"),l=E(n),a(e,"class",i=t[23].h.includes(t[28])?"bd-on":"bd-off")},m(r,f){M(r,e,f),s(e,l),o||(u=Q(e,"click",m),o=!0)},p(r,f){t=r,f[0]&1&&i!==(i=t[23].h.includes(t[28])?"bd-on":"bd-off")&&a(e,"class",i)},d(r){r&&y(e),o=!1,u()}}}function y1(t){let e,n=(t[28]+8).toString().padStart(2,"0")+"",l,i,o,u;function m(){return t[15](t[23],t[28],t[24],t[25])}return{c(){e=c("span"),l=E(n),a(e,"class",i=t[23].h.includes(t[28]+8)?"bd-on":"bd-off")},m(r,f){M(r,e,f),s(e,l),o||(u=Q(e,"click",m),o=!0)},p(r,f){t=r,f[0]&1&&i!==(i=t[23].h.includes(t[28]+8)?"bd-on":"bd-off")&&a(e,"class",i)},d(r){r&&y(e),o=!1,u()}}}function M1(t){let e,n=(t[28]+16).toString().padStart(2,"0")+"",l,i,o,u;function m(){return t[16](t[23],t[28],t[24],t[25])}return{c(){e=c("span"),l=E(n),a(e,"class",i=t[23].h.includes(t[28]+16)?"bd-on":"bd-off")},m(r,f){M(r,e,f),s(e,l),o||(u=Q(e,"click",m),o=!0)},p(r,f){t=r,f[0]&1&&i!==(i=t[23].h.includes(t[28]+16)?"bd-on":"bd-off")&&a(e,"class",i)},d(r){r&&y(e),o=!1,u()}}}function Np(t){let e,n=t[28]+1+"",l;return{c(){e=c("option"),l=E(n),e.__value=t[28]+1,e.value=e.__value},m(i,o){M(i,e,o),s(e,l)},p:be,d(i){i&&y(e)}}}function S1(t){let e,n=Mi[t[28]]+"",l;return{c(){e=c("option"),l=E(n),e.__value=t[28]+1,e.value=e.__value},m(i,o){M(i,e,o),s(e,l)},p:be,d(i){i&&y(e)}}}function Ep(t){let e,n=t[28]+1+"",l;return{c(){e=c("option"),l=E(n),e.__value=t[28]+1,e.value=e.__value},m(i,o){M(i,e,o),s(e,l)},p:be,d(i){i&&y(e)}}}function T1(t){let e,n=Mi[t[28]]+"",l;return{c(){e=c("option"),l=E(n),e.__value=t[28]+1,e.value=e.__value},m(i,o){M(i,e,o),s(e,l)},p:be,d(i){i&&y(e)}}}function N1(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I,R,w,$,ie,j,U,H,G,V,K,Z,z,W,x,_e,ne,me,Y,ke,Ee,we,Me,te,fe,Oe,Ie,N,C,S,D,O,J,le,pe;function ge(){t[9].call(l,t[24],t[25])}function Ae(){t[10].call(u,t[24],t[25])}function Fe(){t[11].call(_,t[24],t[25])}function ce(){t[12].call(k,t[24],t[25])}let Pe={length:7},ze=[];for(let re=0;re<Pe.length;re+=1)ze[re]=w1(g1(t,Pe,re));let ct={length:8},Ke=[];for(let re=0;re<ct.length;re+=1)Ke[re]=C1(b1(t,ct,re));let rt={length:8},Ge=[];for(let re=0;re<rt.length;re+=1)Ge[re]=y1(v1(t,rt,re));let mt={length:8},Ue=[];for(let re=0;re<mt.length;re+=1)Ue[re]=M1(h1(t,mt,re));let Nt={length:31},_t=[];for(let re=0;re<Nt.length;re+=1)_t[re]=Np(Tp(t,Nt,re));function dt(){t[17].call(W,t[24],t[25])}let et={length:12},Re=[];for(let re=0;re<et.length;re+=1)Re[re]=S1(d1(t,et,re));function tt(){t[18].call(ne,t[24],t[25])}let Le={length:31},Je=[];for(let re=0;re<Le.length;re+=1)Je[re]=Ep(Sp(t,Le,re));function at(){t[19].call(we,t[24],t[25])}let qe={length:12},ye=[];for(let re=0;re<qe.length;re+=1)ye[re]=T1(p1(t,qe,re));function ve(){t[20].call(fe,t[24],t[25])}S=new Ss({});function de(){return t[21](t[25])}function Ve(){return t[22](t[25])}return{c(){e=c("div"),n=c("div"),l=c("input"),i=b(),o=c("div"),u=c("select"),m=c("option"),m.textContent="Import",r=c("option"),r.textContent="Export",f=c("option"),f.textContent="Both",p=b(),_=c("select"),v=c("option"),v.textContent="Fixed",h=c("option"),h.textContent="+",d=c("option"),d.textContent="%",g=b(),k=c("input"),A=b(),T=c("div"),P=c("span"),P.textContent="Days:",F=b(),I=c("div");for(let re=0;re<ze.length;re+=1)ze[re].c();R=b(),w=c("div"),$=c("span"),$.textContent="Hours:",ie=b(),j=c("div"),U=c("div");for(let re=0;re<Ke.length;re+=1)Ke[re].c();H=b(),G=c("div");for(let re=0;re<Ge.length;re+=1)Ge[re].c();V=b(),K=c("div");for(let re=0;re<Ue.length;re+=1)Ue[re].c();Z=b(),z=c("div"),W=c("select"),x=c("option"),x.textContent="-";for(let re=0;re<_t.length;re+=1)_t[re].c();_e=b(),ne=c("select"),me=c("option"),me.textContent="-";for(let re=0;re<Re.length;re+=1)Re[re].c();Y=b(),ke=c("input"),Ee=b(),we=c("select"),Me=c("option"),Me.textContent="-";for(let re=0;re<Je.length;re+=1)Je[re].c();te=b(),fe=c("select"),Oe=c("option"),Oe.textContent="-";for(let re=0;re<ye.length;re+=1)ye[re].c();Ie=b(),N=c("div"),C=c("span"),ae(S.$$.fragment),D=b(),O=c("hr"),a(l,"name","n"),a(l,"type","text"),a(l,"class","in-s"),a(n,"class","mr-3"),m.__value=1,m.value=m.__value,r.__value=2,r.value=r.__value,f.__value=3,f.value=f.__value,a(u,"name","rd"),a(u,"class","in-f"),t[23].d===void 0&&Ze(Ae),v.__value=0,v.value=v.__value,h.__value=1,h.value=h.__value,d.__value=2,d.value=d.__value,a(_,"name","rt"),a(_,"class","in-m"),t[23].t===void 0&&Ze(Fe),a(k,"name","rv"),a(k,"type","number"),a(k,"class","in-l tr"),ki(k,"width","100px"),a(k,"min","0.0001"),a(k,"max","99.9999"),a(k,"step","0.0001"),a(o,"class","flex mr-3"),a(P,"class","mr-2"),a(T,"class","flex flex-wrap mr-3"),a($,"class","mr-2"),a(w,"class","flex flex-wrap mr-3"),x.__value=0,x.value=x.__value,a(W,"name","rsm"),a(W,"class","in-f"),t[23].s.m===void 0&&Ze(dt),me.__value=0,me.value=me.__value,a(ne,"name","rsd"),a(ne,"class","in-m"),t[23].s.d===void 0&&Ze(tt),a(ke,"class","in-m"),ke.disabled=!0,ke.value="to",ki(ke,"width","20px"),ki(ke,"color","#888"),Me.__value=0,Me.value=Me.__value,a(we,"name","rem"),a(we,"class","in-m"),t[23].e.m===void 0&&Ze(at),Oe.__value=0,Oe.value=Oe.__value,a(fe,"name","red"),a(fe,"class","in-l"),t[23].e.d===void 0&&Ze(ve),a(z,"class","flex flex-wrap mr-3"),a(C,"class","text-red-500 text-xs"),a(N,"class","mt-1.5 ml-3"),a(e,"class","flex flex-wrap"),a(O,"class","m-3")},m(re,Qe){M(re,e,Qe),s(e,n),s(n,l),ue(l,t[23].n),s(e,i),s(e,o),s(o,u),s(u,m),s(u,r),s(u,f),Te(u,t[23].d,!0),s(o,p),s(o,_),s(_,v),s(_,h),s(_,d),Te(_,t[23].t,!0),s(o,g),s(o,k),ue(k,t[23].v),s(e,A),s(e,T),s(T,P),s(T,F),s(T,I);for(let ee=0;ee<ze.length;ee+=1)ze[ee]&&ze[ee].m(I,null);s(e,R),s(e,w),s(w,$),s(w,ie),s(w,j),s(j,U);for(let ee=0;ee<Ke.length;ee+=1)Ke[ee]&&Ke[ee].m(U,null);s(j,H),s(j,G);for(let ee=0;ee<Ge.length;ee+=1)Ge[ee]&&Ge[ee].m(G,null);s(j,V),s(j,K);for(let ee=0;ee<Ue.length;ee+=1)Ue[ee]&&Ue[ee].m(K,null);s(e,Z),s(e,z),s(z,W),s(W,x);for(let ee=0;ee<_t.length;ee+=1)_t[ee]&&_t[ee].m(W,null);Te(W,t[23].s.m,!0),s(z,_e),s(z,ne),s(ne,me);for(let ee=0;ee<Re.length;ee+=1)Re[ee]&&Re[ee].m(ne,null);Te(ne,t[23].s.d,!0),s(z,Y),s(z,ke),s(z,Ee),s(z,we),s(we,Me);for(let ee=0;ee<Je.length;ee+=1)Je[ee]&&Je[ee].m(we,null);Te(we,t[23].e.m,!0),s(z,te),s(z,fe),s(fe,Oe);for(let ee=0;ee<ye.length;ee+=1)ye[ee]&&ye[ee].m(fe,null);Te(fe,t[23].e.d,!0),s(e,Ie),s(e,N),s(N,C),se(S,C,null),M(re,D,Qe),M(re,O,Qe),J=!0,le||(pe=[Q(l,"input",ge),Q(u,"change",Ae),Q(_,"change",Fe),Q(k,"input",ce),Q(W,"change",dt),Q(ne,"change",tt),Q(we,"change",at),Q(fe,"change",ve),Q(C,"click",de),Q(C,"keypress",Ve)],le=!0)},p(re,Qe){if(t=re,Qe[0]&1&&l.value!==t[23].n&&ue(l,t[23].n),Qe[0]&1&&Te(u,t[23].d),Qe[0]&1&&Te(_,t[23].t),Qe[0]&1&&Se(k.value)!==t[23].v&&ue(k,t[23].v),Qe[0]&41){Pe={length:7};let ee;for(ee=0;ee<Pe.length;ee+=1){const st=g1(t,Pe,ee);ze[ee]?ze[ee].p(st,Qe):(ze[ee]=w1(st),ze[ee].c(),ze[ee].m(I,null))}for(;ee<ze.length;ee+=1)ze[ee].d(1);ze.length=Pe.length}if(Qe[0]&33){ct={length:8};let ee;for(ee=0;ee<ct.length;ee+=1){const st=b1(t,ct,ee);Ke[ee]?Ke[ee].p(st,Qe):(Ke[ee]=C1(st),Ke[ee].c(),Ke[ee].m(U,null))}for(;ee<Ke.length;ee+=1)Ke[ee].d(1);Ke.length=ct.length}if(Qe[0]&33){rt={length:8};let ee;for(ee=0;ee<rt.length;ee+=1){const st=v1(t,rt,ee);Ge[ee]?Ge[ee].p(st,Qe):(Ge[ee]=y1(st),Ge[ee].c(),Ge[ee].m(G,null))}for(;ee<Ge.length;ee+=1)Ge[ee].d(1);Ge.length=rt.length}if(Qe[0]&33){mt={length:8};let ee;for(ee=0;ee<mt.length;ee+=1){const st=h1(t,mt,ee);Ue[ee]?Ue[ee].p(st,Qe):(Ue[ee]=M1(st),Ue[ee].c(),Ue[ee].m(K,null))}for(;ee<Ue.length;ee+=1)Ue[ee].d(1);Ue.length=mt.length}if(Qe[0]&1&&Te(W,t[23].s.m),Qe&0){et={length:12};let ee;for(ee=0;ee<et.length;ee+=1){const st=d1(t,et,ee);Re[ee]?Re[ee].p(st,Qe):(Re[ee]=S1(st),Re[ee].c(),Re[ee].m(ne,null))}for(;ee<Re.length;ee+=1)Re[ee].d(1);Re.length=et.length}if(Qe[0]&1&&Te(ne,t[23].s.d),Qe[0]&1&&Te(we,t[23].e.m),Qe&0){qe={length:12};let ee;for(ee=0;ee<qe.length;ee+=1){const st=p1(t,qe,ee);ye[ee]?ye[ee].p(st,Qe):(ye[ee]=T1(st),ye[ee].c(),ye[ee].m(fe,null))}for(;ee<ye.length;ee+=1)ye[ee].d(1);ye.length=qe.length}Qe[0]&1&&Te(fe,t[23].e.d)},i(re){J||(L(S.$$.fragment,re),J=!0)},o(re){q(S.$$.fragment,re),J=!1},d(re){re&&y(e),ft(ze,re),ft(Ke,re),ft(Ge,re),ft(Ue,re),ft(_t,re),ft(Re,re),ft(Je,re),ft(ye,re),oe(S),re&&y(D),re&&y(O),le=!1,nt(pe)}}}function Pp(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I,R,w,$,ie,j;o=new Ut({});let U=t[0].o&&k1(t);return I=new Tt({props:{active:t[1],message:"Loading configuration"}}),w=new Tt({props:{active:t[2],message:"Saving configuration"}}),{c(){e=c("div"),n=c("strong"),n.textContent="Price configuration",l=b(),i=c("a"),ae(o.$$.fragment),u=b(),m=c("hr"),r=b(),f=c("form"),p=c("input"),_=b(),U&&U.c(),v=b(),h=c("div"),d=c("div"),g=c("button"),g.textContent="Add",k=b(),A=c("div"),T=b(),P=c("div"),P.innerHTML='<button type="submit" class="btn-pri">Save</button>',F=b(),ae(I.$$.fragment),R=b(),ae(w.$$.fragment),a(n,"class","text-sm"),a(i,"href",jt("Price-configuration")),a(i,"target","_blank"),a(i,"class","float-right"),a(m,"class","m-3"),a(p,"type","hidden"),a(p,"name","r"),p.value="true",a(g,"type","button"),a(g,"class","btn-pri"),a(A,"class","text-center"),a(P,"class","text-right"),a(h,"class","grid grid-cols-3"),a(f,"autocomplete","off"),a(e,"class","cnt")},m(H,G){M(H,e,G),s(e,n),s(e,l),s(e,i),se(o,i,null),s(e,u),s(e,m),s(e,r),s(e,f),s(f,p),s(f,_),U&&U.m(f,null),s(f,v),s(f,h),s(h,d),s(d,g),s(h,k),s(h,A),s(h,T),s(h,P),M(H,F,G),se(I,H,G),M(H,R,G),se(w,H,G),$=!0,ie||(j=[Q(g,"click",t[6]),Q(f,"submit",Ti(t[4]))],ie=!0)},p(H,G){H[0].o?U?(U.p(H,G),G[0]&1&&L(U,1)):(U=k1(H),U.c(),L(U,1),U.m(f,v)):U&&($e(),q(U,1,1,()=>{U=null}),De());const V={};G[0]&2&&(V.active=H[1]),I.$set(V);const K={};G[0]&4&&(K.active=H[2]),w.$set(K)},i(H){$||(L(o.$$.fragment,H),L(U),L(I.$$.fragment,H),L(w.$$.fragment,H),$=!0)},o(H){q(o.$$.fragment,H),q(U),q(I.$$.fragment,H),q(w.$$.fragment,H),$=!1},d(H){H&&y(e),oe(o),U&&U.d(),H&&y(F),oe(I,H),H&&y(R),oe(w,H),ie=!1,nt(j)}}}function Ap(t,e,n){let{basepath:l="/"}=e,i=["mo","tu","we","th","fr","sa","su"],o={},u=!0,m=!1;w0.subscribe(j=>{j.o&&(n(0,o=j),n(1,u=!1))}),d_();async function r(j){n(2,m=!0);const U=new URLSearchParams;U.append("r","true"),U.append("rc",o.o.length),o.o.forEach(function(G,V){U.append("rt"+V,G.t),U.append("rn"+V,G.n),U.append("rd"+V,G.d),U.append("ra"+V,G.a),U.append("rh"+V,G.h),U.append("rv"+V,G.v),U.append("rsm"+V,G.s.m),U.append("rsd"+V,G.s.d),U.append("rem"+V,G.e.m),U.append("red"+V,G.e.d)}),await(await fetch("save",{method:"POST",body:U})).json(),n(2,m=!1),cn(l+"configuration")}let f=function(j,U){return j.includes(U)?j=j.filter(function(H){return H!==U}):j.push(U),j},p=function(){let j=o.o;j.push({t:1,n:"",d:3,a:[0,1,2,3,4,5,6,7],h:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],v:.001,s:{m:0,d:0},e:{m:0,d:0}}),n(0,o.o=j,o)},_=function(j){let U=o.o;U.splice(j,1),n(0,o.o=U,o)};function v(j,U){j[U].n=this.value,n(0,o)}function h(j,U){j[U].d=ot(this),n(0,o)}function d(j,U){j[U].t=ot(this),n(0,o)}function g(j,U){j[U].v=Se(this.value),n(0,o)}const k=(j,U,H,G)=>n(0,H[G].a=f(j.a,U),o),A=(j,U,H,G)=>n(0,H[G].h=f(j.h,U),o),T=(j,U,H,G)=>n(0,H[G].h=f(j.h,U+8),o),P=(j,U,H,G)=>n(0,H[G].h=f(j.h,U+16),o);function F(j,U){j[U].s.m=ot(this),n(0,o)}function I(j,U){j[U].s.d=ot(this),n(0,o)}function R(j,U){j[U].e.m=ot(this),n(0,o)}function w(j,U){j[U].e.d=ot(this),n(0,o)}const $=j=>_(j),ie=j=>_(j);return t.$$set=j=>{"basepath"in j&&n(8,l=j.basepath)},[o,u,m,i,r,f,p,_,l,v,h,d,g,k,A,T,P,F,I,R,w,$,ie]}class $p extends We{constructor(e){super(),He(this,e,Ap,Pp,Be,{basepath:8},null,[-1,-1])}}function Dp(t){let e,n;return e=new __({props:{data:t[2],sysinfo:t[1]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&4&&(o.data=l[2]),i&2&&(o.sysinfo=l[1]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Lp(t){let e,n;return e=new J_({props:{sysinfo:t[1],basepath:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.sysinfo=l[1]),i&1&&(o.basepath=l[0]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Ip(t){let e,n;return e=new $p({props:{basepath:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&1&&(o.basepath=l[0]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Rp(t){let e,n;return e=new fp({props:{sysinfo:t[1],data:t[2]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.sysinfo=l[1]),i&4&&(o.data=l[2]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Fp(t){let e,n;return e=new Ao({props:{title:"CA",action:"/mqtt-ca"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:be,i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Op(t){let e,n;return e=new Ao({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:be,i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function qp(t){let e,n;return e=new Ao({props:{title:"private key",action:"/mqtt-key"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:be,i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Bp(t){let e,n;return e=new Mp({props:{sysinfo:t[1],basepath:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.sysinfo=l[1]),i&1&&(o.basepath=l[0]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Up(t){let e,n;return e=new gp({props:{sysinfo:t[1]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.sysinfo=l[1]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function jp(t){let e,n;return e=new hp({props:{sysinfo:t[1],basepath:t[0]}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.sysinfo=l[1]),i&1&&(o.basepath=l[0]),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Hp(t){let e,n,l,i,o,u,m,r,f,p,_,v,h,d,g,k,A,T,P,F,I,R;return e=new Mm({props:{data:t[2],basepath:t[0]}}),l=new vl({props:{path:"/",$$slots:{default:[Dp]},$$scope:{ctx:t}}}),o=new vl({props:{path:"/configuration",$$slots:{default:[Lp]},$$scope:{ctx:t}}}),m=new vl({props:{path:"/priceconfig",$$slots:{default:[Ip]},$$scope:{ctx:t}}}),f=new vl({props:{path:"/status",$$slots:{default:[Rp]},$$scope:{ctx:t}}}),_=new vl({props:{path:"/mqtt-ca",$$slots:{default:[Fp]},$$scope:{ctx:t}}}),h=new vl({props:{path:"/mqtt-cert",$$slots:{default:[Op]},$$scope:{ctx:t}}}),g=new vl({props:{path:"/mqtt-key",$$slots:{default:[qp]},$$scope:{ctx:t}}}),A=new vl({props:{path:"/consent",$$slots:{default:[Bp]},$$scope:{ctx:t}}}),P=new vl({props:{path:"/setup",$$slots:{default:[Up]},$$scope:{ctx:t}}}),I=new vl({props:{path:"/vendor",$$slots:{default:[jp]},$$scope:{ctx:t}}}),{c(){ae(e.$$.fragment),n=b(),ae(l.$$.fragment),i=b(),ae(o.$$.fragment),u=b(),ae(m.$$.fragment),r=b(),ae(f.$$.fragment),p=b(),ae(_.$$.fragment),v=b(),ae(h.$$.fragment),d=b(),ae(g.$$.fragment),k=b(),ae(A.$$.fragment),T=b(),ae(P.$$.fragment),F=b(),ae(I.$$.fragment)},m(w,$){se(e,w,$),M(w,n,$),se(l,w,$),M(w,i,$),se(o,w,$),M(w,u,$),se(m,w,$),M(w,r,$),se(f,w,$),M(w,p,$),se(_,w,$),M(w,v,$),se(h,w,$),M(w,d,$),se(g,w,$),M(w,k,$),se(A,w,$),M(w,T,$),se(P,w,$),M(w,F,$),se(I,w,$),R=!0},p(w,$){const ie={};$&4&&(ie.data=w[2]),$&1&&(ie.basepath=w[0]),e.$set(ie);const j={};$&14&&(j.$$scope={dirty:$,ctx:w}),l.$set(j);const U={};$&11&&(U.$$scope={dirty:$,ctx:w}),o.$set(U);const H={};$&9&&(H.$$scope={dirty:$,ctx:w}),m.$set(H);const G={};$&14&&(G.$$scope={dirty:$,ctx:w}),f.$set(G);const V={};$&8&&(V.$$scope={dirty:$,ctx:w}),_.$set(V);const K={};$&8&&(K.$$scope={dirty:$,ctx:w}),h.$set(K);const Z={};$&8&&(Z.$$scope={dirty:$,ctx:w}),g.$set(Z);const z={};$&11&&(z.$$scope={dirty:$,ctx:w}),A.$set(z);const W={};$&10&&(W.$$scope={dirty:$,ctx:w}),P.$set(W);const x={};$&11&&(x.$$scope={dirty:$,ctx:w}),I.$set(x)},i(w){R||(L(e.$$.fragment,w),L(l.$$.fragment,w),L(o.$$.fragment,w),L(m.$$.fragment,w),L(f.$$.fragment,w),L(_.$$.fragment,w),L(h.$$.fragment,w),L(g.$$.fragment,w),L(A.$$.fragment,w),L(P.$$.fragment,w),L(I.$$.fragment,w),R=!0)},o(w){q(e.$$.fragment,w),q(l.$$.fragment,w),q(o.$$.fragment,w),q(m.$$.fragment,w),q(f.$$.fragment,w),q(_.$$.fragment,w),q(h.$$.fragment,w),q(g.$$.fragment,w),q(A.$$.fragment,w),q(P.$$.fragment,w),q(I.$$.fragment,w),R=!1},d(w){oe(e,w),w&&y(n),oe(l,w),w&&y(i),oe(o,w),w&&y(u),oe(m,w),w&&y(r),oe(f,w),w&&y(p),oe(_,w),w&&y(v),oe(h,w),w&&y(d),oe(g,w),w&&y(k),oe(A,w),w&&y(T),oe(P,w),w&&y(F),oe(I,w)}}}function Wp(t){let e,n,l,i;const o=[Vp,Gp],u=[];function m(r,f){return r[1].trying?0:1}return e=m(t),n=u[e]=o[e](t),{c(){n.c(),l=it()},m(r,f){u[e].m(r,f),M(r,l,f),i=!0},p(r,f){let p=e;e=m(r),e===p?u[e].p(r,f):($e(),q(u[p],1,1,()=>{u[p]=null}),De(),n=u[e],n?n.p(r,f):(n=u[e]=o[e](r),n.c()),L(n,1),n.m(l.parentNode,l))},i(r){i||(L(n),i=!0)},o(r){q(n),i=!1},d(r){u[e].d(r),r&&y(l)}}}function zp(t){let e,n;return e=new Tt({props:{active:"true",message:"Device is upgrading, please wait"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:be,i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Gp(t){let e,n;return e=new Tt({props:{active:"true",message:"Device is booting, please wait"}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p:be,i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Vp(t){let e,n;return e=new Tt({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[1].trying}}),{c(){ae(e.$$.fragment)},m(l,i){se(e,l,i),n=!0},p(l,i){const o={};i&2&&(o.message="Device is booting, please wait. Trying to reach it on "+l[1].trying),e.$set(o)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){q(e.$$.fragment,l),n=!1},d(l){oe(e,l)}}}function Kp(t){let e,n,l,i,o,u;n=new t0({props:{basepath:t[0],$$slots:{default:[Hp]},$$scope:{ctx:t}}});const m=[zp,Wp],r=[];function f(p,_){return p[1].upgrading?0:p[1].booting?1:-1}return~(i=f(t))&&(o=r[i]=m[i](t)),{c(){e=c("div"),ae(n.$$.fragment),l=b(),o&&o.c(),a(e,"class","container mx-auto m-3")},m(p,_){M(p,e,_),se(n,e,null),s(e,l),~i&&r[i].m(e,null),u=!0},p(p,[_]){const v={};_&1&&(v.basepath=p[0]),_&15&&(v.$$scope={dirty:_,ctx:p}),n.$set(v);let h=i;i=f(p),i===h?~i&&r[i].p(p,_):(o&&($e(),q(r[h],1,1,()=>{r[h]=null}),De()),~i?(o=r[i],o?o.p(p,_):(o=r[i]=m[i](p),o.c()),L(o,1),o.m(e,null)):o=null)},i(p){u||(L(n.$$.fragment,p),L(o),u=!0)},o(p){q(n.$$.fragment,p),q(o),u=!1},d(p){p&&y(e),oe(n),~i&&r[i].d()}}}function Yp(t,e,n){let l=document.getElementsByTagName("base")[0].getAttribute("href");l||(l="/");let i={};Yt.subscribe(u=>{n(1,i=u),i.vndcfg===!1?cn(l+"vendor"):i.usrcfg===!1?cn(l+"setup"):i.fwconsent===0&&cn(l+"consent"),i.ui.k===1?(console.log("dark"),document.documentElement.classList.add("dark")):i.ui.k===0?(console.log("light"),document.documentElement.classList.remove("dark")):window.matchMedia("(prefers-color-scheme: dark)").matches?(console.log("dark auto"),document.documentElement.classList.add("dark")):(console.log("light auto"),document.documentElement.classList.remove("dark"))}),Mo();let o={};return o0.subscribe(u=>{n(2,o=u)}),[l,i,o]}class Qp extends We{constructor(e){super(),He(this,e,Yp,Kp,Be,{})}}new Qp({target:document.getElementById("app")});
